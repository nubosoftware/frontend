(self["webpackChunknubo_admin"]=self["webpackChunknubo_admin"]||[]).push([[443],{88755:function(t,e,a){
/*!
 * artplayer.js v4.3.7
 * Github: https://github.com/zhw2590582/ArtPlayer#readme
 * (c) 2017-2022 Harvey Zack
 * Released under the MIT License.
 */
!function(e,a){t.exports=a()}(0,(function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o(t,e){return o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},o(t,e)}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o(t,e)}function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function l(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return i(t)}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}!function(t,e){void 0===e&&(e={});var a=e.insertAt;if(t&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===a&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}('.art-video-player{zoom:1;-webkit-tap-highlight-color:rgba(0,0,0,0);-ms-high-contrast-adjust:none;background-color:#000;color:#eee;direction:ltr;display:flex;font-family:Roboto,Arial,Helvetica,sans-serif;font-size:14px;height:100%;line-height:1.3;margin:0 auto;outline:0;position:relative;text-align:left;touch-action:manipulation;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:100%;z-index:20}.art-video-player *{box-sizing:border-box;margin:0;padding:0}.art-video-player ::-webkit-scrollbar{height:5px;width:5px}.art-video-player ::-webkit-scrollbar-thumb{background-color:#666}.art-video-player ::-webkit-scrollbar-thumb:hover{background-color:#ccc}.art-video-player .art-icon{align-items:center;display:inline-flex;justify-content:center;line-height:1.5}.art-video-player .art-icon svg{fill:#fff}.art-video-player img{max-width:100%;vertical-align:top}@supports ((-webkit-backdrop-filter:initial) or (backdrop-filter:initial)){.art-video-player .art-backdrop-filter{-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px);background-color:rgba(0,0,0,.7)!important}}.art-video-player .art-video{background-color:#000;cursor:pointer;z-index:10}.art-video-player .art-poster,.art-video-player .art-video{bottom:0;height:100%;left:0;position:absolute;right:0;top:0;width:100%}.art-video-player .art-poster{background-position:50%;background-repeat:no-repeat;background-size:cover;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:11}.art-video-player .art-subtitle{bottom:10px;color:#fff;display:none;font-size:20px;padding:0 20px;pointer-events:none;position:absolute;text-align:center;text-shadow:.5px .5px .5px rgba(0,0,0,.5);width:100%;z-index:20}.art-video-player .art-subtitle p{height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;line-height:1.2;margin:5px 0 0;word-break:break-all}.art-video-player.art-subtitle-show .art-subtitle{display:block}.art-video-player.art-control-show .art-subtitle{bottom:50px}.art-video-player .art-danmuku{z-index:30}.art-video-player .art-danmuku,.art-video-player .art-layers{bottom:0;height:100%;left:0;overflow:hidden;pointer-events:none;position:absolute;right:0;top:0;width:100%}.art-video-player .art-layers{display:none;z-index:40}.art-video-player .art-layers .art-layer{pointer-events:auto}.art-video-player.art-layer-show .art-layers{display:block}.art-video-player .art-mask{align-items:center;bottom:0;display:none;height:100%;justify-content:center;left:0;overflow:hidden;pointer-events:none;position:absolute;right:0;top:0;width:100%;z-index:50}.art-video-player .art-mask .art-state{align-items:center;bottom:65px;cursor:pointer;display:flex;height:60px;justify-content:center;opacity:.85;pointer-events:all;position:absolute;right:30px;width:60px}.art-video-player.art-mask-show .art-mask{display:flex}.art-video-player.art-mobile .art-state{position:static}.art-video-player .art-loading{align-items:center;bottom:0;display:none;height:100%;justify-content:center;left:0;pointer-events:none;position:absolute;right:0;top:0;width:100%;z-index:70}.art-video-player.art-loading-show .art-loading{display:flex}.art-video-player .art-bottom{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==) repeat-x bottom;bottom:0;display:flex;flex-direction:column;height:100px;justify-content:space-between;left:0;opacity:0;padding:50px 10px 0;pointer-events:none;position:absolute;right:0;transition:all .2s ease-in-out;visibility:hidden;z-index:60}.art-video-player .art-bottom .art-progress{pointer-events:auto;position:relative;z-index:0}.art-video-player .art-bottom .art-progress .art-control-progress{align-items:center;cursor:pointer;display:flex;flex-direction:row;height:4px;position:relative}.art-video-player .art-bottom .art-progress .art-control-progress .art-control-progress-inner{align-items:center;background:hsla(0,0%,100%,.2);display:flex;height:50%;position:relative;width:100%}.art-video-player .art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-loaded{background:hsla(0,0%,100%,.4);bottom:0;height:100%;left:0;position:absolute;right:0;top:0;width:0;z-index:10}.art-video-player .art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-played{bottom:0;height:100%;left:0;position:absolute;right:0;top:0;width:0;z-index:20}.art-video-player .art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-highlight{bottom:0;height:100%;left:0;pointer-events:none;position:absolute;right:0;top:0;z-index:30}.art-video-player .art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-highlight span{background:#fff;display:inline-block;height:100%;left:0;pointer-events:auto;position:absolute;top:0;width:7px}.art-video-player .art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-indicator{align-items:center;border-radius:50%;justify-content:center;position:absolute;transform:scale(.1);transition:transform .1s ease-in-out;visibility:hidden;z-index:40}.art-video-player .art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-indicator .art-icon{height:100%;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:100%}.art-video-player .art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-tip{background:rgba(0,0,0,.7);border-radius:3px;color:#fff;display:none;font-size:12px;font-weight:700;height:20px;left:0;line-height:20px;padding:0 5px;position:absolute;text-align:center;top:-25px;white-space:nowrap;z-index:50}.art-video-player .art-bottom .art-progress .art-control-thumbnails{background-color:rgba(0,0,0,.7);bottom:8px;display:none;left:0;pointer-events:none;position:absolute}.art-video-player .art-bottom .art-progress .art-control-loop{bottom:0;display:none;height:100%;left:0;pointer-events:none;position:absolute;right:0;top:0;width:100%}.art-video-player .art-bottom .art-progress .art-control-loop .art-loop-point{background:hsla(0,0%,100%,.75);height:8px;left:0;position:absolute;top:-2px;width:2px}.art-video-player .art-bottom .art-controls{align-items:center;display:flex;height:45px;justify-content:space-between;pointer-events:auto;position:relative;z-index:1}.art-video-player .art-bottom .art-controls .art-controls-left,.art-video-player .art-bottom .art-controls .art-controls-right{display:flex}.art-video-player .art-bottom .art-controls .art-control{align-items:center;cursor:pointer;display:flex;font-size:12px;line-height:1;min-height:36px;min-width:36px;opacity:.9;text-align:center;white-space:nowrap}.art-video-player .art-bottom .art-controls .art-control .art-icon{align-items:center;display:flex;float:left;height:36px;justify-content:center;width:36px}.art-video-player .art-bottom .art-controls .art-control:hover{opacity:1}.art-video-player .art-bottom .art-controls .art-control-onlyText{padding:0 10px}.art-video-player .art-bottom .art-controls .art-control-volume .art-volume-panel{float:left;height:100%;overflow:hidden;position:relative;transition:margin .2s cubic-bezier(.4,0,1,1),width .2s cubic-bezier(.4,0,1,1);width:0}.art-video-player .art-bottom .art-controls .art-control-volume .art-volume-panel .art-volume-slider-handle{background:#fff;border-radius:12px;height:12px;left:0;margin-top:-6px;position:absolute;top:50%;width:12px}.art-video-player .art-bottom .art-controls .art-control-volume .art-volume-panel .art-volume-slider-handle:before{background:#fff;left:-54px}.art-video-player .art-bottom .art-controls .art-control-volume .art-volume-panel .art-volume-slider-handle:after{background:hsla(0,0%,100%,.2);left:6px}.art-video-player .art-bottom .art-controls .art-control-volume .art-volume-panel .art-volume-slider-handle:after,.art-video-player .art-bottom .art-controls .art-control-volume .art-volume-panel .art-volume-slider-handle:before{content:"";display:block;height:3px;margin-top:-2px;position:absolute;top:50%;width:60px}.art-video-player .art-bottom .art-controls .art-control-volume:hover .art-volume-panel{width:60px}.art-video-player .art-bottom .art-controls .art-control-quality{position:relative;z-index:30}.art-video-player .art-bottom .art-controls .art-control-quality .art-qualitys{background:rgba(0,0,0,.8);border-radius:3px;bottom:35px;color:#fff;display:none;padding:5px 0;position:absolute;text-align:center;width:100px}.art-video-player .art-bottom .art-controls .art-control-quality .art-qualitys .art-quality-item{height:30px;line-height:30px;overflow:hidden;text-overflow:ellipsis;text-shadow:0 0 2px rgba(0,0,0,.5);white-space:nowrap}.art-video-player .art-bottom .art-controls .art-control-quality .art-qualitys .art-quality-item:hover{background-color:hsla(0,0%,100%,.1)}.art-video-player .art-bottom .art-controls .art-control-quality:hover .art-qualitys{display:block}.art-video-player .art-bottom:hover .art-progress .art-control-progress .art-control-progress-inner{height:100%}.art-video-player .art-bottom:hover .art-progress .art-control-progress .art-control-progress-inner .art-progress-indicator{transform:scale(1);visibility:visible}.art-video-player.art-control-show .art-bottom,.art-video-player.art-hover .art-bottom{opacity:1;visibility:visible}.art-video-player.art-destroy .art-progress-indicator,.art-video-player.art-destroy .art-progress-tip,.art-video-player.art-error .art-progress-indicator,.art-video-player.art-error .art-progress-tip{display:none!important}.art-video-player.art-mobile .art-progress-indicator{transform:scale(1)!important;visibility:visible!important}.art-video-player .art-notice{display:none;font-size:14px;left:0;padding:10px;pointer-events:none;position:absolute;top:0;width:100%;z-index:80}.art-video-player .art-notice .art-notice-inner{background-color:rgba(0,0,0,.6);border-radius:3px;color:#fff;display:inline-block;padding:5px 10px}.art-video-player.art-notice-show .art-notice{display:flex}.art-video-player .art-contextmenus{background-color:rgba(0,0,0,.9);border-radius:3px;display:none;flex-direction:column;left:10px;min-width:200px;padding:5px 0;position:absolute;top:10px;z-index:120}.art-video-player .art-contextmenus .art-contextmenu{border-bottom:1px solid hsla(0,0%,100%,.1);color:#fff;cursor:pointer;display:block;font-size:12px;overflow:hidden;padding:10px 15px;text-overflow:ellipsis;text-shadow:0 0 2px rgba(0,0,0,.5);white-space:nowrap}.art-video-player .art-contextmenus .art-contextmenu a{color:#fff;text-decoration:none}.art-video-player .art-contextmenus .art-contextmenu span{display:inline-block;padding:0 7px}.art-video-player .art-contextmenus .art-contextmenu span.art-current,.art-video-player .art-contextmenus .art-contextmenu span:hover{color:#00c9ff}.art-video-player .art-contextmenus .art-contextmenu:hover{background-color:hsla(0,0%,100%,.1)}.art-video-player .art-contextmenus .art-contextmenu:last-child{border-bottom:none}.art-video-player.art-contextmenu-show .art-contextmenus{display:flex}.art-video-player .art-settings{background-color:rgba(0,0,0,.9);border-radius:3px;bottom:50px;display:none;font-size:13px;max-height:300px;overflow:auto;position:absolute;right:10px;transition:all .2s ease;z-index:90}.art-video-player .art-settings .art-setting-panel{display:none}.art-video-player .art-settings .art-setting-panel.art-current{display:block}.art-video-player .art-settings .art-setting-panel .art-setting-item{align-items:center;color:hsla(0,0%,100%,.8);cursor:pointer;display:flex;height:35px;justify-content:space-between;line-height:1;overflow:hidden;padding:0 5px}.art-video-player .art-settings .art-setting-panel .art-setting-item.art-current,.art-video-player .art-settings .art-setting-panel .art-setting-item:hover{background-color:hsla(0,0%,100%,.1);color:#fff}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-icon{align-items:center;display:flex;height:30px;justify-content:center;width:30px}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-icon-check{height:15px;visibility:hidden}.art-video-player .art-settings .art-setting-panel .art-setting-item.art-current .art-icon-check{visibility:visible}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-setting-item-left{align-items:center;display:flex;white-space:nowrap}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-setting-item-left .art-setting-item-left-icon{align-items:center;display:flex;height:24px;justify-content:center;margin-right:10px;width:24px}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-setting-item-right{align-items:center;display:flex}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-setting-item-right .art-setting-item-right-tooltip{color:hsla(0,0%,100%,.5);font-size:12px;white-space:nowrap}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-setting-item-right .art-setting-item-right-icon{align-items:center;display:flex;height:24px;justify-content:center;width:24px}.art-video-player .art-settings .art-setting-panel .art-setting-item-back{border-bottom:1px solid hsla(0,0%,100%,.1)}.art-video-player.art-setting-show .art-settings{display:block}.art-video-player.art-mobile .art-settings{max-height:200px;transform:scale(.9);transform-origin:right bottom}.art-video-player .art-info{-webkit-font-smoothing:antialiased;background-color:rgba(0,0,0,.9);color:#fff;display:none;flex-direction:column;font-family:Noto Sans CJK SC DemiLight,Roboto,Segoe UI,Tahoma,Arial,Helvetica,sans-serif;font-size:12px;left:10px;padding:10px;position:absolute;top:10px;width:350px;z-index:100}.art-video-player .art-info .art-info-item{display:flex;margin-bottom:5px}.art-video-player .art-info .art-info-item .art-info-title{text-align:right;width:100px}.art-video-player .art-info .art-info-item .art-info-content{flex:1;overflow:hidden;padding-left:5px;text-overflow:ellipsis;white-space:nowrap}.art-video-player .art-info .art-info-item:last-child{margin-bottom:0}.art-video-player .art-info .art-info-close{cursor:pointer;position:absolute;right:5px;top:5px}.art-video-player.art-info-show .art-info{display:flex}.art-video-player.art-hide-cursor *{cursor:none!important}.art-video-player[data-aspect-ratio] video{box-sizing:content-box;-o-object-fit:fill;object-fit:fill}.art-video-player.art-fullscreen-web{bottom:0;height:100%!important;left:0;position:fixed;right:0;top:0;width:100%!important;z-index:9999}.art-fullscreen-rotate{background-color:#000;bottom:0;height:100%;left:0;position:fixed;right:0;top:0;width:100%;z-index:9999}.art-video-player .art-mini-header{align-items:center;background-color:rgba(0,0,0,.5);color:#fff;display:none;height:35px;justify-content:space-between;left:0;line-height:35px;opacity:0;position:absolute;right:0;top:0;transition:all .2s ease-in-out;visibility:hidden;z-index:110}.art-video-player .art-mini-header .art-mini-title{cursor:move;flex:1;overflow:hidden;padding:0 10px;text-overflow:ellipsis;white-space:nowrap}.art-video-player .art-mini-header .art-mini-close{cursor:pointer;font-size:22px;text-align:center;width:35px}.art-video-player.art-is-dragging{opacity:.7}.art-video-player.art-mini{box-shadow:0 2px 5px 0 rgba(0,0,0,.16),0 3px 6px 0 rgba(0,0,0,.2);height:225px;position:fixed;width:400px;z-index:9999}.art-video-player.art-mini .art-mini-header{display:flex;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.art-video-player.art-mini.art-hover .art-mini-header{opacity:1;visibility:visible}.art-video-player.art-mini .art-mask .art-state{position:static}.art-video-player.art-mini .art-bottom,.art-video-player.art-mini .art-contextmenu,.art-video-player.art-mini .art-danmu,.art-video-player.art-mini .art-info,.art-video-player.art-mini .art-layers,.art-video-player.art-mini .art-notice,.art-video-player.art-mini .art-setting,.art-video-player.art-mini .art-subtitle{display:none!important}.art-auto-size{align-items:center;display:flex;justify-content:center}.art-video-player[data-flip=horizontal] .art-video{transform:scaleX(-1)}.art-video-player[data-flip=vertical] .art-video{transform:scaleY(-1)}.art-video-player .art-layer-lock{align-items:center;background-color:rgba(0,0,0,.5);border-radius:50%;color:#fff;display:none;height:34px;justify-content:center;left:15px;position:absolute;top:calc(50% - 17px);width:34px}.art-video-player.art-control-show .art-layer-lock{display:flex}.art-video-player.art-lock .art-bottom{display:none!important}.art-video-player.art-lock .art-subtitle{bottom:10px!important}.art-video-player .art-control-selector{position:relative}.art-video-player .art-control-selector .art-selector-list{background-color:rgba(0,0,0,.8);border-radius:3px;bottom:35px;color:#fff;display:none;max-height:200px;max-width:200px;min-width:100px;overflow:auto;padding:5px 0;position:absolute;text-align:center}.art-video-player .art-control-selector .art-selector-list .art-selector-item{height:30px;line-height:30px;overflow:hidden;padding:0 5px;text-overflow:ellipsis;text-shadow:0 0 2px rgba(0,0,0,.5);white-space:nowrap}.art-video-player .art-control-selector .art-selector-list .art-selector-item:hover{background-color:hsla(0,0%,100%,.1)}.art-video-player .art-control-selector .art-selector-list .art-selector-item.art-current,.art-video-player .art-control-selector .art-selector-list .art-selector-item:hover{color:#00c9ff}.art-video-player .art-control-selector:hover .art-selector-list{display:block}:root{--balloon-color:hsla(0,0%,6%,.95);--balloon-font-size:12px;--balloon-move:4px}button[aria-label][data-balloon-pos]{overflow:visible}[aria-label][data-balloon-pos]{cursor:pointer;position:relative}[aria-label][data-balloon-pos]:after{background:var(--balloon-color);border-radius:2px;color:#fff;content:attr(aria-label);font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;font-size:var(--balloon-font-size);font-style:normal;font-weight:400;line-height:1.2;padding:.5em 1em;text-indent:0;text-shadow:none;white-space:nowrap}[aria-label][data-balloon-pos]:after,[aria-label][data-balloon-pos]:before{opacity:0;pointer-events:none;position:absolute;transition:all .18s ease-out .18s;z-index:10}[aria-label][data-balloon-pos]:before{border:5px solid transparent;border-top:5px solid var(--balloon-color);content:"";height:0;width:0}[aria-label][data-balloon-pos]:hover:after,[aria-label][data-balloon-pos]:hover:before{opacity:1;pointer-events:none}[aria-label][data-balloon-pos][data-balloon-pos=up]:after{margin-bottom:10px}[aria-label][data-balloon-pos][data-balloon-pos=up]:after,[aria-label][data-balloon-pos][data-balloon-pos=up]:before{bottom:100%;left:50%;transform:translate(-50%,var(--balloon-move));transform-origin:top}[aria-label][data-balloon-pos][data-balloon-pos=up]:hover:after,[aria-label][data-balloon-pos][data-balloon-pos=up]:hover:before{transform:translate(-50%)}'),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof a.g?a.g:"undefined"!=typeof self&&self;var u={exports:{}};!function(t,e){t.exports=function(){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}var e=Object.prototype.toString,a=function(a){if(void 0===a)return"undefined";if(null===a)return"null";var i=t(a);if("boolean"===i)return"boolean";if("string"===i)return"string";if("number"===i)return"number";if("symbol"===i)return"symbol";if("function"===i)return function(t){return"GeneratorFunction"===n(t)}(a)?"generatorfunction":"function";if(function(t){return Array.isArray?Array.isArray(t):t instanceof Array}(a))return"array";if(function(t){return!(!t.constructor||"function"!=typeof t.constructor.isBuffer)&&t.constructor.isBuffer(t)}(a))return"buffer";if(function(t){try{if("number"==typeof t.length&&"function"==typeof t.callee)return!0}catch(t){if(-1!==t.message.indexOf("callee"))return!0}return!1}(a))return"arguments";if(function(t){return t instanceof Date||"function"==typeof t.toDateString&&"function"==typeof t.getDate&&"function"==typeof t.setDate}(a))return"date";if(function(t){return t instanceof Error||"string"==typeof t.message&&t.constructor&&"number"==typeof t.constructor.stackTraceLimit}(a))return"error";if(function(t){return t instanceof RegExp||"string"==typeof t.flags&&"boolean"==typeof t.ignoreCase&&"boolean"==typeof t.multiline&&"boolean"==typeof t.global}(a))return"regexp";switch(n(a)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(function(t){return"function"==typeof t.throw&&"function"==typeof t.return&&"function"==typeof t.next}(a))return"generator";switch(i=e.call(a)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return i.slice(8,-1).toLowerCase().replace(/\s/g,"")};function n(t){return t.constructor?t.constructor.name:null}function i(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:["option"];return o(t,e,n),r(t,e,n),function(t,e,n){var s=a(e),l=a(t);if("object"===s){if("object"!==l)throw new Error("[Type Error]: '".concat(n.join("."),"' require 'object' type, but got '").concat(l,"'"));Object.keys(e).forEach((function(a){var s=t[a],l=e[a],c=n.slice();c.push(a),o(s,l,c),r(s,l,c),i(s,l,c)}))}if("array"===s){if("array"!==l)throw new Error("[Type Error]: '".concat(n.join("."),"' require 'array' type, but got '").concat(l,"'"));t.forEach((function(a,s){var l=t[s],c=e[s]||e[0],u=n.slice();u.push(s),o(l,c,u),r(l,c,u),i(l,c,u)}))}}(t,e,n),t}function o(t,e,n){if("string"===a(e)){var i=a(t);if("?"===e[0]&&(e=e.slice(1)+"|undefined"),!(-1<e.indexOf("|")?e.split("|").map((function(t){return t.toLowerCase().trim()})).filter(Boolean).some((function(t){return i===t})):e.toLowerCase().trim()===i))throw new Error("[Type Error]: '".concat(n.join("."),"' require '").concat(e,"' type, but got '").concat(i,"'"))}}function r(t,e,n){if("function"===a(e)){var i=e(t,a(t),n);if(!0!==i){var o=a(i);throw"string"===o?new Error(i):"error"===o?i:new Error("[Validator Error]: The scheme for '".concat(n.join("."),"' validator require return true, but got '").concat(i,"'"))}}}return i.kindOf=a,i}()}(u);var d=u.exports,p=function(){function e(){t(this,e)}return n(e,[{key:"on",value:function(t,e,a){var n=this.e||(this.e={});return(n[t]||(n[t]=[])).push({fn:e,ctx:a}),this}},{key:"once",value:function(t,e,a){var n=this;function i(){n.off(t,i);for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];e.apply(a,r)}return i._=e,this.on(t,i,a)}},{key:"emit",value:function(t){for(var e=((this.e||(this.e={}))[t]||[]).slice(),a=arguments.length,n=new Array(a>1?a-1:0),i=1;i<a;i++)n[i-1]=arguments[i];for(var o=0;o<e.length;o+=1)e[o].fn.apply(e[o].ctx,n);return this}},{key:"off",value:function(t,e){var a=this.e||(this.e={}),n=a[t],i=[];if(n&&e)for(var o=0,r=n.length;o<r;o+=1)n[o].fn!==e&&n[o].fn._!==e&&i.push(n[o]);return i.length?a[t]=i:delete a[t],this}}]),e}(),h="undefined"!=typeof window?window.navigator.userAgent:"",f=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(h),v=/^((?!chrome|android).)*safari/i.test(h),m=/MicroMessenger/i.test(h),g=/MSIE|Trident/i.test(h);function b(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return e.querySelector(t)}function y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return Array.from(e.querySelectorAll(t))}function w(t,e){return t.classList.add(e)}function k(t,e){return t.classList.remove(e)}function x(t,e){return t.classList.contains(e)}function S(t,e){return e instanceof Element?t.appendChild(e):t.insertAdjacentHTML("beforeend",String(e)),t.lastElementChild||t.lastChild}function $(t,e,a){return t.style[e]=a,t}function D(t,e){return Object.keys(e).forEach((function(a){$(t,a,e[a])})),t}function _(t,e){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=window.getComputedStyle(t,null).getPropertyValue(e);return a?parseFloat(n):n}function C(t){return Array.from(t.parentElement.children).filter((function(e){return e!==t}))}function T(t,e){C(t).forEach((function(t){return k(t,e)})),w(t,e)}function P(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"up";f||(t.setAttribute("aria-label",e),t.setAttribute("data-balloon-pos",a))}function O(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=t.getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight,i=window.innerWidth||document.documentElement.clientWidth,o=a.top-e<=n&&a.top+a.height+e>=0,r=a.left-e<=i+e&&a.left+a.width+e>=0;return o&&r}function A(t,e){return t.composedPath&&t.composedPath().indexOf(e)>-1}function Z(t,e){return e.parentNode.replaceChild(t,e),t}function I(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function R(t,e,a){return R=I()?Reflect.construct:function(t,e,a){var n=[null];n.push.apply(n,e);var i=new(Function.bind.apply(t,n));return a&&o(i,a.prototype),i},R.apply(null,arguments)}function L(t){var e="function"==typeof Map?new Map:void 0;return L=function(t){if(null===t||(a=t,-1===Function.toString.call(a).indexOf("[native code]")))return t;var a;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return R(t,arguments,c(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),o(n,t)},L(t)}function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,n=c(t);if(e){var i=c(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return l(this,a)}}var V=function(e){r(o,e);var a=E(o);function o(e,n){var r;return t(this,o),r=a.call(this,e),"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(i(r),n||r.constructor),r.name="ArtPlayerError",r}return n(o)}(L(Error));function N(t,e){if(!t)throw new V(e);return t}function j(t){return"WEBVTT \r\n\r\n".concat(t.replace(/{[\s\S]*?}/g,"").replace(/\{\\([ibu])\}/g,"</$1>").replace(/\{\\([ibu])1\}/g,"<$1>").replace(/\{([ibu])\}/g,"<$1>").replace(/\{\/([ibu])\}/g,"</$1>").replace(/(\d\d:\d\d:\d\d),(\d\d\d)/g,"$1.$2").concat("\r\n\r\n"))}function F(t){return URL.createObjectURL(new Blob([t],{type:"text/vtt"}))}function B(t){var e=new RegExp("Dialogue:\\s\\d,(\\d+:\\d\\d:\\d\\d.\\d\\d),(\\d+:\\d\\d:\\d\\d.\\d\\d),([^,]*),([^,]*),(?:[^,]*,){4}([\\s\\S]*)$","i");function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.split(/[:.]/).map((function(t,e,a){if(e===a.length-1){if(1===t.length)return".".concat(t,"00");if(2===t.length)return".".concat(t,"0")}else if(1===t.length)return(0===e?"0":":0")+t;return 0===e?t:e===a.length-1?".".concat(t):":".concat(t)})).join("")}return"WEBVTT\n\n".concat(t.split(/\r?\n/).map((function(t){var n=t.match(e);return n?{start:a(n[1].trim()),end:a(n[2].trim()),text:n[5].replace(/{[\s\S]*?}/g,"").replace(/(\\N)/g,"\n").trim().split(/\r?\n/).map((function(t){return t.trim()})).join("\n")}:null})).filter((function(t){return t})).map((function(t,e){return t?"".concat(e+1,"\n").concat(t.start," --\x3e ").concat(t.end,"\n").concat(t.text):""})).filter((function(t){return t.trim()})).join("\n\n"))}function M(t){return t.includes("?")?M(t.split("?")[0]):t.includes("#")?M(t.split("#")[0]):t.trim().toLowerCase().split(".").pop()}function U(t,e){var a=document.createElement("a");a.style.display="none",a.href=t,a.download=e,document.body.appendChild(a),a.click(),document.body.removeChild(a)}function z(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function H(t){return function(t){if(Array.isArray(t))return z(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return z(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?z(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var q=Object.defineProperty,W=Object.prototype.hasOwnProperty;function G(t,e){return W.call(t,e)}function Y(t,e){return Object.getOwnPropertyDescriptor(t,e)}function K(){for(var t=function(t){return t&&"object"===s(t)&&!Array.isArray(t)},e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return a.reduce((function(e,a){return Object.keys(a).forEach((function(n){var i=e[n],o=a[n];Array.isArray(i)&&Array.isArray(o)?e[n]=i.concat.apply(i,H(o)):!t(i)||!t(o)||o instanceof Element?e[n]=o:e[n]=K(i,o)})),e}),{})}function J(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(e){return setTimeout(e,t)}))}function X(t,e){var a,n,i=!1;return function o(){for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];if(i)return a=s,void(n=this);i=!0,t.apply(this,s),setTimeout((function(){i=!1,a&&(o.apply(n,a),a=null,n=null)}),e)}}function Q(t,e,a){return Math.max(Math.min(t,Math.max(e,a)),Math.min(e,a))}function tt(t){var e=Math.floor(t/3600),a=Math.floor((t-3600*e)/60),n=Math.floor(t-3600*e-60*a);return(e>0?[e,a,n]:[a,n]).map((function(t){return t<10?"0".concat(t):String(t)})).join(":")}function et(t){return t.replace(/[&<>'"]/g,(function(t){return{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"}[t]||t}))}var at=Object.freeze({__proto__:null,query:b,queryAll:y,addClass:w,removeClass:k,hasClass:x,append:S,remove:function(t){return t.parentNode.removeChild(t)},setStyle:$,setStyles:D,getStyle:_,sublings:C,inverseClass:T,tooltip:P,isInViewport:O,includeFromEvent:A,replaceElement:Z,ArtPlayerError:V,errorHandle:N,srtToVtt:j,vttToBlob:F,assToVtt:B,getExt:M,download:U,def:q,has:G,get:Y,mergeDeep:K,sleep:J,debounce:function(t,e,a){var n;function i(){for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];var s=function(){n=null,t.apply(a,o)};clearTimeout(n),n=setTimeout(s,e)}return i.clearTimeout=function(){clearTimeout(n)},i},throttle:X,clamp:Q,secondToTime:tt,escape:et,userAgent:h,isMobile:f,isSafari:v,isWechat:m,isIE:g});function nt(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function it(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function ot(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?it(Object(a),!0).forEach((function(e){nt(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):it(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var rt="boolean",st="string",lt="number",ct="object",ut="function";function dt(t,e,a){return N(e===st||t instanceof Element,"".concat(a.join(".")," require '").concat(st,"' or 'Element' type"))}var pt={html:dt,disable:"?".concat(rt),name:"?".concat(st),index:"?".concat(lt),style:"?".concat(ct),click:"?".concat(ut),mounted:"?".concat(ut),tooltip:"?".concat(st),width:"?".concat(lt),selector:"?".concat("array"),onSelect:"?".concat(ut)},ht={container:dt,url:st,poster:st,title:st,type:st,theme:st,lang:st,volume:lt,isLive:rt,muted:rt,autoplay:rt,autoSize:rt,autoMini:rt,loop:rt,flip:rt,playbackRate:rt,aspectRatio:rt,screenshot:rt,setting:rt,hotkey:rt,pip:rt,mutex:rt,backdrop:rt,fullscreen:rt,fullscreenWeb:rt,subtitleOffset:rt,miniProgressBar:rt,useSSR:rt,playsInline:rt,lock:rt,ads:[{url:st}],plugins:[ut],whitelist:["".concat(st,"|").concat(ut,"|").concat("regexp")],layers:[pt],contextmenu:[pt],settings:[pt],controls:[ot(ot({},pt),{},{position:function(t,e,a){var n=["top","left","right"];return N(n.includes(t),"".concat(a.join(".")," only accept ").concat(n.toString()," as parameters"))}})],quality:[{default:"?".concat(rt),html:st,url:st}],highlight:[{time:lt,text:st}],thumbnails:{url:st,number:lt,column:lt},subtitle:{url:st,type:st,style:ct,encoding:st},moreVideoAttr:ct,icons:ct,customType:ct},ft={propertys:["audioTracks","autoplay","buffered","controller","controls","crossOrigin","currentSrc","currentTime","defaultMuted","defaultPlaybackRate","duration","ended","error","loop","mediaGroup","muted","networkState","paused","playbackRate","played","preload","readyState","seekable","seeking","src","startDate","textTracks","videoTracks","volume"],methods:["addTextTrack","canPlayType","load","play","pause"],events:["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],prototypes:["width","height","videoWidth","videoHeight","poster","webkitDecodedFrameCount","webkitDroppedFrameCount","playsInline","webkitSupportsFullscreen","webkitDisplayingFullscreen","onenterpictureinpicture","onleavepictureinpicture","disablePictureInPicture","cancelVideoFrameCallback","requestVideoFrameCallback","getVideoPlaybackQuality","requestPictureInPicture","webkitEnterFullScreen","webkitEnterFullscreen","webkitExitFullScreen","webkitExitFullscreen"]},vt=function(){function e(a){t(this,e),this.art=a}return n(e,[{key:"state",get:function(){var t=this.art,e=t.option,a=t.constructor.kindOf;return!f||e.whitelist.some((function(t){switch(a(t)){case"string":return"*"===t||h.indexOf(t)>-1;case"function":return t(h);case"regexp":return t.test(h);default:return!1}}))}}]),e}(),mt=function(){function e(a){var n=this;t(this,e),this.art=a;var i=a.option,o=a.constructor,r=a.whitelist;i.container instanceof Element?this.$container=i.container:(this.$container=b(i.container),N(this.$container,"No container element found by ".concat(i.container)));var s=this.$container.tagName.toLowerCase();N("div"===s,"Unsupported container element type, only support 'div' but got '".concat(s,"'")),N(o.instances.every((function(t){return t.template.$container!==n.$container})),"Cannot mount multiple instances on the same dom element"),this.query=this.query.bind(this),this.$container.dataset.artId=a.id,this.$original=this.$container.cloneNode(!0),r.state?this.desktop():this.mobile()}return n(e,[{key:"query",value:function(t){return b(t,this.$container)}},{key:"desktop",value:function(){var t=this.art.option;t.useSSR||(this.$container.innerHTML=e.html),this.$player=this.query(".art-video-player"),this.$video=this.query(".art-video"),this.$poster=this.query(".art-poster"),this.$subtitle=this.query(".art-subtitle"),this.$danmuku=this.query(".art-danmuku"),this.$bottom=this.query(".art-bottom"),this.$progress=this.query(".art-progress"),this.$controls=this.query(".art-controls"),this.$controlsLeft=this.query(".art-controls-left"),this.$controlsRight=this.query(".art-controls-right"),this.$layer=this.query(".art-layers"),this.$loading=this.query(".art-loading"),this.$notice=this.query(".art-notice"),this.$noticeInner=this.query(".art-notice-inner"),this.$mask=this.query(".art-mask"),this.$state=this.query(".art-state"),this.$setting=this.query(".art-settings"),this.$info=this.query(".art-info"),this.$infoPanel=this.query(".art-info-panel"),this.$infoClose=this.query(".art-info-close"),this.$miniHeader=this.query(".art-mini-header"),this.$miniTitle=this.query(".art-mini-title"),this.$miniClose=this.query(".art-mini-close"),this.$contextmenu=this.query(".art-contextmenus"),t.backdrop&&(w(this.$setting,"art-backdrop-filter"),w(this.$contextmenu,"art-backdrop-filter"),w(this.$info,"art-backdrop-filter")),f&&w(this.$player,"art-mobile")}},{key:"mobile",value:function(){this.$container.innerHTML='<div class="art-video-player"><video class="art-video"></video></div>',this.$player=this.query(".art-video-player"),this.$video=this.query(".art-video")}},{key:"destroy",value:function(t){t?Z(this.$original,this.$container):w(this.$player,"art-destroy")}}],[{key:"html",get:function(){return'<div class="art-video-player art-subtitle-show art-layer-show"><video class="art-video"></video><div class="art-poster"></div><div class="art-subtitle"></div><div class="art-danmuku"></div><div class="art-layers"></div><div class="art-mask"><div class="art-state"></div></div><div class="art-bottom"><div class="art-progress"></div><div class="art-controls"><div class="art-controls-left"></div><div class="art-controls-right"></div></div></div><div class="art-loading"></div><div class="art-notice"><div class="art-notice-inner"></div></div><div class="art-settings"></div><div class="art-info"><div class="art-info-panel"><div class="art-info-item"><div class="art-info-title">Player version:</div><div class="art-info-content">4.3.7</div></div><div class="art-info-item"><div class="art-info-title">Video url:</div><div class="art-info-content" data-video="src"></div></div><div class="art-info-item"><div class="art-info-title">Video volume:</div><div class="art-info-content" data-video="volume"></div></div><div class="art-info-item"><div class="art-info-title">Video time:</div><div class="art-info-content" data-video="currentTime"></div></div><div class="art-info-item"><div class="art-info-title">Video duration:</div><div class="art-info-content" data-video="duration"></div></div><div class="art-info-item"><div class="art-info-title">Video resolution:</div><div class="art-info-content"><span data-video="videoWidth"></span> x <span data-video="videoHeight"></span></div></div></div><div class="art-info-close">[x]</div></div><div class="art-mini-header"><div class="art-mini-title"></div><div class="art-mini-close">xD7</div></div><div class="art-contextmenus"></div></div>'}}]),e}(),gt={"Video Info":"统计信息",Close:"关闭","Video Load Failed":"加载失败",Volume:"音量",Play:"播放",Pause:"暂停",Rate:"速度",Mute:"静音","Video Flip":"画面翻转",Horizontal:"水平",Vertical:"垂直",Reconnect:"重新连接","Hide Subtitle":"隐藏字幕","Show Subtitle":"显示字幕","Show Setting":"显示设置","Hide Setting":"隐藏设置",Screenshot:"截图","Play Speed":"播放速度","Aspect Ratio":"画面比例",Default:"默认",Normal:"正常",Open:"打开","Switch Video":"切换","Switch Subtitle":"切换字幕",Fullscreen:"全屏","Exit Fullscreen":"退出全屏","Web Fullscreen":"网页全屏","Exit Web Fullscreen":"退出网页全屏","Mini Player":"迷你播放器","PIP Mode":"画中画模式","Exit PIP Mode":"退出画中画模式","PIP Not Supported":"不支持画中画模式","Fullscreen Not Supported":"不支持全屏模式","Subtitle Offset":"字幕偏移"},bt={"Video Info":"統計訊息",Close:"關閉","Video Load Failed":"載入失敗",Volume:"音量",Play:"播放",Pause:"暫停",Rate:"速度",Mute:"靜音","Video Flip":"畫面翻轉",Horizontal:"水平",Vertical:"垂直",Reconnect:"重新連接","Hide Subtitle":"隱藏字幕","Show Subtitle":"顯示字幕","Show Setting":"顯示设置","Hide Setting":"隱藏设置",Screenshot:"截圖","Play Speed":"播放速度","Aspect Ratio":"畫面比例",Default:"默認",Normal:"正常",Open:"打開","Switch Video":"切換","Switch Subtitle":"切換字幕",Fullscreen:"全屏","Exit Fullscreen":"退出全屏","Web Fullscreen":"網頁全屏","Exit Web Fullscreen":"退出網頁全屏","Mini Player":"迷你播放器","PIP Mode":"畫中畫模式","Exit PIP Mode":"退出畫中畫模式","PIP Not Supported":"不支持畫中畫模式","Fullscreen Not Supported":"不支持全屏模式","Subtitle Offset":"字幕偏移"},yt=function(){function e(a){t(this,e),this.art=a,this.languages={"zh-cn":gt,"zh-tw":bt},this.init()}return n(e,[{key:"init",value:function(){var t=this.art.option.lang.toLowerCase();this.language=this.languages[t]||{}}},{key:"get",value:function(t){return this.language[t]||t}},{key:"update",value:function(t){this.languages=K(this.languages,t),this.init()}}]),e}(),wt={exports:{}};!function(t){!function(){var e="undefined"!=typeof window&&void 0!==window.document?window.document:{},a=t.exports,n=function(){for(var t,a=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,i=a.length,o={};n<i;n++)if((t=a[n])&&t[1]in e){for(n=0;n<t.length;n++)o[a[0][n]]=t[n];return o}return!1}(),i={change:n.fullscreenchange,error:n.fullscreenerror},o={request:function(t,a){return new Promise(function(i,o){var r=function(){this.off("change",r),i()}.bind(this);this.on("change",r);var s=(t=t||e.documentElement)[n.requestFullscreen](a);s instanceof Promise&&s.then(r).catch(o)}.bind(this))},exit:function(){return new Promise(function(t,a){if(this.isFullscreen){var i=function(){this.off("change",i),t()}.bind(this);this.on("change",i);var o=e[n.exitFullscreen]();o instanceof Promise&&o.then(i).catch(a)}else t()}.bind(this))},toggle:function(t,e){return this.isFullscreen?this.exit():this.request(t,e)},onchange:function(t){this.on("change",t)},onerror:function(t){this.on("error",t)},on:function(t,a){var n=i[t];n&&e.addEventListener(n,a,!1)},off:function(t,a){var n=i[t];n&&e.removeEventListener(n,a,!1)},raw:n};n?(Object.defineProperties(o,{isFullscreen:{get:function(){return Boolean(e[n.fullscreenElement])}},element:{enumerable:!0,get:function(){return e[n.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(e[n.fullscreenEnabled])}}}),a?t.exports=o:window.screenfull=o):a?t.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}}()}(wt);var kt=wt.exports;function xt(t){var e=t.i18n,a=t.notice,n=t.template.$video;t.once("video:loadedmetadata",(function(){kt.isEnabled?function(t){var e=t.notice,a=t.template.$player;kt.on("change",(function(){return t.emit("fullscreen",kt.isFullscreen)})),q(t,"fullscreen",{get:function(){return kt.isFullscreen},set:function(n){n?kt.request(a).then((function(){w(a,"art-fullscreen"),t.aspectRatioReset=!0,t.autoSize=!1,t.emit("resize"),t.emit("fullscreen",!0),e.show=""})):kt.exit().then((function(){k(a,"art-fullscreen"),t.aspectRatioReset=!0,t.autoSize=t.option.autoSize,t.emit("resize"),t.emit("fullscreen"),e.show=""}))}})}(t):document.fullscreenEnabled||n.webkitSupportsFullscreen?function(t){var e=t.notice,a=t.template.$video;q(t,"fullscreen",{get:function(){return a.webkitDisplayingFullscreen},set:function(n){n?(a.webkitEnterFullscreen(),t.emit("fullscreen",!0),e.show=""):(a.webkitExitFullscreen(),t.emit("fullscreen"),e.show="")}})}(t):q(t,"fullscreen",{get:function(){return!1},set:function(){a.show=e.get("Fullscreen Not Supported")}}),q(t,"fullscreen",Y(t,"fullscreen"))}))}function St(t){var e=t.i18n,a=t.notice,n=t.template.$video;document.pictureInPictureEnabled?function(t){var e=t.template.$video,a=t.events.proxy,n=t.notice;e.disablePictureInPicture=!1,q(t,"pip",{get:function(){return document.pictureInPictureElement},set:function(t){t?e.requestPictureInPicture().catch((function(t){throw n.show=t,t})):document.exitPictureInPicture().catch((function(t){throw n.show=t,t}))}}),a(e,"enterpictureinpicture",(function(){t.emit("pip",!0)})),a(e,"leavepictureinpicture",(function(){t.emit("pip")}))}(t):n.webkitSupportsPresentationMode?function(t){var e=t.template.$video;e.webkitSetPresentationMode("inline"),q(t,"pip",{get:function(){return"picture-in-picture"===e.webkitPresentationMode},set:function(a){a?(e.webkitSetPresentationMode("picture-in-picture"),t.emit("pip",!0)):(e.webkitSetPresentationMode("inline"),t.emit("pip"))}})}(t):q(t,"pip",{get:function(){return!1},set:function(){a.show=e.get("PIP Not Supported")}})}var $t=n((function e(a){t(this,e),function(t){var e=t.option,a=t.template.$video;q(t,"url",{get:function(){return a.currentSrc},set:function(n){var i=e.type||M(n),o=e.customType[i];i&&o?J().then((function(){t.loading.show=!0,o.call(t,a,n,t)})):(t.url&&t.url!==n&&t.once("video:canplay",(function(){t.isReady&&t.emit("restart")})),a.src=n,t.option.url=n,t.emit("url",n))}})}(a),function(t){var e=t.template.$video;q(t,"attr",{value:function(t,a){if(void 0===a)return e[t];e[t]=a}})}(a),function(t){var e=t.i18n,a=t.notice,n=t.option,i=t.constructor.instances,o=t.template.$video;q(t,"play",{value:function(){var r=o.play();if(r&&r.then&&r.then().catch((function(t){throw a.show=t,t})),n.mutex)for(var s=0;s<i.length;s++){var l=i[s];l!==t&&l.pause()}return a.show=e.get("Play"),t.emit("play"),r}})}(a),function(t){var e=t.template.$video,a=t.i18n,n=t.notice;q(t,"pause",{value:function(){var i=e.pause();return n.show=a.get("Pause"),t.emit("pause"),i}})}(a),function(t){q(t,"toggle",{value:function(){return t.playing?t.pause():t.play()}})}(a),function(t){var e=t.notice;q(t,"seek",{set:function(a){t.currentTime=a,t.emit("seek",t.currentTime),t.duration&&(e.show="".concat(tt(t.currentTime)," / ").concat(tt(t.duration)))}}),q(t,"forward",{set:function(e){t.seek=t.currentTime+e}}),q(t,"backward",{set:function(e){t.seek=t.currentTime-e}})}(a),function(t){var e=t.template.$video,a=t.i18n,n=t.notice,i=t.storage;q(t,"volume",{get:function(){return e.volume||0},set:function(o){e.volume=Q(o,0,1),n.show="".concat(a.get("Volume"),": ").concat(parseInt(100*e.volume,10)),0!==e.volume&&i.set("volume",e.volume),t.emit("volume",e.volume)}}),q(t,"muted",{get:function(){return e.muted},set:function(a){e.muted=a,t.emit("volume",e.volume)}})}(a),function(t){var e=t.template.$video;q(t,"currentTime",{get:function(){return e.currentTime||0},set:function(a){a=parseFloat(a),Number.isNaN(a)||(e.currentTime=Q(a,0,t.duration))}})}(a),function(t){q(t,"duration",{get:function(){var e=t.template.$video.duration;return e===1/0?0:e||0}})}(a),function(t){var e=t.i18n,a=t.option,n=t.notice;function i(i,o,r){return new Promise((function(s){if(i===t.url)return s(i);var l=t.playing;t.pause(),URL.revokeObjectURL(t.url),t.url=i,t.once("video:canplay",(function(){t.playbackRate=!1,t.aspectRatio=!1,t.flip="normal",t.autoSize=a.autoSize,t.currentTime=r,t.notice.show="",l&&t.play(),o&&(n.show="".concat(e.get("Switch Video"),": ").concat(o)),t.emit("switch",i),s(i)}))}))}q(t,"switchQuality",{value:function(e,a){return i(e,a,t.currentTime)}}),q(t,"switchUrl",{value:function(t,e){return i(t,e,0)}})}(a),function(t){var e=t.template.$video,a=t.i18n,n=t.notice;q(t,"playbackRate",{get:function(){return e.playbackRate},set:function(i){if(i){if(i===e.playbackRate)return;var o=[.25,.5,.75,1,1.25,1.5,1.75,2,3,4];N(o.includes(i),"'playbackRate' only accept ".concat(o.toString()," as parameters")),e.playbackRate=i,n.show="".concat(a.get("Rate"),": ").concat(1===i?a.get("Normal"):"".concat(i,"x")),t.emit("playbackRate",i)}else t.playbackRate=1,t.emit("playbackRate")}})}(a),function(t){var e=t.template,a=e.$video,n=e.$player,i=t.i18n,o=t.notice;q(t,"aspectRatio",{get:function(){return n.dataset.aspectRatio||"default"},set:function(e){e||(e="default");var r=["default","4:3","16:9"];if(N(r.includes(e),"'aspectRatio' only accept ".concat(r.toString()," as parameters")),"default"===e)$(a,"width",null),$(a,"height",null),$(a,"padding",null),delete n.dataset.aspectRatio;else{var s=e.split(":").map(Number),l=a.videoWidth,c=a.videoHeight,u=n.clientWidth,d=n.clientHeight,p=l/c,h=s[0]/s[1];if(p>h){var f=h*c/l;$(a,"width","".concat(100*f,"%")),$(a,"height","100%"),$(a,"padding","0 ".concat((u-u*f)/2,"px"))}else{var v=l/h/c;$(a,"width","100%"),$(a,"height","".concat(100*v,"%")),$(a,"padding","".concat((d-d*v)/2,"px 0"))}n.dataset.aspectRatio=e}o.show="".concat(i.get("Aspect Ratio"),": ").concat("default"===e?i.get("Default"):e),t.emit("aspectRatio",e)}}),q(t,"aspectRatioReset",{set:function(e){if(e){var a=t.aspectRatio;t.aspectRatio=a}}})}(a),function(t){var e=t.option,a=t.notice,n=t.template.$video,i=document.createElement("canvas");q(t,"getDataURL",{value:function(){return new Promise((function(t,e){try{i.width=n.videoWidth,i.height=n.videoHeight,i.getContext("2d").drawImage(n,0,0),t(i.toDataURL("image/png"))}catch(t){a.show=t,e(t)}}))}}),q(t,"getBlobUrl",{value:function(){return new Promise((function(t,e){try{i.width=n.videoWidth,i.height=n.videoHeight,i.getContext("2d").drawImage(n,0,0),i.toBlob((function(e){t(URL.createObjectURL(e))}))}catch(t){a.show=t,e(t)}}))}}),q(t,"screenshot",{value:function(){return t.getDataURL().then((function(a){return U(a,"".concat(e.title||"artplayer","_").concat(tt(n.currentTime),".png")),t.emit("screenshot",a),a}))}})}(a),xt(a),function(t){var e=t.notice,a=t.template.$player;q(t,"fullscreenWeb",{get:function(){return x(a,"art-fullscreen-web")},set:function(n){n?(w(a,"art-fullscreen-web"),t.aspectRatioReset=!0,t.autoSize=!1,t.emit("resize"),t.emit("fullscreenWeb",!0),e.show=""):(k(a,"art-fullscreen-web"),t.aspectRatioReset=!0,t.autoSize=t.option.autoSize,t.emit("resize"),t.emit("fullscreenWeb"),e.show="")}})}(a),St(a),function(t){var e=t.template.$video;q(t,"loaded",{get:function(){return t.loadedTime/e.duration}}),q(t,"loadedTime",{get:function(){return e.buffered.length?e.buffered.end(e.buffered.length-1):0}})}(a),function(t){q(t,"played",{get:function(){return t.currentTime/t.duration}})}(a),function(t){var e=t.template.$video;q(t,"playing",{get:function(){return!!(e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2)}})}(a),function(t){var e=t.template,a=e.$container,n=e.$player,i=e.$video;q(t,"autoSize",{get:function(){return x(a,"art-auto-size")},set:function(e){if(e){var o=i.videoWidth,r=i.videoHeight,s=a.getBoundingClientRect(),l=s.width,c=s.height,u=o/r,d=l/c;if(w(a,"art-auto-size"),d>u)$(n,"width","".concat(c*u/l*100,"%")),$(n,"height","100%");else{var p=l/u/c*100;$(n,"width","100%"),$(n,"height","".concat(p,"%"))}t.emit("autoSize",{width:t.width,height:t.height})}else k(a,"art-auto-size"),$(n,"width",null),$(n,"height",null),t.emit("autoSize")}})}(a),function(t){q(t,"rect",{get:function(){return t.template.$player.getBoundingClientRect()}});for(var e=["bottom","height","left","right","top","width"],a=function(a){var n=e[a];q(t,n,{get:function(){return t.rect[n]}})},n=0;n<e.length;n++)a(n);q(t,"x",{get:function(){return t.left+window.pageXOffset}}),q(t,"y",{get:function(){return t.top+window.pageYOffset}})}(a),function(t){var e=t.template.$player,a=t.i18n,n=t.notice;q(t,"flip",{get:function(){return e.dataset.flip||"normal"},set:function(i){i||(i="normal");var o=["normal","horizontal","vertical"];N(o.includes(i),"'flip' only accept ".concat(o.toString()," as parameters")),"normal"===i?delete e.dataset.flip:(t.rotate=!1,e.dataset.flip=i);var r=i.replace(i[0],i[0].toUpperCase());n.show="".concat(a.get("Video Flip"),": ").concat(a.get(r)),t.emit("flip",i)}})}(a),function(t){var e=t.i18n,a=t.option,n=t.storage,i=t.events.proxy,o=t.template,r=o.$player,s=o.$miniClose,l=o.$miniTitle,c=o.$miniHeader,u="",d=!1,p=0,h=0,f=0,v=0;i(c,"mousedown",(function(e){d=!0,p=e.pageX,h=e.pageY,f=t.left,v=t.top})),i(document,"mousemove",(function(t){if(d){w(r,"art-is-dragging");var e=v+t.pageY-h,a=f+t.pageX-p;$(r,"top","".concat(e,"px")),$(r,"left","".concat(a,"px")),n.set("top",e),n.set("left",a)}})),i(document,"mouseup",(function(){d=!1,k(r,"art-is-dragging")})),i(s,"click",(function(){t.mini=!1,d=!1,k(r,"art-is-dragging")})),S(l,a.title||e.get("Mini Player")),q(t,"mini",{get:function(){return x(r,"art-mini")},set:function(e){if(e){t.autoSize=!1,u=r.style.cssText,w(r,"art-mini");var i=n.get("top"),o=n.get("left");if(i&&o)$(r,"top","".concat(i,"px")),$(r,"left","".concat(o,"px")),O(c)||(n.del("top"),n.del("left"),t.mini=!0);else{var s=document.body,l=s.clientHeight-t.height-50,d=s.clientWidth-t.width-50;n.set("top",l),n.set("left",d),$(r,"top","".concat(l,"px")),$(r,"left","".concat(d,"px"))}t.aspectRatio=!1,t.playbackRate=!1,t.notice.show="",t.emit("mini",!0)}else r.style.cssText=u,k(r,"art-mini"),$(r,"top",null),$(r,"left",null),t.aspectRatio=!1,t.playbackRate=!1,t.autoSize=a.autoSize,t.notice.show="",t.emit("mini")}})}(a),function(t){var e=[];q(t,"loop",{get:function(){return e},set:function(a){if(Array.isArray(a)&&"number"==typeof a[0]&&"number"==typeof a[1]){var n=Q(a[0],0,Math.min(a[1],t.duration)),i=Q(a[1],n,t.duration);i-n>=1?(e=[n,i],t.emit("loop",e)):(e=[],t.emit("loop"))}else e=[],t.emit("loop")}}),t.on("video:timeupdate",(function(){e.length&&(t.currentTime<e[0]||t.currentTime>e[1])&&(t.seek=e[0])}))}(a),function(t){var e=t.option,a=t.template.$poster;q(t,"poster",{get:function(){return e.poster},set:function(t){e.poster=t,$(a,"backgroundImage","url(".concat(t,")"))}})}(a),function(t){var e=t.option,a=t.template,n=a.$container,i=a.$video,o=n.style.height;q(t,"autoHeight",{get:function(){return x(n,"art-auto-height")},set:function(a){if(a){var r=n.clientWidth,s=i.videoHeight*(r/i.videoWidth);$(n,"height",s+"px"),w(n,"art-auto-height"),t.autoSize=e.autoSize,t.emit("autoHeight",s)}else $(n,"height",o),k(n,"art-auto-height"),t.autoSize=e.autoSize,t.emit("autoHeight")}})}(a),function(t){var e=t.option,a=t.template.$player;q(t,"theme",{get:function(){return getComputedStyle(a).getPropertyValue("--theme")},set:function(t){e.theme=t,a.style.setProperty("--theme",t)}})}(a),function(t){q(t,"title",{get:function(){return t.option.title},set:function(e){t.option.title=e}})}(a),function(t){var e=["mini","pip","fullscreen","fullscreenWeb"];!function(e){for(var a=function(a){var n=e[a];t.on(n,(function(){t[n]&&e.filter((function(t){return t!==n})).forEach((function(e){t[e]&&(t[e]=!1)}))}))},n=0;n<e.length;n++)a(n)}(e),q(t,"normalSize",{get:function(){return e.every((function(e){return!t[e]}))}})}(a),function(t){var e=t.constructor.utils.clamp,a=t.notice,n=t.template,i=t.i18n,o=0,r=[];t.on("subtitle:switch",(function(){r=[]})),q(t,"subtitleOffset",{get:function(){return o},set:function(s){if(n.$track&&n.$track.track){var l=Array.from(n.$track.track.cues);o=e(s,-5,5);for(var c=0;c<l.length;c++){var u=l[c];r[c]||(r[c]={startTime:u.startTime,endTime:u.endTime}),u.startTime=e(r[c].startTime+o,0,t.duration),u.endTime=e(r[c].endTime+o,0,t.duration)}t.subtitle.update(),a.show="".concat(i.get("Subtitle Offset"),": ").concat(s,"s"),t.emit("subtitleOffset",s)}else t.emit("subtitleOffset",0)}})}(a),function(t){for(var e=t.option,a=t.events.proxy,n=t.template,i=n.$player,o=n.$video,r=n.$poster,s=t.i18n,l=t.notice,c=0,u=0;u<ft.events.length;u++)a(o,ft.events[u],(function(e){t.emit("video:".concat(e.type),e)}));t.on("video:canplay",(function(){c=0,t.loading.show=!1})),t.once("video:canplay",(function(){t.loading.show=!1,t.controls.show=!0,t.mask.show=!0,t.isReady=!0,t.emit("ready")})),t.on("video:ended",(function(){e.loop?(t.seek=0,t.play(),t.controls.show=!1,t.mask.show=!1):(t.controls.show=!0,t.mask.show=!0)})),t.on("video:error",(function(){c<5?J(1e3).then((function(){c+=1,t.url=e.url,l.show="".concat(s.get("Reconnect"),": ").concat(c),t.emit("error",c)})):(t.loading.show=!1,t.controls.show=!1,w(i,"art-error"),J(1e3).then((function(){l.show=s.get("Video Load Failed"),t.destroy(!1)})))})),t.once("video:loadedmetadata",(function(){t.autoSize=e.autoSize,f&&(t.loading.show=!1,t.controls.show=!0,t.mask.show=!0)})),t.on("video:loadstart",(function(){t.loading.show=!0})),t.on("video:pause",(function(){t.controls.show=!0,t.mask.show=!0})),t.on("video:play",(function(){t.mask.show=!1,$(r,"display","none")})),t.on("video:playing",(function(){t.mask.show=!1})),t.on("video:seeked",(function(){t.loading.show=!1})),t.on("video:seeking",(function(){t.loading.show=!0})),t.on("video:timeupdate",(function(){t.mask.show=!1})),t.on("video:waiting",(function(){t.loading.show=!0}))}(a),function(t){var e=t.option,a=t.storage,n=t.template,i=n.$video,o=n.$poster;Object.keys(e.moreVideoAttr).forEach((function(a){t.attr(a,e.moreVideoAttr[a])})),e.muted&&(t.muted=e.muted),e.volume&&(i.volume=Q(e.volume,0,1));var r=a.get("volume");"number"==typeof r&&(i.volume=Q(r,0,1)),e.poster&&$(o,"backgroundImage","url(".concat(e.poster,")")),e.autoplay&&(i.autoplay=e.autoplay),e.playsInline&&(i.playsInline=!0,i["webkit-playsinline"]=!0),e.theme&&(t.theme=e.theme),0===e.ads.length&&(t.url=e.url)}(a)}));function Dt(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}function _t(){return _t="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,a){var n=Dt(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:a):i.value}},_t.apply(this,arguments)}var Ct=function(){function e(a){t(this,e),this.id=0,this.art=a,this.add=this.add.bind(this)}return n(e,[{key:"show",get:function(){return x(this.art.template.$player,"art-".concat(this.name,"-show"))},set:function(t){var e=this.art.template.$player,a="art-".concat(this.name,"-show");t?w(e,a):k(e,a),this.art.emit(this.name,t)}},{key:"toggle",set:function(t){t&&(this.show=!this.show)}},{key:"add",value:function(t){var e=this,a="function"==typeof t?t(this.art):t;if(a.html=a.html||"",d(a,pt),this.$parent&&this.name&&!a.disable){var n=a.name||"".concat(this.name).concat(this.id);N(!G(this,n),"Cannot add an existing name [".concat(n,"] to the [").concat(this.name,"]")),this.id+=1;var i=document.createElement("div");w(i,"art-".concat(this.name)),w(i,"art-".concat(this.name,"-").concat(n));var o=Array.from(this.$parent.children);i.dataset.index=a.index||this.id;var r=o.find((function(t){return Number(t.dataset.index)>=Number(i.dataset.index)}));return r?r.insertAdjacentElement("beforebegin",i):S(this.$parent,i),a.html&&S(i,a.html),a.style&&D(i,a.style),a.tooltip&&P(i,a.tooltip),a.click&&this.art.events.proxy(i,"click",(function(t){t.preventDefault(),a.click.call(e.art,e,t)})),a.selector&&["left","right"].includes(a.position)&&this.selector(a,i),a.mounted&&a.mounted.call(this.art,i),1===i.childNodes.length&&3===i.childNodes[0].nodeType&&w(i,"art-control-onlyText"),q(this,n,{value:i}),i}}},{key:"selector",value:function(t,e){var a=this,n=this.art.events,i=n.hover,o=n.proxy;w(e,"art-control-selector");var r=document.createElement("div");w(r,"art-selector-value"),S(r,t.html),e.innerText="",S(e,r);var s=t.selector.map((function(t,e){return'<div class="art-selector-item '.concat(t.default?"art-current":"",'" data-index="').concat(e,'">').concat(t.html,"</div>")})).join(""),l=document.createElement("div");w(l,"art-selector-list"),S(l,s),S(e,l);var c=function(){var t=_(e,"width")/2-_(l,"width")/2;l.style.left="".concat(t,"px")};i(e,c),o(l,"click",(function(e){var n=(e.composedPath()||[]).find((function(t){return x(t,"art-selector-item")}));if(n){T(n,"art-current");var i=Number(n.dataset.index),o=t.selector[i]||{};if(r.innerText=n.innerText,t.onSelect){var s=t.onSelect.call(a.art,o,n,e);"string"!=typeof s&&"number"!=typeof s||(r.innerHTML=s)}c(),a.art.emit("selector",o,n)}}))}}]),e}();function Tt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Pt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Tt(Object(a),!0).forEach((function(e){nt(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Tt(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Ot(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function At(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Ot(Object(a),!0).forEach((function(e){nt(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ot(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Zt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function It(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Zt(Object(a),!0).forEach((function(e){nt(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Zt(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Rt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Lt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Rt(Object(a),!0).forEach((function(e){nt(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Rt(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Et(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Vt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Et(Object(a),!0).forEach((function(e){nt(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Et(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Nt(t,e){var a=t.template.$progress,n=a.getBoundingClientRect().left,i=Q(("number"==typeof e.pageX?e.pageX:e.touches[0].clientX)-n,0,a.clientWidth),o=i/a.clientWidth*t.duration;return{second:o,time:tt(o),width:i,percentage:Q(i/a.clientWidth,0,1)}}function jt(t){return function(e){var a=e.icons,n=e.option,i=e.events.proxy;return Vt(Vt({},t),{},{html:'<div class="art-control-progress-inner"><div class="art-progress-loaded"></div><div class="art-progress-played"></div><div class="art-progress-highlight"></div><div class="art-progress-indicator"></div><div class="art-progress-tip"></div></div>',mounted:function(t){var o=!1,r=b(".art-progress-loaded",t),s=b(".art-progress-played",t),l=b(".art-progress-highlight",t),c=b(".art-progress-indicator",t),u=b(".art-progress-tip",t);$(s,"backgroundColor","var(--theme)");var d=14;function p(t,e){"loaded"===t&&$(r,"width","".concat(100*e,"%")),"played"===t&&($(s,"width","".concat(100*e,"%")),$(c,"left","calc(".concat(100*e,"% - ").concat(d/2,"px)")))}a.indicator?(d=16,S(c,a.indicator)):D(c,{backgroundColor:"var(--theme)"}),D(c,{left:"-".concat(d/2,"px"),width:"".concat(d,"px"),height:"".concat(d,"px")});for(var h=0;h<n.highlight.length;h++){var f=n.highlight[h],v=Q(f.time,0,e.duration)/e.duration*100;S(l,'<span data-text="'.concat(f.text,'" data-time="').concat(f.time,'" style="left: ').concat(v,'%"></span>'))}p("loaded",e.loaded),e.on("video:progress",(function(){p("loaded",e.loaded)})),e.on("video:timeupdate",(function(){p("played",e.played)})),e.on("video:ended",(function(){p("played",1)})),i(t,"mousemove",(function(a){$(u,"display","block"),A(a,l)?function(a){var n=Nt(e,a).width,i=a.target.dataset.text;u.innerHTML=i;var o=u.clientWidth;n<=o/2?$(u,"left",0):n>t.clientWidth-o/2?$(u,"left","".concat(t.clientWidth-o,"px")):$(u,"left","".concat(n-o/2,"px"))}(a):function(a){var n=Nt(e,a),i=n.width,o=n.time;u.innerHTML=o;var r=u.clientWidth;i<=r/2?$(u,"left",0):i>t.clientWidth-r/2?$(u,"left","".concat(t.clientWidth-r,"px")):$(u,"left","".concat(i-r/2,"px"))}(a)})),i(t,"mouseout",(function(){$(u,"display","none")})),i(t,"click",(function(t){if(t.target!==c){var a=Nt(e,t),n=a.second;p("played",a.percentage),e.seek=n}})),i(c,"mousedown",(function(){o=!0})),i(document,"mousemove",(function(t){if(o){var a=Nt(e,t),n=a.second;p("played",a.percentage),e.seek=n}})),i(document,"mouseup",(function(){o&&(o=!1)})),i(c,"touchstart",(function(t){1===t.touches.length&&(o=!0)})),i(document,"touchmove",(function(t){if(1===t.touches.length&&o){var a=Nt(e,t),n=a.second;p("played",a.percentage),e.seek=n}})),i(document,"touchend",(function(){o&&(o=!1)}))}})}}function Ft(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Bt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Ft(Object(a),!0).forEach((function(e){nt(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ft(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Mt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Ut(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Mt(Object(a),!0).forEach((function(e){nt(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Mt(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function zt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Ht(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?zt(Object(a),!0).forEach((function(e){nt(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):zt(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function qt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Wt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?qt(Object(a),!0).forEach((function(e){nt(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):qt(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Gt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Yt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Gt(Object(a),!0).forEach((function(e){nt(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Gt(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Kt(t){return function(e){return Yt(Yt({},t),{},{mounted:function(t){var a=e.option,n=e.template,i=n.$progress,o=n.$video,r=e.events,s=r.proxy,l=r.loadImg,c=null,u=!1,d=!1;s(i,"mousemove",(function(n){u||(u=!0,l(a.thumbnails.url).then((function(t){c=t,d=!0}))),d&&($(t,"display","block"),function(n){var r=Nt(e,n).width,s=a.thumbnails,l=s.url,u=s.number,d=s.column,p=c.naturalWidth/d,h=p/(o.videoWidth/o.videoHeight),f=i.clientWidth/u,v=Math.floor(r/f),m=Math.ceil(v/d)-1,g=v%d||d-1;$(t,"backgroundImage","url(".concat(l,")")),$(t,"height","".concat(h,"px")),$(t,"width","".concat(p,"px")),$(t,"backgroundPosition","-".concat(g*p,"px -").concat(m*h,"px")),r<=p/2?$(t,"left",0):r>i.clientWidth-p/2?$(t,"left","".concat(i.clientWidth-p,"px")):$(t,"left","".concat(r-p/2,"px"))}(n))})),s(i,"mouseout",(function(){$(t,"display","none")}))}})}}function Jt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Xt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Jt(Object(a),!0).forEach((function(e){nt(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Jt(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Qt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function te(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Qt(Object(a),!0).forEach((function(e){nt(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Qt(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function ee(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function ae(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ee(Object(a),!0).forEach((function(e){nt(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ee(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function ne(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,n=c(t);if(e){var i=c(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return l(this,a)}}var ie=function(e){r(i,e);var a=ne(i);function i(e){var n;t(this,i),(n=a.call(this,e)).name="control";var o=e.option,r=e.template.$player;return n.mouseMoveTime=Date.now(),e.on("mousemove",(function(){n.show=!0,k(r,"art-hide-cursor"),w(r,"art-hover"),n.mouseMoveTime=Date.now()})),e.on("video:timeupdate",(function(){e.playing&&n.show&&Date.now()-n.mouseMoveTime>=3e3&&(n.show=!1,w(r,"art-hide-cursor"),k(r,"art-hover"))})),e.once("video:loadedmetadata",(function(){n.add(jt({name:"progress",disable:o.isLive,position:"top",index:10})),n.add(Kt({name:"thumbnails",disable:!o.thumbnails.url||o.isLive,position:"top",index:20})),n.add(function(t){return function(e){return ae(ae({},t),{},{mounted:function(t){var a=S(t,'<span class="art-loop-point"></span>'),n=S(t,'<span class="art-loop-point"></span>');e.on("loop",(function(i){i?($(t,"display","block"),$(a,"left","calc(".concat(i[0]/e.duration*100,"% - ").concat(a.clientWidth,"px)")),$(n,"left","".concat(i[1]/e.duration*100,"%"))):$(t,"display","none")}))}})}}({name:"loop",disable:!1,position:"top",index:30})),n.add(function(t){return function(e){return Lt(Lt({},t),{},{mounted:function(t){var a=e.events.proxy,n=e.icons,i=e.i18n,o=S(t,n.play),r=S(t,n.pause);function s(){$(o,"display","flex"),$(r,"display","none")}function l(){$(o,"display","none"),$(r,"display","flex")}P(o,i.get("Play")),P(r,i.get("Pause")),a(o,"click",(function(){e.play()})),a(r,"click",(function(){e.pause()})),e.playing?l():s(),e.on("video:playing",(function(){l()})),e.on("video:pause",(function(){s()}))}})}}({name:"playAndPause",disable:!1,position:"left",index:10})),n.add(function(t){return function(e){return Ht(Ht({},t),{},{mounted:function(t){var a=e.events.proxy,n=e.icons,i=e.i18n,o=!1,r=S(t,n.volume),s=S(t,n.volumeClose),l=S(t,'<div class="art-volume-panel"></div>'),c=S(l,'<div class="art-volume-slider-handle"></div>');function u(t){var e=l.getBoundingClientRect().left;return Q(t.pageX-e-6,0,54)/48}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.7;if(e.muted||0===t)$(r,"display","none"),$(s,"display","flex"),$(c,"left","0");else{var a=48*t;$(r,"display","flex"),$(s,"display","none"),$(c,"left","".concat(a,"px"))}}P(r,i.get("Mute")),$(s,"display","none"),f&&$(l,"display","none"),d(e.volume),e.on("video:volumechange",(function(){d(e.volume)})),a(r,"click",(function(){e.muted=!0})),a(s,"click",(function(){e.muted=!1})),a(l,"click",(function(t){e.muted=!1,e.volume=u(t)})),a(c,"mousedown",(function(){o=!0})),a(t,"mousemove",(function(t){o&&(e.muted=!1,e.volume=u(t))})),a(document,"mouseup",(function(){o&&(o=!1)}))}})}}({name:"volume",disable:!1,position:"left",index:20})),n.add(function(t){return function(e){return Ut(Ut({},t),{},{mounted:function(t){function a(){var a="".concat(tt(e.currentTime)," / ").concat(tt(e.duration));a!==t.innerText&&(t.innerText=a)}a();for(var n=["video:loadedmetadata","video:timeupdate","video:progress"],i=0;i<n.length;i++)e.on(n[i],a)}})}}({name:"time",disable:o.isLive,position:"left",index:30})),n.add(function(t){return function(e){var a=e.option.quality,n=a.find((function(t){return t.default}))||a[0];return te(te({},t),{},{html:n?n.html:"",selector:a,onSelect:function(t){e.switchQuality(t.url,t.html)}})}}({name:"quality",disable:0===o.quality.length,position:"right",index:10})),n.add(function(t){return function(e){return Xt(Xt({},t),{},{tooltip:e.i18n.get("Screenshot"),mounted:function(t){var a=e.events.proxy;S(t,e.icons.screenshot),a(t,"click",(function(){e.screenshot()}))}})}}({name:"screenshot",disable:!o.screenshot,position:"right",index:20})),n.add(function(t){return function(e){return Bt(Bt({},t),{},{tooltip:e.i18n.get("Hide Subtitle"),mounted:function(t){var a=e.events.proxy,n=e.icons,i=e.i18n,o=e.subtitle;S(t,n.subtitle),a(t,"click",(function(){o.toggle=!0})),e.on("subtitle",(function(e){P(t,i.get(e?"Hide Subtitle":"Show Subtitle"))}))}})}}({name:"subtitle",disable:!o.subtitle.url,position:"right",index:30})),n.add(function(t){return function(e){return Wt(Wt({},t),{},{tooltip:e.i18n.get("Show Setting"),mounted:function(t){var a=e.events.proxy,n=e.icons,i=e.i18n,o=e.setting;S(t,n.setting),a(t,"click",(function(){o.toggle=!0})),e.on("setting",(function(e){P(t,i.get(e?"Hide Setting":"Show Setting"))}))}})}}({name:"setting",disable:!o.setting,position:"right",index:40})),n.add(function(t){return function(e){return It(It({},t),{},{tooltip:e.i18n.get("PIP Mode"),mounted:function(t){var a=e.events.proxy,n=e.icons,i=e.i18n;S(t,n.pip),a(t,"click",(function(){e.pip=!e.pip})),e.on("pip",(function(e){P(t,i.get(e?"Exit PIP Mode":"PIP Mode"))}))}})}}({name:"pip",disable:!o.pip,position:"right",index:50})),n.add(function(t){return function(e){return At(At({},t),{},{tooltip:e.i18n.get("Web Fullscreen"),mounted:function(t){var a=e.events.proxy,n=e.icons,i=e.i18n;S(t,n.fullscreenWeb),a(t,"click",(function(){e.fullscreenWeb=!e.fullscreenWeb})),e.on("fullscreenWeb",(function(e){P(t,i.get(e?"Exit Web Fullscreen":"Web Fullscreen"))}))}})}}({name:"fullscreenWeb",disable:!o.fullscreenWeb,position:"right",index:60})),n.add(function(t){return function(e){return Pt(Pt({},t),{},{tooltip:e.i18n.get("Fullscreen"),mounted:function(t){var a=e.events.proxy,n=e.icons,i=e.i18n;S(t,n.fullscreen),a(t,"click",(function(){e.fullscreen=!e.fullscreen})),e.on("fullscreen",(function(e){P(t,i.get(e?"Exit Fullscreen":"Fullscreen"))}))}})}}({name:"fullscreen",disable:!o.fullscreen,position:"right",index:70}));for(var t=0;t<o.controls.length;t++)n.add(o.controls[t])})),n}return n(i,[{key:"add",value:function(t){var e="function"==typeof t?t(this.art):t,a=this.art.template,n=a.$progress,o=a.$controlsLeft,r=a.$controlsRight;switch(e.position){case"top":this.$parent=n;break;case"left":this.$parent=o;break;case"right":this.$parent=r;break;default:N(!1,"Control option.position must one of 'top', 'left', 'right'")}_t(c(i.prototype),"add",this).call(this,e)}}]),i}(Ct);function oe(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function re(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?oe(Object(a),!0).forEach((function(e){nt(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):oe(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function se(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function le(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?se(Object(a),!0).forEach((function(e){nt(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):se(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function ce(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function ue(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ce(Object(a),!0).forEach((function(e){nt(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ce(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function de(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function pe(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?de(Object(a),!0).forEach((function(e){nt(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):de(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function he(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function fe(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?he(Object(a),!0).forEach((function(e){nt(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):he(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function ve(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function me(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ve(Object(a),!0).forEach((function(e){nt(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ve(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function ge(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,n=c(t);if(e){var i=c(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return l(this,a)}}var be=function(e){r(i,e);var a=ge(i);function i(e){var n;return t(this,i),(n=a.call(this,e)).art=e,n.name="contextmenu",n.$parent=e.template.$contextmenu,e.once("video:loadedmetadata",(function(){f||n.init()})),n}return n(i,[{key:"init",value:function(){var t=this,e=this.art,a=e.option,n=e.template,i=n.$player,o=n.$contextmenu,r=e.events.proxy;this.add(function(t){return function(e){var a=e.i18n;return re(re({},t),{},{html:"".concat(a.get("Play Speed"),':<span data-value="0.5">0.5</span><span data-value="0.75">0.75</span><span data-value="1.0" class="art-current">').concat(a.get("Normal"),'</span><span data-value="1.25">1.25</span><span data-value="1.5">1.5</span><span data-value="2.0">2.0</span>'),click:function(t,a){var n=a.target.dataset.value;n&&(e.playbackRate=Number(n),t.show=!1)},mounted:function(t){e.on("playbackRate",(function(e){var a=y("span",t).find((function(t){return Number(t.dataset.value)===e}));a&&T(a,"art-current")}))}})}}({disable:!a.playbackRate,name:"playbackRate",index:10})),this.add(function(t){return function(e){var a=e.i18n;return le(le({},t),{},{html:"".concat(a.get("Aspect Ratio"),':<span data-value="default" class="art-current">').concat(a.get("Default"),'</span><span data-value="4:3">4:3</span><span data-value="16:9">16:9</span>'),click:function(t,a){var n=a.target.dataset.value;n&&(e.aspectRatio=n,t.show=!1)},mounted:function(t){e.on("aspectRatio",(function(e){var a=y("span",t).find((function(t){return t.dataset.value===e}));a&&T(a,"art-current")}))}})}}({disable:!a.aspectRatio,name:"aspectRatio",index:20})),this.add(function(t){return function(e){var a=e.i18n;return ue(ue({},t),{},{html:"".concat(a.get("Video Flip"),':<span data-value="normal" class="art-current">').concat(a.get("Normal"),'</span><span data-value="horizontal">').concat(a.get("Horizontal"),'</span><span data-value="vertical">').concat(a.get("Vertical"),"</span>"),click:function(t,a){var n=a.target.dataset.value;n&&(e.flip=n,t.show=!1)},mounted:function(t){e.on("flip",(function(e){var a=y("span",t).find((function(t){return t.dataset.value===e}));a&&T(a,"art-current")}))}})}}({disable:!a.flip,name:"flip",index:30})),this.add(function(t){return function(e){return pe(pe({},t),{},{html:e.i18n.get("Video Info"),click:function(t){e.info.show=!0,t.show=!1}})}}({disable:!1,name:"info",index:40})),this.add(function(t){return fe(fe({},t),{},{html:'<a href="https://artplayer.org" target="_blank">ArtPlayer 4.3.7</a>'})}({disable:!1,name:"version",index:50})),this.add(function(t){return function(e){return me(me({},t),{},{html:e.i18n.get("Close"),click:function(t){t.show=!1}})}}({disable:!1,name:"close",index:60}));for(var s=0;s<a.contextmenu.length;s++)this.add(a.contextmenu[s]);r(i,"contextmenu",(function(e){e.preventDefault(),t.show=!0;var a=e.clientX,n=e.clientY,r=i.getBoundingClientRect(),s=r.height,l=r.width,c=r.left,u=r.top,d=o.getBoundingClientRect(),p=d.height,h=d.width,f=a-c,v=n-u;a+h>c+l&&(f=l-h),n+p>u+s&&(v=s-p),D(o,{top:"".concat(v,"px"),left:"".concat(f,"px")})})),r(i,"click",(function(e){A(e,o)||(t.show=!1)})),this.art.on("blur",(function(){t.show=!1}))}}]),i}(Ct);function ye(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,n=c(t);if(e){var i=c(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return l(this,a)}}var we=function(e){r(i,e);var a=ye(i);function i(e){var n;return t(this,i),(n=a.call(this,e)).name="info",e.once("video:loadedmetadata",(function(){f||n.init()})),n}return n(i,[{key:"init",value:function(){var t=this,e=this.art,a=e.events.proxy,n=e.template,i=n.$infoPanel,o=n.$infoClose,r=n.$video;a(o,"click",(function(){t.show=!1}));var s=null,l=y("[data-video]",i)||[];this.art.on("destroy",(function(){clearTimeout(s)})),function t(){for(var e=0;e<l.length;e++){var a=l[e],n=r[a.dataset.video],i="number"==typeof n?n.toFixed(2):n;a.innerText!==i&&(a.innerText=i)}s=setTimeout(t,1e3)}()}}]),i}(Ct);function ke(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function xe(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ke(Object(a),!0).forEach((function(e){nt(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ke(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Se(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,n=c(t);if(e){var i=c(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return l(this,a)}}var $e=function(e){r(i,e);var a=Se(i);function i(e){var n;return t(this,i),(n=a.call(this,e)).name="subtitle",e.once("video:loadedmetadata",(function(){n.init(e.option.subtitle)})),n}return n(i,[{key:"url",get:function(){return this.art.template.$track.src},set:function(t){this.switch(t)}},{key:"textTrack",get:function(){return this.art.template.$video.textTracks[0]}},{key:"activeCue",get:function(){return this.textTrack.activeCues[0]}},{key:"style",value:function(t,e){var a=this.art.template.$subtitle;return"object"===s(t)?D(a,t):$(a,t,e)}},{key:"update",value:function(){var t=this.art.template.$subtitle;t.innerHTML="",this.activeCue&&(t.innerHTML=this.activeCue.text.split(/\r?\n/).map((function(t){return"<p>".concat(et(t),"</p>")})).join(""),this.art.emit("subtitleUpdate",this.activeCue.text))}},{key:"switch",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=this.art,n=a.i18n,i=a.notice,o=a.option,r=xe(xe(xe({},o.subtitle),e),{},{url:t});return this.init(r).then((function(t){return e.name&&(i.show="".concat(n.get("Switch Subtitle"),": ").concat(e.name)),t}))}},{key:"init",value:function(t){var e=this;if(d(t,ht.subtitle),t.url){var a=this.art,n=a.notice,i=a.events.proxy,o=a.template,r=o.$subtitle,s=o.$video;if(!o.$track){var l=document.createElement("track");l.default=!0,l.kind="metadata",s.appendChild(l),this.art.template.$track=l,i(this.textTrack,"cuechange",this.update.bind(this))}return this.style(t.style),N(window.fetch,"fetch not support"),fetch(t.url).then((function(t){return t.arrayBuffer()})).then((function(a){N(window.TextDecoder,"TextDecoder not support");var n=new TextDecoder(t.encoding).decode(a);switch(e.art.emit("subtitleLoad",t.url),t.type||M(t.url)){case"srt":return F(j(n));case"ass":return F(B(n));case"vtt":return F(n);default:return t.url}})).then((function(t){return r.innerHTML="",e.url===t||(URL.revokeObjectURL(e.url),e.art.template.$track.src=t,e.art.emit("subtitleSwitch",t)),t})).catch((function(t){throw n.show=t,t}))}}}]),i}(Ct),De=function(){function e(a){var n=this;t(this,e),this.destroyEvents=[],this.proxy=this.proxy.bind(this),this.hover=this.hover.bind(this),this.loadImg=this.loadImg.bind(this),a.whitelist.state&&a.once("video:loadedmetadata",(function(){!function(t,e){var a=t.template,n=a.$player,i=a.$video;e.proxy(document,["click","contextmenu"],(function(e){A(e,n)?(t.isFocus=!0,t.emit("focus")):(t.isFocus=!1,t.emit("blur"))}));var o=0;e.proxy(i,"click",(function(){var e=Date.now();e-o<=300?(t.emit("dblclick"),f?t.toggle():t.fullscreen=!t.fullscreen):(t.emit("click"),f||t.toggle()),o=e}))}(a,n),function(t,e){var a=t.template.$player;e.hover(a,(function(){w(a,"art-hover"),t.emit("hover",!0)}),(function(){k(a,"art-hover"),t.emit("hover")}))}(a,n),function(t,e){var a=t.template.$player;e.proxy(a,"mousemove",(function(e){t.emit("mousemove",e)}))}(a,n),function(t,e){var a=t.notice,n=t.option,i=X((function(){t.normalSize&&(t.autoSize=n.autoSize),t.aspectRatioReset=!0,a.show="",t.emit("resize")}),500);e.proxy(window,["orientationchange","resize"],(function(){i()})),screen&&screen.orientation&&screen.orientation.onchange&&e.proxy(screen.orientation,"change",(function(){i()}))}(a,n),function(t,e){if(f&&!t.option.isLive){var a=t.notice,n=t.template.$video,i=!1,o=0,r=0,s=null;e.proxy(n,"touchstart",(function(e){1===e.touches.length&&(i=!0,o=e.touches[0].clientX,clearTimeout(s),s=setTimeout((function(){t.playbackRate=3}),1e3))})),e.proxy(n,"touchmove",(function(e){if(1===e.touches.length&&i&&t.duration){var s=Q((e.touches[0].clientX-o)/n.clientWidth,-1,1);r=Q(t.currentTime+t.duration*s,0,t.duration),a.show="".concat(tt(r)," / ").concat(tt(t.duration))}})),e.proxy(document,"touchend",(function(){i&&(r&&(t.seek=r),3===t.playbackRate&&(t.playbackRate=1),o=0,r=0,i=!1,clearTimeout(s),s=null)}))}}(a,n),function(t,e){var a=t.option,n=t.template.$container,i=X((function(){t.emit("view",O(n,50))}),200);e.proxy(window,"scroll",(function(){i()})),t.on("view",(function(e){a.autoMini&&(t.mini=!e)}))}(a,n)}))}return n(e,[{key:"proxy",value:function(t,e,a){var n=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(Array.isArray(e))return e.map((function(e){return n.proxy(t,e,a,i)}));t.addEventListener(e,a,i);var o=function(){return t.removeEventListener(e,a,i)};return this.destroyEvents.push(o),o}},{key:"hover",value:function(t,e,a){e&&this.proxy(t,"mouseenter",e),a&&this.proxy(t,"mouseleave",a)}},{key:"loadImg",value:function(t){var e=this;return new Promise((function(a,n){var i;if(t instanceof HTMLImageElement)i=t;else{if("string"!=typeof t)return n(new V("Unable to get Image"));(i=new Image).src=t}if(i.complete)return a(i);e.proxy(i,"load",(function(){return a(i)})),e.proxy(i,"error",(function(){return n(new V("Failed to load Image: ".concat(i.src)))}))}))}},{key:"destroy",value:function(){for(var t=0;t<this.destroyEvents.length;t++)this.destroyEvents[t]()}}]),e}(),_e=function(){function e(a){var n=this;t(this,e),this.art=a,this.keys={},a.once("video:loadedmetadata",(function(){a.option.hotkey&&!f&&n.init()}))}return n(e,[{key:"init",value:function(){var t=this,e=this.art.events.proxy;this.add(27,(function(){t.art.fullscreenWeb&&(t.art.fullscreenWeb=!1)})),this.add(32,(function(){t.art.toggle()})),this.add(37,(function(){t.art.backward=5})),this.add(38,(function(){t.art.volume+=.1})),this.add(39,(function(){t.art.forward=5})),this.add(40,(function(){t.art.volume-=.1})),e(window,"keydown",(function(e){if(t.art.isFocus){var a=document.activeElement.tagName.toUpperCase(),n=document.activeElement.getAttribute("contenteditable");if("INPUT"!==a&&"TEXTAREA"!==a&&""!==n&&"true"!==n){var i=t.keys[e.keyCode];if(i){e.preventDefault();for(var o=0;o<i.length;o++)i[o].call(t.art,e);t.art.emit("hotkey",e)}}}}))}},{key:"add",value:function(t,e){return this.keys[t]?this.keys[t].push(e):this.keys[t]=[e],this}},{key:"remove",value:function(t,e){if(this.keys[t]){var a=this.keys[t].indexOf(e);-1!==a&&this.keys[t].splice(a,1)}return this}}]),e}();function Ce(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,n=c(t);if(e){var i=c(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return l(this,a)}}var Te=function(e){r(i,e);var a=Ce(i);function i(e){var n;t(this,i),n=a.call(this,e);var o=e.option,r=e.template.$layer;return n.name="layer",n.$parent=r,e.once("video:loadedmetadata",(function(){for(var t=0;t<o.layers.length;t++)n.add(o.layers[t])})),n}return n(i)}(Ct);function Pe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,n=c(t);if(e){var i=c(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return l(this,a)}}var Oe=function(e){r(i,e);var a=Pe(i);function i(e){var n;return t(this,i),(n=a.call(this,e)).name="loading",S(e.template.$loading,e.icons.loading),n}return n(i)}(Ct),Ae=function(){function e(a){t(this,e),this.art=a,this.time=2e3,this.timer=null}return n(e,[{key:"show",set:function(t){var e=this.art.template,a=e.$player,n=e.$noticeInner;if(!t)return k(a,"art-notice-show");n.innerText=t instanceof Error?t.message.trim():t,w(a,"art-notice-show"),clearTimeout(this.timer),this.timer=setTimeout((function(){n.innerText="",k(a,"art-notice-show")}),this.time)}}]),e}();function Ze(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,n=c(t);if(e){var i=c(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return l(this,a)}}var Ie=function(e){r(i,e);var a=Ze(i);function i(e){var n;t(this,i),(n=a.call(this,e)).name="mask";var o=e.template,r=e.icons,s=e.events;return S(o.$state,r.state),s.proxy(o.$state,"click",(function(){return e.play()})),n}return n(i)}(Ct);function Re(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}var Le=n((function e(a){var n=this;t(this,e);var i=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Re(Object(a),!0).forEach((function(e){nt(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Re(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({loading:'<svg xmlns="http://www.w3.org/2000/svg" width="50px" height="50px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" class="uil-default"><rect x="0" y="0" width="100" height="100" fill="none" class="bk"/><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#ffffff" transform="rotate(0 50 50) translate(0 -30)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-1s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#ffffff" transform="rotate(30 50 50) translate(0 -30)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.9166666666666666s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#ffffff" transform="rotate(60 50 50) translate(0 -30)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.8333333333333334s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#ffffff" transform="rotate(90 50 50) translate(0 -30)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.75s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#ffffff" transform="rotate(120 50 50) translate(0 -30)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.6666666666666666s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#ffffff" transform="rotate(150 50 50) translate(0 -30)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.5833333333333334s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#ffffff" transform="rotate(180 50 50) translate(0 -30)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.5s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#ffffff" transform="rotate(210 50 50) translate(0 -30)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.4166666666666667s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#ffffff" transform="rotate(240 50 50) translate(0 -30)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.3333333333333333s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#ffffff" transform="rotate(270 50 50) translate(0 -30)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.25s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#ffffff" transform="rotate(300 50 50) translate(0 -30)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.16666666666666666s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#ffffff" transform="rotate(330 50 50) translate(0 -30)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.08333333333333333s" repeatCount="indefinite"/></rect></svg>',state:'<svg xmlns="http://www.w3.org/2000/svg" height="60" width="60" style="filter: drop-shadow(0px 1px 1px black);" viewBox="0 0 24 24"><path d="M20,2H4C1.8,2,0,3.8,0,6v12c0,2.2,1.8,4,4,4h16c2.2,0,4-1.8,4-4V6C24,3.8,22.2,2,20,2z M15.6,12.8L10.5,16 C9.9,16.5,9,16,9,15.2V8.8C9,8,9.9,7.5,10.5,8l5.1,3.2C16.3,11.5,16.3,12.5,15.6,12.8z"/></svg>',play:'<svg xmlns="http://www.w3.org/2000/svg" height="22" width="22" viewBox="0 0 22 22"><path d="M17.982 9.275L8.06 3.27A2.013 2.013 0 0 0 5 4.994v12.011a2.017 2.017 0 0 0 3.06 1.725l9.922-6.005a2.017 2.017 0 0 0 0-3.45z"></path></svg>',pause:'<svg xmlns="http://www.w3.org/2000/svg" height="22" width="22" viewBox="0 0 22 22"><path d="M7 3a2 2 0 0 0-2 2v12a2 2 0 1 0 4 0V5a2 2 0 0 0-2-2zM15 3a2 2 0 0 0-2 2v12a2 2 0 1 0 4 0V5a2 2 0 0 0-2-2z"></path></svg>',check:'<svg xmlns="http://www.w3.org/2000/svg" height="100%" version="1.1" viewBox="0 0 24 24" width="100%"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z" fill="#fff" /></svg>',volume:'<svg xmlns="http://www.w3.org/2000/svg" height="22" width="22" viewBox="0 0 22 22"><path d="M10.188 4.65L6 8H5a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h1l4.188 3.35a.5.5 0 0 0 .812-.39V5.04a.498.498 0 0 0-.812-.39zM14.446 3.778a1 1 0 0 0-.862 1.804 6.002 6.002 0 0 1-.007 10.838 1 1 0 0 0 .86 1.806A8.001 8.001 0 0 0 19 11a8.001 8.001 0 0 0-4.554-7.222z"></path><path d="M15 11a3.998 3.998 0 0 0-2-3.465v6.93A3.998 3.998 0 0 0 15 11z"></path></svg>',volumeClose:'<svg xmlns="http://www.w3.org/2000/svg" height="22" width="22" viewBox="0 0 22 22"><path d="M15 11a3.998 3.998 0 0 0-2-3.465v2.636l1.865 1.865A4.02 4.02 0 0 0 15 11z"></path><path d="M13.583 5.583A5.998 5.998 0 0 1 17 11a6 6 0 0 1-.585 2.587l1.477 1.477a8.001 8.001 0 0 0-3.446-11.286 1 1 0 0 0-.863 1.805zM18.778 18.778l-2.121-2.121-1.414-1.414-1.415-1.415L13 13l-2-2-3.889-3.889-3.889-3.889a.999.999 0 1 0-1.414 1.414L5.172 8H5a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h1l4.188 3.35a.5.5 0 0 0 .812-.39v-3.131l2.587 2.587-.01.005a1 1 0 0 0 .86 1.806c.215-.102.424-.214.627-.333l2.3 2.3a1.001 1.001 0 0 0 1.414-1.416zM11 5.04a.5.5 0 0 0-.813-.39L8.682 5.854 11 8.172V5.04z"></path></svg>',subtitle:'<svg xmlns="http://www.w3.org/2000/svg" height="22" width="22" viewBox="0 0 48 48"><path d="M0 0h48v48H0z" fill="none"/><path d="M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM8 24h8v4H8v-4zm20 12H8v-4h20v4zm12 0h-8v-4h8v4zm0-8H20v-4h20v4z"/></svg>',screenshot:'<svg xmlns="http://www.w3.org/2000/svg" height="22" width="22" viewBox="0 0 50 50">\t<path d="M 19.402344 6 C 17.019531 6 14.96875 7.679688 14.5 10.011719 L 14.097656 12 L 9 12 C 6.238281 12 4 14.238281 4 17 L 4 38 C 4 40.761719 6.238281 43 9 43 L 41 43 C 43.761719 43 46 40.761719 46 38 L 46 17 C 46 14.238281 43.761719 12 41 12 L 35.902344 12 L 35.5 10.011719 C 35.03125 7.679688 32.980469 6 30.597656 6 Z M 25 17 C 30.519531 17 35 21.480469 35 27 C 35 32.519531 30.519531 37 25 37 C 19.480469 37 15 32.519531 15 27 C 15 21.480469 19.480469 17 25 17 Z M 25 19 C 20.589844 19 17 22.589844 17 27 C 17 31.410156 20.589844 35 25 35 C 29.410156 35 33 31.410156 33 27 C 33 22.589844 29.410156 19 25 19 Z "/></svg>',setting:'<svg xmlns="http://www.w3.org/2000/svg" height="22" width="22" viewBox="0 0 22 22"><circle cx="11" cy="11" r="2"></circle><path d="M19.164 8.861L17.6 8.6a6.978 6.978 0 0 0-1.186-2.099l.574-1.533a1 1 0 0 0-.436-1.217l-1.997-1.153a1.001 1.001 0 0 0-1.272.23l-1.008 1.225a7.04 7.04 0 0 0-2.55.001L8.716 2.829a1 1 0 0 0-1.272-.23L5.447 3.751a1 1 0 0 0-.436 1.217l.574 1.533A6.997 6.997 0 0 0 4.4 8.6l-1.564.261A.999.999 0 0 0 2 9.847v2.306c0 .489.353.906.836.986l1.613.269a7 7 0 0 0 1.228 2.075l-.558 1.487a1 1 0 0 0 .436 1.217l1.997 1.153c.423.244.961.147 1.272-.23l1.04-1.263a7.089 7.089 0 0 0 2.272 0l1.04 1.263a1 1 0 0 0 1.272.23l1.997-1.153a1 1 0 0 0 .436-1.217l-.557-1.487c.521-.61.94-1.31 1.228-2.075l1.613-.269a.999.999 0 0 0 .835-.986V9.847a.999.999 0 0 0-.836-.986zM11 15a4 4 0 1 1 0-8 4 4 0 0 1 0 8z"></path></svg>',fullscreen:'<svg xmlns="http://www.w3.org/2000/svg" height="36" width="36" viewBox="0 0 36 36">\t<path d="m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z"></path>\t<path d="m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z"></path>\t<path d="m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z"></path>\t<path d="M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z"></path></svg>',fullscreenWeb:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36" height="36" width="36">\t<path d="m 28,11 0,14 -20,0 0,-14 z m -18,2 16,0 0,10 -16,0 0,-10 z" fill-rule="evenodd"></path></svg>',pip:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36" height="32" width="32"><path d="M25,17 L17,17 L17,23 L25,23 L25,17 L25,17 Z M29,25 L29,10.98 C29,9.88 28.1,9 27,9 L9,9 C7.9,9 7,9.88 7,10.98 L7,25 C7,26.1 7.9,27 9,27 L27,27 C28.1,27 29,26.1 29,25 L29,25 Z M27,25.02 L9,25.02 L9,10.97 L27,10.97 L27,25.02 L27,25.02 Z"></path></svg>',arrowLeft:'<svg xmlns="http://www.w3.org/2000/svg" height="100%" version="1.1" viewBox="0 0 32 32" width="100%"><path d="M 19.41,20.09 14.83,15.5 19.41,10.91 18,9.5 l -6,6 6,6 z" fill="#fff" /></svg>',arrowRight:'<svg xmlns="http://www.w3.org/2000/svg" height="100%" version="1.1" viewBox="0 0 32 32" width="100%"><path d="m 12.59,20.34 4.58,-4.59 -4.58,-4.59 1.41,-1.41 6,6 -6,6 z" fill="#fff"/></svg>',playbackRate:'<svg height="24" viewBox="0 0 24 24" width="24"><path d="M10,8v8l6-4L10,8L10,8z M6.3,5L5.7,4.2C7.2,3,9,2.2,11,2l0.1,1C9.3,3.2,7.7,3.9,6.3,5z            M5,6.3L4.2,5.7C3,7.2,2.2,9,2,11 l1,.1C3.2,9.3,3.9,7.7,5,6.3z            M5,17.7c-1.1-1.4-1.8-3.1-2-4.8L2,13c0.2,2,1,3.8,2.2,5.4L5,17.7z            M11.1,21c-1.8-0.2-3.4-0.9-4.8-2 l-0.6,.8C7.2,21,9,21.8,11,22L11.1,21z            M22,12c0-5.2-3.9-9.4-9-10l-0.1,1c4.6,.5,8.1,4.3,8.1,9s-3.5,8.5-8.1,9l0.1,1 C18.2,21.5,22,17.2,22,12z" fill="white" data-darkreader-inline-fill="" style="--darkreader-inline-fill:#a8a6a4;"></path></svg>',aspectRatio:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 88 88" width="88" height="88" preserveAspectRatio="xMidYMid meet" style="width: 100%; height: 100%; transform: translate3d(0px, 0px, 0px);"><defs><clipPath id="__lottie_element_216"><rect width="88" height="88" x="0" y="0"></rect></clipPath></defs><g clip-path="url(#__lottie_element_216)"><g transform="matrix(1,0,0,1,44,44)" opacity="1" style="display: block;"><g opacity="1" transform="matrix(1,0,0,1,0,0)"><path fill="rgb(255,255,255)" fill-opacity="1" d=" M12.437999725341797,-12.70199966430664 C12.437999725341797,-12.70199966430664 9.618000030517578,-9.881999969482422 9.618000030517578,-9.881999969482422 C8.82800006866455,-9.092000007629395 8.82800006866455,-7.831999778747559 9.618000030517578,-7.052000045776367 C9.618000030517578,-7.052000045776367 16.687999725341797,0.017999999225139618 16.687999725341797,0.017999999225139618 C16.687999725341797,0.017999999225139618 9.618000030517578,7.0879998207092285 9.618000030517578,7.0879998207092285 C8.82800006866455,7.877999782562256 8.82800006866455,9.137999534606934 9.618000030517578,9.918000221252441 C9.618000030517578,9.918000221252441 12.437999725341797,12.748000144958496 12.437999725341797,12.748000144958496 C13.227999687194824,13.527999877929688 14.48799991607666,13.527999877929688 15.267999649047852,12.748000144958496 C15.267999649047852,12.748000144958496 26.58799934387207,1.437999963760376 26.58799934387207,1.437999963760376 C27.368000030517578,0.6579999923706055 27.368000030517578,-0.6119999885559082 26.58799934387207,-1.3919999599456787 C26.58799934387207,-1.3919999599456787 15.267999649047852,-12.70199966430664 15.267999649047852,-12.70199966430664 C14.48799991607666,-13.491999626159668 13.227999687194824,-13.491999626159668 12.437999725341797,-12.70199966430664z M-12.442000389099121,-12.70199966430664 C-13.182000160217285,-13.442000389099121 -14.362000465393066,-13.482000350952148 -15.142000198364258,-12.821999549865723 C-15.142000198364258,-12.821999549865723 -15.272000312805176,-12.70199966430664 -15.272000312805176,-12.70199966430664 C-15.272000312805176,-12.70199966430664 -26.582000732421875,-1.3919999599456787 -26.582000732421875,-1.3919999599456787 C-27.32200050354004,-0.6520000100135803 -27.36199951171875,0.5180000066757202 -26.70199966430664,1.3079999685287476 C-26.70199966430664,1.3079999685287476 -26.582000732421875,1.437999963760376 -26.582000732421875,1.437999963760376 C-26.582000732421875,1.437999963760376 -15.272000312805176,12.748000144958496 -15.272000312805176,12.748000144958496 C-14.531999588012695,13.48799991607666 -13.362000465393066,13.527999877929688 -12.571999549865723,12.868000030517578 C-12.571999549865723,12.868000030517578 -12.442000389099121,12.748000144958496 -12.442000389099121,12.748000144958496 C-12.442000389099121,12.748000144958496 -9.612000465393066,9.918000221252441 -9.612000465393066,9.918000221252441 C-8.871999740600586,9.178000450134277 -8.831999778747559,8.008000373840332 -9.501999855041504,7.2179999351501465 C-9.501999855041504,7.2179999351501465 -9.612000465393066,7.0879998207092285 -9.612000465393066,7.0879998207092285 C-9.612000465393066,7.0879998207092285 -16.68199920654297,0.017999999225139618 -16.68199920654297,0.017999999225139618 C-16.68199920654297,0.017999999225139618 -9.612000465393066,-7.052000045776367 -9.612000465393066,-7.052000045776367 C-8.871999740600586,-7.791999816894531 -8.831999778747559,-8.961999893188477 -9.501999855041504,-9.751999855041504 C-9.501999855041504,-9.751999855041504 -9.612000465393066,-9.881999969482422 -9.612000465393066,-9.881999969482422 C-9.612000465393066,-9.881999969482422 -12.442000389099121,-12.70199966430664 -12.442000389099121,-12.70199966430664z M28,-28 C32.41999816894531,-28 36,-24.420000076293945 36,-20 C36,-20 36,20 36,20 C36,24.420000076293945 32.41999816894531,28 28,28 C28,28 -28,28 -28,28 C-32.41999816894531,28 -36,24.420000076293945 -36,20 C-36,20 -36,-20 -36,-20 C-36,-24.420000076293945 -32.41999816894531,-28 -28,-28 C-28,-28 28,-28 28,-28z" data-darkreader-inline-fill="" style="--darkreader-inline-fill:#a8a6a4;"></path></g></g></g></svg>',config:'<svg height="24" viewBox="0 0 24 24" width="24"><path d="M15,17h6v1h-6V17z M11,17H3v1h8v2h1v-2v-1v-2h-1V17z M14,8h1V6V5V3h-1v2H3v1h11V8z            M18,5v1h3V5H18z M6,14h1v-2v-1V9H6v2H3v1 h3V14z M10,12h11v-1H10V12z" fill="white" data-darkreader-inline-fill="" style="--darkreader-inline-fill:#a8a6a4;"></path></svg>',lock:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1650612139149" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="12683" xmlns:xlink="http://www.w3.org/1999/xlink" width="20" height="20"><defs><style type="text/css"></style></defs><path d="M298.666667 426.666667V341.333333a213.333333 213.333333 0 1 1 426.666666 0v85.333334h42.666667a85.333333 85.333333 0 0 1 85.333333 85.333333v256a85.333333 85.333333 0 0 1-85.333333 85.333333H256a85.333333 85.333333 0 0 1-85.333333-85.333333v-256a85.333333 85.333333 0 0 1 85.333333-85.333333h42.666667z m213.333333-213.333334a128 128 0 0 0-128 128v85.333334h256V341.333333a128 128 0 0 0-128-128z" fill="#ffffff" p-id="12684"></path></svg>',unlock:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1650612464266" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="14150" xmlns:xlink="http://www.w3.org/1999/xlink" width="20" height="20"><defs><style type="text/css"></style></defs><path d="M666.752 194.517333L617.386667 268.629333A128 128 0 0 0 384 341.333333l0.042667 85.333334h384a85.333333 85.333333 0 0 1 85.333333 85.333333v256a85.333333 85.333333 0 0 1-85.333333 85.333333H256a85.333333 85.333333 0 0 1-85.333333-85.333333v-256a85.333333 85.333333 0 0 1 85.333333-85.333333h42.666667V341.333333a213.333333 213.333333 0 0 1 368.085333-146.816z" fill="#ffffff" p-id="14151"></path></svg>'},a.option.icons);Object.keys(i).forEach((function(t){q(n,t,{get:function(){var e=document.createElement("i");return w(e,"art-icon"),w(e,"art-icon-".concat(t)),S(e,i[t]),e}})}))}));function Ee(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,n=c(t);if(e){var i=c(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return l(this,a)}}function Ve(t,e,a){for(var n=0;n<t.length;n++){var i=t[n];i._parentItem=e,i._parentList=a,i.selector&&Ve(i.selector,i,t)}return t}var Ne=function(e){r(i,e);var a=Ee(i);function i(e){var n;t(this,i),n=a.call(this,e);var o=e.option,r=e.events.proxy,s=e.template,l=s.$setting,c=s.$player;return n.art=e,n.name="setting",n.$parent=l,n.width=250,n.option=[],n.cache=new Map,o.setting&&(e.once("video:loadedmetadata",(function(){o.playbackRate&&n.option.push(function(t){var e=t.i18n,a=t.icons;function n(t){return 1===t?e.get("Normal"):t}function i(t,e,a){e&&(e.innerText=n(a));var i=y(".art-setting-item",t).find((function(t){return Number(t.dataset.value)===a}));i&&T(i,"art-current")}return{width:200,html:e.get("Play Speed"),tooltip:n(t.playbackRate),icon:a.playbackRate,selector:[.5,.75,1,1.25,1.5,2].map((function(e){return{value:e,default:e===t.playbackRate,html:n(e)}})),onSelect:function(e){t.playbackRate=e.value},mounted:function(e,a){i(e,a._$tooltip,t.playbackRate),t.on("playbackRate",(function(){i(e,a._$tooltip,t.playbackRate)}))}}}(e)),o.aspectRatio&&n.option.push(function(t){var e=t.i18n,a=t.icons;function n(t){return"default"===t?e.get("Default"):t}function i(t,e,a){e&&(e.innerText=n(a));var i=y(".art-setting-item",t).find((function(t){return t.dataset.value===a}));i&&T(i,"art-current")}return{width:200,html:e.get("Aspect Ratio"),icon:a.aspectRatio,tooltip:n(t.aspectRatio),selector:["default","4:3","16:9"].map((function(e){return{value:e,default:e===t.aspectRatio,html:n(e)}})),onSelect:function(e){t.aspectRatio=e.value},mounted:function(e,a){i(e,a._$tooltip,t.aspectRatio),t.on("aspectRatio",(function(){i(e,a._$tooltip,t.aspectRatio)}))}}}(e)),o.flip&&n.option.push(function(t){var e=t.i18n,a=t.icons,n={normal:"Normal",horizontal:"Horizontal",vertical:"Vertical"};function i(t,a,i){a&&(a.innerText=e.get(n[i]));var o=y(".art-setting-item",t).find((function(t){return t.dataset.value===i}));o&&T(o,"art-current")}return{width:200,html:e.get("Video Flip"),tooltip:e.get(n[t.flip]),icon:a.config,selector:Object.keys(n).map((function(a){return{value:a,default:a===t.flip,html:e.get(n[a])}})),onSelect:function(e){t.flip=e.value},mounted:function(e,a){i(e,a._$tooltip,t.flip),t.on("flip",(function(){i(e,a._$tooltip,t.flip)}))}}}(e)),o.subtitleOffset&&n.option.push(function(t){var e=t.i18n,a=t.icons;function n(t){return 0===t?e.get("Normal"):t}function i(t,e,a){e&&(e.innerText=n(a));var i=y(".art-setting-item",t).find((function(t){return Number(t.dataset.value)===a}));i&&T(i,"art-current")}return{width:200,html:e.get("Subtitle Offset"),tooltip:n(t.subtitleOffset),icon:a.subtitle,selector:[-5,-4,-3,-2,-1,0,1,2,3,4,5].map((function(e){return{value:e,default:e===t.subtitleOffset,html:n(e)}})),onSelect:function(e){t.subtitleOffset=e.value},mounted:function(e,a){i(e,a._$tooltip,t.subtitleOffset),t.on("subtitleOffset",(function(){i(e,a._$tooltip,t.subtitleOffset)}))}}}(e));for(var t=0;t<o.settings.length;t++)n.option.push(o.settings[t]);n.option=Ve(n.option),n.init(n.option)})),e.on("blur",(function(){n.show&&(n.show=!1,n.init(n.option))})),r(c,"click",(function(t){!n.show||A(t,e.controls.setting)||A(t,n.$parent)||(n.show=!1,n.init(n.option))}))),n}return n(i,[{key:"creatHeader",value:function(t){var e=this,a=this.art,n=a.icons,i=a.events.proxy,o=document.createElement("div");w(o,"art-setting-item"),w(o,"art-setting-item-back");var r=S(o,'<div class="art-setting-item-left"></div>'),s=document.createElement("div");return w(s,"art-setting-item-left-icon"),S(s,n.arrowLeft),S(r,s),S(r,t._parentItem.html),i(o,"click",(function(){e.init(t._parentList)})),o}},{key:"creatItem",value:function(t){var e=this,a=this.art,n=a.icons,i=a.events.proxy,o=t.selector&&t.selector.length,r=document.createElement("div");w(r,"art-setting-item"),t.default&&w(r,"art-current"),void 0!==t.value&&(r.dataset.value=t.value);var s=S(r,'<div class="art-setting-item-left"></div>'),l=S(r,'<div class="art-setting-item-right"></div>'),c=document.createElement("div");if(w(c,"art-setting-item-left-icon"),S(c,o?t.icon||n.config:n.check),S(s,c),S(s,t.html),o){var u=document.createElement("div");w(u,"art-setting-item-right-tooltip"),S(l,u),t._$tooltip=u,t.tooltip&&(u.innerHTML=t.tooltip);var d=document.createElement("div");w(d,"art-setting-item-right-icon"),S(d,n.arrowRight),S(l,d)}return i(r,"click",(function(a){if(o)e.init(t.selector,t.width);else if(T(r,"art-current"),t._parentList&&e.init(t._parentList),t._parentItem&&t._parentItem.onSelect){var n=t._parentItem.onSelect.call(e.art,t,r,a);t._parentItem._$tooltip&&("string"!=typeof n&&"number"!=typeof n||(t._parentItem._$tooltip.innerHTML=n))}})),r}},{key:"add",value:function(t){"function"==typeof t?this.option.push(t(this.art)):this.option.push(t),this.option=Ve(this.option),this.init(this.option)}},{key:"init",value:function(t,e){if(this.cache.has(t)){var a=this.cache.get(t);T(a,"art-current"),$(this.$parent,"width","".concat(a.dataset.width,"px"))}else{var n=document.createElement("div");w(n,"art-setting-panel"),t[0]&&t[0]._parentItem&&S(n,this.creatHeader(t[0]));for(var i=0;i<t.length;i++)S(n,this.creatItem(t[i]));n.dataset.width=e||this.width,S(this.$parent,n),this.cache.set(t,n),T(n,"art-current"),$(this.$parent,"width","".concat(n.dataset.width,"px")),t[0]&&t[0]._parentItem&&t[0]._parentItem.mounted&&t[0]._parentItem.mounted.call(this.art,n,t[0]._parentItem)}}}]),i}(Ct),je=function(){function e(){t(this,e),this.name="artplayer_settings",this.settings={}}return n(e,[{key:"get",value:function(t){try{var e=JSON.parse(window.localStorage.getItem(this.name))||{};return t?e[t]:e}catch(e){return t?this.settings[t]:this.settings}}},{key:"set",value:function(t,e){try{var a=Object.assign({},this.get(),nt({},t,e));window.localStorage.setItem(this.name,JSON.stringify(a))}catch(a){this.settings[t]=e}}},{key:"del",value:function(t){try{var e=this.get();delete e[t],window.localStorage.setItem(this.name,JSON.stringify(e))}catch(e){delete this.settings[t]}}},{key:"clean",value:function(){try{window.localStorage.removeItem(this.name)}catch(t){this.settings={}}}}]),e}();function Fe(t){return t.layers.add({name:"miniProgressBar",style:{display:"none",position:"absolute",left:0,right:0,bottom:0,height:"2px",backgroundColor:"var(--theme)"},mounted:function(e){t.on("control",(function(t){e.style.display=t?"none":"block"})),t.on("destroy",(function(){e.style.display="none"})),t.on("video:timeupdate",(function(){e.style.width="".concat(100*t.played,"%")}))}}),{name:"miniProgressBar"}}function Be(t){var e=t.layers,a=t.icons,n=t.template.$player;return e.add({name:"lock",mounted:function(e){var n=S(e,a.lock),i=S(e,a.unlock);$(n,"display","none"),t.on("lock",(function(t){t?($(n,"display","inline-flex"),$(i,"display","none")):($(n,"display","none"),$(i,"display","inline-flex"))}))},click:function(){x(n,"art-lock")?(k(n,"art-lock"),t.emit("lock",!1)):(w(n,"art-lock"),t.emit("lock",!0))}}),{name:"lock"}}var Me=function(){function e(a){t(this,e),this.art=a,this.id=0;var n=a.option;!n.isLive&&n.miniProgressBar&&this.add(Fe),n.lock&&f&&this.add(Be);for(var i=0;i<n.plugins.length;i++)this.add(n.plugins[i])}return n(e,[{key:"add",value:function(t){this.id+=1;var e=t.call(this,this.art),a=e&&e.name||t.name||"plugin".concat(this.id);return N(!G(this,a),"Cannot add a plugin that already has the same name: ".concat(a)),q(this,a,{value:e}),this}}]),e}(),Ue=function(){function e(a){t(this,e),this.art=a,this.init()}return n(e,[{key:"current",get:function(){return this.art.option.ads[this.index]}},{key:"prev",get:function(){return this.art.option.ads[this.index-1]}},{key:"next",get:function(){return this.art.option.ads[this.index+1]}},{key:"init",value:function(){this.index=0,this.isEnd=!1,this.playing=!1,this.urlCache=this.art.option.url,this.current&&(this.playing=!0,this.play(this.current))}},{key:"play",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isEnd||(this.art.switchUrl(e.url),this.art.once("video:timeupdate",(function(){t.art.emit("ads:start",e)})),this.art.once("video:ended",(function(){var e=t.next;e?(t.index+=1,t.play(e)):t.end()})))}},{key:"end",value:function(){this.isEnd||(this.isEnd=!0,this.playing=!1,this.art.option.url=this.urlCache,this.art.switchUrl(this.urlCache),this.art.emit("ads:end"))}}]),e}(),ze=n((function e(a){t(this,e);for(var n=a.option,i=a.events.proxy,o=a.template.$video,r=0;r<ft.events.length;r++)i(o,ft.events[r],(function(t){a.emit("video:".concat(t.type),t)}));Object.keys(n.moreVideoAttr).forEach((function(t){o[t]=n.moreVideoAttr[t]})),n.muted&&(o.muted=n.muted),n.volume&&(o.volume=Q(n.volume,0,1)),n.poster&&(o.poster=n.poster),n.autoplay&&(o.autoplay=n.autoplay),n.playsInline&&(o.playsInline=!0,o["webkit-playsinline"]=!0);var s=n.type||M(n.url),l=n.customType[s];s&&l?(l(o,n.url,a),a.emit("customType",s)):(o.src=n.url,a.emit("url",o.src))}));function He(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,n=c(t);if(e){var i=c(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return l(this,a)}}var qe=0,We=[],Ge=function(e){r(o,e);var a=He(o);function o(e,n){var r;t(this,o),(r=a.call(this)).id=++qe;var s=K(o.option,e);return r.option=d(s,ht),r.isReady=!1,r.isFocus=!1,r.isDestroy=!1,r.whitelist=new vt(i(r)),r.template=new mt(i(r)),r.events=new De(i(r)),r.whitelist.state?(r.storage=new je(i(r)),r.icons=new Le(i(r)),r.i18n=new yt(i(r)),r.notice=new Ae(i(r)),r.player=new $t(i(r)),r.layers=new Te(i(r)),r.controls=new ie(i(r)),r.contextmenu=new be(i(r)),r.subtitle=new $e(i(r)),r.ads=new Ue(i(r)),r.info=new we(i(r)),r.loading=new Oe(i(r)),r.hotkey=new _e(i(r)),r.mask=new Ie(i(r)),r.setting=new Ne(i(r)),r.plugins=new Me(i(r))):r.mobile=new ze(i(r)),"function"==typeof n&&r.on("ready",(function(){return n.call(i(r))})),We.push(i(r)),r}return n(o,[{key:"proxy",get:function(){return this.events.proxy}},{key:"query",get:function(){return this.template.query}},{key:"destroy",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.events.destroy(),this.template.destroy(t),We.splice(We.indexOf(this),1),this.isDestroy=!0,this.emit("destroy")}}],[{key:"instances",get:function(){return We}},{key:"version",get:function(){return"4.3.7"}},{key:"env",get:function(){return"production"}},{key:"build",get:function(){return"1650616934539"}},{key:"config",get:function(){return ft}},{key:"utils",get:function(){return at}},{key:"scheme",get:function(){return ht}},{key:"Emitter",get:function(){return p}},{key:"validator",get:function(){return d}},{key:"kindOf",get:function(){return d.kindOf}},{key:"html",get:function(){return mt.html}},{key:"option",get:function(){return{container:"#artplayer",url:"",poster:"",title:"",type:"",theme:"#f00",volume:.7,isLive:!1,muted:!1,autoplay:!1,autoSize:!1,autoMini:!1,loop:!1,flip:!1,playbackRate:!1,aspectRatio:!1,screenshot:!1,setting:!1,hotkey:!0,pip:!1,mutex:!0,backdrop:!0,fullscreen:!1,fullscreenWeb:!1,subtitleOffset:!1,miniProgressBar:!1,useSSR:!1,playsInline:!0,lock:!0,ads:[],layers:[],contextmenu:[],controls:[],settings:[],quality:[],highlight:[],plugins:[],whitelist:[],thumbnails:{url:"",number:60,column:10},subtitle:{url:"",type:"",style:{},encoding:"utf-8"},moreVideoAttr:{controls:!1,preload:v?"auto":"metadata"},icons:{},customType:{},lang:navigator.language.toLowerCase()}}}]),o}(p);return console.log("%c ArtPlayer %c 4.3.7 %c https://artplayer.org","color: #fff; background: #5f5f5f","color: #fff; background: #4bc729",""),Ge}))},590:function(t,e,a){var n=a(47293),i=a(5112),o=a(31913),r=i("iterator");t.exports=!n((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,a="";return t.pathname="c%20d",e.forEach((function(t,n){e["delete"]("b"),a+=n+t})),o&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[r]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==a||"x"!==new URL("http://x",void 0).host}))},54986:function(t,e,a){var n=a(88113);t.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(n)},76650:function(t,e,a){var n=a(1702),i=a(17466),o=a(41340),r=a(38415),s=a(84488),l=n(r),c=n("".slice),u=Math.ceil,d=function(t){return function(e,a,n){var r,d,p=o(s(e)),h=i(a),f=p.length,v=void 0===n?" ":o(n);return h<=f||""==v?p:(r=h-f,d=l(v,u(r/v.length)),d.length>r&&(d=c(d,0,r)),t?p+d:d+p)}};t.exports={start:d(!1),end:d(!0)}},33197:function(t,e,a){"use strict";var n=a(17854),i=a(1702),o=2147483647,r=36,s=1,l=26,c=38,u=700,d=72,p=128,h="-",f=/[^\0-\u007E]/,v=/[.\u3002\uFF0E\uFF61]/g,m="Overflow: input needs wider integers to process",g=r-s,b=n.RangeError,y=i(v.exec),w=Math.floor,k=String.fromCharCode,x=i("".charCodeAt),S=i([].join),$=i([].push),D=i("".replace),_=i("".split),C=i("".toLowerCase),T=function(t){var e=[],a=0,n=t.length;while(a<n){var i=x(t,a++);if(i>=55296&&i<=56319&&a<n){var o=x(t,a++);56320==(64512&o)?$(e,((1023&i)<<10)+(1023&o)+65536):($(e,i),a--)}else $(e,i)}return e},P=function(t){return t+22+75*(t<26)},O=function(t,e,a){var n=0;t=a?w(t/u):t>>1,t+=w(t/e);while(t>g*l>>1)t=w(t/g),n+=r;return w(n+(g+1)*t/(t+c))},A=function(t){var e=[];t=T(t);var a,n,i=t.length,c=p,u=0,f=d;for(a=0;a<t.length;a++)n=t[a],n<128&&$(e,k(n));var v=e.length,g=v;v&&$(e,h);while(g<i){var y=o;for(a=0;a<t.length;a++)n=t[a],n>=c&&n<y&&(y=n);var x=g+1;if(y-c>w((o-u)/x))throw b(m);for(u+=(y-c)*x,c=y,a=0;a<t.length;a++){if(n=t[a],n<c&&++u>o)throw b(m);if(n==c){var D=u,_=r;while(1){var C=_<=f?s:_>=f+l?l:_-f;if(D<C)break;var A=D-C,Z=r-C;$(e,k(P(C+A%Z))),D=w(A/Z),_+=r}$(e,k(P(D))),f=O(u,x,g==v),u=0,g++}}u++,c++}return S(e,"")};t.exports=function(t){var e,a,n=[],i=_(D(C(t),v,"."),".");for(e=0;e<i.length;e++)a=i[e],$(n,y(f,a)?"xn--"+A(a):a);return S(n,".")}},52420:function(t,e,a){var n=a(82109),i=a(64310);n({target:"Math",stat:!0},{sign:i})},69720:function(t,e,a){var n=a(82109),i=a(44699).entries;n({target:"Object",stat:!0},{entries:function(t){return i(t)}})},37227:function(t,e,a){"use strict";var n=a(77710),i=a(95631);n("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i)},70189:function(t,e,a){a(37227)},83112:function(t,e,a){"use strict";var n=a(82109),i=a(76650).start,o=a(54986);n({target:"String",proto:!0,forced:o},{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},65556:function(t,e,a){"use strict";a(66992);var n=a(82109),i=a(17854),o=a(46916),r=a(1702),s=a(19781),l=a(590),c=a(31320),u=a(12248),d=a(58003),p=a(24994),h=a(29909),f=a(25787),v=a(60614),m=a(92597),g=a(49974),b=a(70648),y=a(19670),w=a(70111),k=a(41340),x=a(70030),S=a(79114),$=a(18554),D=a(71246),_=a(48053),C=a(5112),T=a(94362),P=C("iterator"),O="URLSearchParams",A=O+"Iterator",Z=h.set,I=h.getterFor(O),R=h.getterFor(A),L=Object.getOwnPropertyDescriptor,E=function(t){if(!s)return i[t];var e=L(i,t);return e&&e.value},V=E("fetch"),N=E("Request"),j=E("Headers"),F=N&&N.prototype,B=j&&j.prototype,M=i.RegExp,U=i.TypeError,z=i.decodeURIComponent,H=i.encodeURIComponent,q=r("".charAt),W=r([].join),G=r([].push),Y=r("".replace),K=r([].shift),J=r([].splice),X=r("".split),Q=r("".slice),tt=/\+/g,et=Array(4),at=function(t){return et[t-1]||(et[t-1]=M("((?:%[\\da-f]{2}){"+t+"})","gi"))},nt=function(t){try{return z(t)}catch(e){return t}},it=function(t){var e=Y(t,tt," "),a=4;try{return z(e)}catch(n){while(a)e=Y(e,at(a--),nt);return e}},ot=/[!'()~]|%20/g,rt={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},st=function(t){return rt[t]},lt=function(t){return Y(H(t),ot,st)},ct=p((function(t,e){Z(this,{type:A,iterator:$(I(t).entries),kind:e})}),"Iterator",(function(){var t=R(this),e=t.kind,a=t.iterator.next(),n=a.value;return a.done||(a.value="keys"===e?n.key:"values"===e?n.value:[n.key,n.value]),a}),!0),ut=function(t){this.entries=[],this.url=null,void 0!==t&&(w(t)?this.parseObject(t):this.parseQuery("string"==typeof t?"?"===q(t,0)?Q(t,1):t:k(t)))};ut.prototype={type:O,bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var e,a,n,i,r,s,l,c=D(t);if(c){e=$(t,c),a=e.next;while(!(n=o(a,e)).done){if(i=$(y(n.value)),r=i.next,(s=o(r,i)).done||(l=o(r,i)).done||!o(r,i).done)throw U("Expected sequence with length 2");G(this.entries,{key:k(s.value),value:k(l.value)})}}else for(var u in t)m(t,u)&&G(this.entries,{key:u,value:k(t[u])})},parseQuery:function(t){if(t){var e,a,n=X(t,"&"),i=0;while(i<n.length)e=n[i++],e.length&&(a=X(e,"="),G(this.entries,{key:it(K(a)),value:it(W(a,"="))}))}},serialize:function(){var t,e=this.entries,a=[],n=0;while(n<e.length)t=e[n++],G(a,lt(t.key)+"="+lt(t.value));return W(a,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var dt=function(){f(this,pt);var t=arguments.length>0?arguments[0]:void 0;Z(this,new ut(t))},pt=dt.prototype;if(u(pt,{append:function(t,e){_(arguments.length,2);var a=I(this);G(a.entries,{key:k(t),value:k(e)}),a.updateURL()},delete:function(t){_(arguments.length,1);var e=I(this),a=e.entries,n=k(t),i=0;while(i<a.length)a[i].key===n?J(a,i,1):i++;e.updateURL()},get:function(t){_(arguments.length,1);for(var e=I(this).entries,a=k(t),n=0;n<e.length;n++)if(e[n].key===a)return e[n].value;return null},getAll:function(t){_(arguments.length,1);for(var e=I(this).entries,a=k(t),n=[],i=0;i<e.length;i++)e[i].key===a&&G(n,e[i].value);return n},has:function(t){_(arguments.length,1);var e=I(this).entries,a=k(t),n=0;while(n<e.length)if(e[n++].key===a)return!0;return!1},set:function(t,e){_(arguments.length,1);for(var a,n=I(this),i=n.entries,o=!1,r=k(t),s=k(e),l=0;l<i.length;l++)a=i[l],a.key===r&&(o?J(i,l--,1):(o=!0,a.value=s));o||G(i,{key:r,value:s}),n.updateURL()},sort:function(){var t=I(this);T(t.entries,(function(t,e){return t.key>e.key?1:-1})),t.updateURL()},forEach:function(t){var e,a=I(this).entries,n=g(t,arguments.length>1?arguments[1]:void 0),i=0;while(i<a.length)e=a[i++],n(e.value,e.key,this)},keys:function(){return new ct(this,"keys")},values:function(){return new ct(this,"values")},entries:function(){return new ct(this,"entries")}},{enumerable:!0}),c(pt,P,pt.entries,{name:"entries"}),c(pt,"toString",(function(){return I(this).serialize()}),{enumerable:!0}),d(dt,O),n({global:!0,forced:!l},{URLSearchParams:dt}),!l&&v(j)){var ht=r(B.has),ft=r(B.set),vt=function(t){if(w(t)){var e,a=t.body;if(b(a)===O)return e=t.headers?new j(t.headers):new j,ht(e,"content-type")||ft(e,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),x(t,{body:S(0,k(a)),headers:S(0,e)})}return t};if(v(V)&&n({global:!0,enumerable:!0,noTargetGet:!0,forced:!0},{fetch:function(t){return V(t,arguments.length>1?vt(arguments[1]):{})}}),v(N)){var mt=function(t){return f(this,F),new N(t,arguments.length>1?vt(arguments[1]):{})};F.constructor=mt,mt.prototype=F,n({global:!0,forced:!0,noTargetGet:!0},{Request:mt})}}t.exports={URLSearchParams:dt,getState:I}},41637:function(t,e,a){a(65556)},68789:function(t,e,a){"use strict";a(78783);var n,i=a(82109),o=a(19781),r=a(590),s=a(17854),l=a(49974),c=a(1702),u=a(36048).f,d=a(31320),p=a(25787),h=a(92597),f=a(21574),v=a(48457),m=a(41589),g=a(28710).codeAt,b=a(33197),y=a(41340),w=a(58003),k=a(48053),x=a(65556),S=a(29909),$=S.set,D=S.getterFor("URL"),_=x.URLSearchParams,C=x.getState,T=s.URL,P=s.TypeError,O=s.parseInt,A=Math.floor,Z=Math.pow,I=c("".charAt),R=c(/./.exec),L=c([].join),E=c(1..toString),V=c([].pop),N=c([].push),j=c("".replace),F=c([].shift),B=c("".split),M=c("".slice),U=c("".toLowerCase),z=c([].unshift),H="Invalid authority",q="Invalid scheme",W="Invalid host",G="Invalid port",Y=/[a-z]/i,K=/[\d+-.a-z]/i,J=/\d/,X=/^0x/i,Q=/^[0-7]+$/,tt=/^\d+$/,et=/^[\da-f]+$/i,at=/[\0\t\n\r #%/:<>?@[\\\]^|]/,nt=/[\0\t\n\r #/:<>?@[\\\]^|]/,it=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,ot=/[\t\n\r]/g,rt=function(t){var e,a,n,i,o,r,s,l=B(t,".");if(l.length&&""==l[l.length-1]&&l.length--,e=l.length,e>4)return t;for(a=[],n=0;n<e;n++){if(i=l[n],""==i)return t;if(o=10,i.length>1&&"0"==I(i,0)&&(o=R(X,i)?16:8,i=M(i,8==o?1:2)),""===i)r=0;else{if(!R(10==o?tt:8==o?Q:et,i))return t;r=O(i,o)}N(a,r)}for(n=0;n<e;n++)if(r=a[n],n==e-1){if(r>=Z(256,5-e))return null}else if(r>255)return null;for(s=V(a),n=0;n<a.length;n++)s+=a[n]*Z(256,3-n);return s},st=function(t){var e,a,n,i,o,r,s,l=[0,0,0,0,0,0,0,0],c=0,u=null,d=0,p=function(){return I(t,d)};if(":"==p()){if(":"!=I(t,1))return;d+=2,c++,u=c}while(p()){if(8==c)return;if(":"!=p()){e=a=0;while(a<4&&R(et,p()))e=16*e+O(p(),16),d++,a++;if("."==p()){if(0==a)return;if(d-=a,c>6)return;n=0;while(p()){if(i=null,n>0){if(!("."==p()&&n<4))return;d++}if(!R(J,p()))return;while(R(J,p())){if(o=O(p(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;d++}l[c]=256*l[c]+i,n++,2!=n&&4!=n||c++}if(4!=n)return;break}if(":"==p()){if(d++,!p())return}else if(p())return;l[c++]=e}else{if(null!==u)return;d++,c++,u=c}}if(null!==u){r=c-u,c=7;while(0!=c&&r>0)s=l[c],l[c--]=l[u+r-1],l[u+--r]=s}else if(8!=c)return;return l},lt=function(t){for(var e=null,a=1,n=null,i=0,o=0;o<8;o++)0!==t[o]?(i>a&&(e=n,a=i),n=null,i=0):(null===n&&(n=o),++i);return i>a&&(e=n,a=i),e},ct=function(t){var e,a,n,i;if("number"==typeof t){for(e=[],a=0;a<4;a++)z(e,t%256),t=A(t/256);return L(e,".")}if("object"==typeof t){for(e="",n=lt(t),a=0;a<8;a++)i&&0===t[a]||(i&&(i=!1),n===a?(e+=a?":":"::",i=!0):(e+=E(t[a],16),a<7&&(e+=":")));return"["+e+"]"}return t},ut={},dt=f({},ut,{" ":1,'"':1,"<":1,">":1,"`":1}),pt=f({},dt,{"#":1,"?":1,"{":1,"}":1}),ht=f({},pt,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ft=function(t,e){var a=g(t,0);return a>32&&a<127&&!h(e,t)?t:encodeURIComponent(t)},vt={ftp:21,file:null,http:80,https:443,ws:80,wss:443},mt=function(t,e){var a;return 2==t.length&&R(Y,I(t,0))&&(":"==(a=I(t,1))||!e&&"|"==a)},gt=function(t){var e;return t.length>1&&mt(M(t,0,2))&&(2==t.length||"/"===(e=I(t,2))||"\\"===e||"?"===e||"#"===e)},bt=function(t){return"."===t||"%2e"===U(t)},yt=function(t){return t=U(t),".."===t||"%2e."===t||".%2e"===t||"%2e%2e"===t},wt={},kt={},xt={},St={},$t={},Dt={},_t={},Ct={},Tt={},Pt={},Ot={},At={},Zt={},It={},Rt={},Lt={},Et={},Vt={},Nt={},jt={},Ft={},Bt=function(t,e,a){var n,i,o,r=y(t);if(e){if(i=this.parse(r),i)throw P(i);this.searchParams=null}else{if(void 0!==a&&(n=new Bt(a,!0)),i=this.parse(r,null,n),i)throw P(i);o=C(new _),o.bindURL(this),this.searchParams=o}};Bt.prototype={type:"URL",parse:function(t,e,a){var i,o,r,s,l=this,c=e||wt,u=0,d="",p=!1,f=!1,g=!1;t=y(t),e||(l.scheme="",l.username="",l.password="",l.host=null,l.port=null,l.path=[],l.query=null,l.fragment=null,l.cannotBeABaseURL=!1,t=j(t,it,"")),t=j(t,ot,""),i=v(t);while(u<=i.length){switch(o=i[u],c){case wt:if(!o||!R(Y,o)){if(e)return q;c=xt;continue}d+=U(o),c=kt;break;case kt:if(o&&(R(K,o)||"+"==o||"-"==o||"."==o))d+=U(o);else{if(":"!=o){if(e)return q;d="",c=xt,u=0;continue}if(e&&(l.isSpecial()!=h(vt,d)||"file"==d&&(l.includesCredentials()||null!==l.port)||"file"==l.scheme&&!l.host))return;if(l.scheme=d,e)return void(l.isSpecial()&&vt[l.scheme]==l.port&&(l.port=null));d="","file"==l.scheme?c=It:l.isSpecial()&&a&&a.scheme==l.scheme?c=St:l.isSpecial()?c=Ct:"/"==i[u+1]?(c=$t,u++):(l.cannotBeABaseURL=!0,N(l.path,""),c=Nt)}break;case xt:if(!a||a.cannotBeABaseURL&&"#"!=o)return q;if(a.cannotBeABaseURL&&"#"==o){l.scheme=a.scheme,l.path=m(a.path),l.query=a.query,l.fragment="",l.cannotBeABaseURL=!0,c=Ft;break}c="file"==a.scheme?It:Dt;continue;case St:if("/"!=o||"/"!=i[u+1]){c=Dt;continue}c=Tt,u++;break;case $t:if("/"==o){c=Pt;break}c=Vt;continue;case Dt:if(l.scheme=a.scheme,o==n)l.username=a.username,l.password=a.password,l.host=a.host,l.port=a.port,l.path=m(a.path),l.query=a.query;else if("/"==o||"\\"==o&&l.isSpecial())c=_t;else if("?"==o)l.username=a.username,l.password=a.password,l.host=a.host,l.port=a.port,l.path=m(a.path),l.query="",c=jt;else{if("#"!=o){l.username=a.username,l.password=a.password,l.host=a.host,l.port=a.port,l.path=m(a.path),l.path.length--,c=Vt;continue}l.username=a.username,l.password=a.password,l.host=a.host,l.port=a.port,l.path=m(a.path),l.query=a.query,l.fragment="",c=Ft}break;case _t:if(!l.isSpecial()||"/"!=o&&"\\"!=o){if("/"!=o){l.username=a.username,l.password=a.password,l.host=a.host,l.port=a.port,c=Vt;continue}c=Pt}else c=Tt;break;case Ct:if(c=Tt,"/"!=o||"/"!=I(d,u+1))continue;u++;break;case Tt:if("/"!=o&&"\\"!=o){c=Pt;continue}break;case Pt:if("@"==o){p&&(d="%40"+d),p=!0,r=v(d);for(var b=0;b<r.length;b++){var w=r[b];if(":"!=w||g){var k=ft(w,ht);g?l.password+=k:l.username+=k}else g=!0}d=""}else if(o==n||"/"==o||"?"==o||"#"==o||"\\"==o&&l.isSpecial()){if(p&&""==d)return H;u-=v(d).length+1,d="",c=Ot}else d+=o;break;case Ot:case At:if(e&&"file"==l.scheme){c=Lt;continue}if(":"!=o||f){if(o==n||"/"==o||"?"==o||"#"==o||"\\"==o&&l.isSpecial()){if(l.isSpecial()&&""==d)return W;if(e&&""==d&&(l.includesCredentials()||null!==l.port))return;if(s=l.parseHost(d),s)return s;if(d="",c=Et,e)return;continue}"["==o?f=!0:"]"==o&&(f=!1),d+=o}else{if(""==d)return W;if(s=l.parseHost(d),s)return s;if(d="",c=Zt,e==At)return}break;case Zt:if(!R(J,o)){if(o==n||"/"==o||"?"==o||"#"==o||"\\"==o&&l.isSpecial()||e){if(""!=d){var x=O(d,10);if(x>65535)return G;l.port=l.isSpecial()&&x===vt[l.scheme]?null:x,d=""}if(e)return;c=Et;continue}return G}d+=o;break;case It:if(l.scheme="file","/"==o||"\\"==o)c=Rt;else{if(!a||"file"!=a.scheme){c=Vt;continue}if(o==n)l.host=a.host,l.path=m(a.path),l.query=a.query;else if("?"==o)l.host=a.host,l.path=m(a.path),l.query="",c=jt;else{if("#"!=o){gt(L(m(i,u),""))||(l.host=a.host,l.path=m(a.path),l.shortenPath()),c=Vt;continue}l.host=a.host,l.path=m(a.path),l.query=a.query,l.fragment="",c=Ft}}break;case Rt:if("/"==o||"\\"==o){c=Lt;break}a&&"file"==a.scheme&&!gt(L(m(i,u),""))&&(mt(a.path[0],!0)?N(l.path,a.path[0]):l.host=a.host),c=Vt;continue;case Lt:if(o==n||"/"==o||"\\"==o||"?"==o||"#"==o){if(!e&&mt(d))c=Vt;else if(""==d){if(l.host="",e)return;c=Et}else{if(s=l.parseHost(d),s)return s;if("localhost"==l.host&&(l.host=""),e)return;d="",c=Et}continue}d+=o;break;case Et:if(l.isSpecial()){if(c=Vt,"/"!=o&&"\\"!=o)continue}else if(e||"?"!=o)if(e||"#"!=o){if(o!=n&&(c=Vt,"/"!=o))continue}else l.fragment="",c=Ft;else l.query="",c=jt;break;case Vt:if(o==n||"/"==o||"\\"==o&&l.isSpecial()||!e&&("?"==o||"#"==o)){if(yt(d)?(l.shortenPath(),"/"==o||"\\"==o&&l.isSpecial()||N(l.path,"")):bt(d)?"/"==o||"\\"==o&&l.isSpecial()||N(l.path,""):("file"==l.scheme&&!l.path.length&&mt(d)&&(l.host&&(l.host=""),d=I(d,0)+":"),N(l.path,d)),d="","file"==l.scheme&&(o==n||"?"==o||"#"==o))while(l.path.length>1&&""===l.path[0])F(l.path);"?"==o?(l.query="",c=jt):"#"==o&&(l.fragment="",c=Ft)}else d+=ft(o,pt);break;case Nt:"?"==o?(l.query="",c=jt):"#"==o?(l.fragment="",c=Ft):o!=n&&(l.path[0]+=ft(o,ut));break;case jt:e||"#"!=o?o!=n&&("'"==o&&l.isSpecial()?l.query+="%27":l.query+="#"==o?"%23":ft(o,ut)):(l.fragment="",c=Ft);break;case Ft:o!=n&&(l.fragment+=ft(o,dt));break}u++}},parseHost:function(t){var e,a,n;if("["==I(t,0)){if("]"!=I(t,t.length-1))return W;if(e=st(M(t,1,-1)),!e)return W;this.host=e}else if(this.isSpecial()){if(t=b(t),R(at,t))return W;if(e=rt(t),null===e)return W;this.host=e}else{if(R(nt,t))return W;for(e="",a=v(t),n=0;n<a.length;n++)e+=ft(a[n],ut);this.host=e}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return h(vt,this.scheme)},shortenPath:function(){var t=this.path,e=t.length;!e||"file"==this.scheme&&1==e&&mt(t[0],!0)||t.length--},serialize:function(){var t=this,e=t.scheme,a=t.username,n=t.password,i=t.host,o=t.port,r=t.path,s=t.query,l=t.fragment,c=e+":";return null!==i?(c+="//",t.includesCredentials()&&(c+=a+(n?":"+n:"")+"@"),c+=ct(i),null!==o&&(c+=":"+o)):"file"==e&&(c+="//"),c+=t.cannotBeABaseURL?r[0]:r.length?"/"+L(r,"/"):"",null!==s&&(c+="?"+s),null!==l&&(c+="#"+l),c},setHref:function(t){var e=this.parse(t);if(e)throw P(e);this.searchParams.update()},getOrigin:function(){var t=this.scheme,e=this.port;if("blob"==t)try{return new Mt(t.path[0]).origin}catch(a){return"null"}return"file"!=t&&this.isSpecial()?t+"://"+ct(this.host)+(null!==e?":"+e:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(y(t)+":",wt)},getUsername:function(){return this.username},setUsername:function(t){var e=v(y(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var a=0;a<e.length;a++)this.username+=ft(e[a],ht)}},getPassword:function(){return this.password},setPassword:function(t){var e=v(y(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var a=0;a<e.length;a++)this.password+=ft(e[a],ht)}},getHost:function(){var t=this.host,e=this.port;return null===t?"":null===e?ct(t):ct(t)+":"+e},setHost:function(t){this.cannotBeABaseURL||this.parse(t,Ot)},getHostname:function(){var t=this.host;return null===t?"":ct(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,At)},getPort:function(){var t=this.port;return null===t?"":y(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||(t=y(t),""==t?this.port=null:this.parse(t,Zt))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+L(t,"/"):""},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,Et))},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){t=y(t),""==t?this.query=null:("?"==I(t,0)&&(t=M(t,1)),this.query="",this.parse(t,jt)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){t=y(t),""!=t?("#"==I(t,0)&&(t=M(t,1)),this.fragment="",this.parse(t,Ft)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Mt=function(t){var e=p(this,Ut),a=k(arguments.length,1)>1?arguments[1]:void 0,n=$(e,new Bt(t,!1,a));o||(e.href=n.serialize(),e.origin=n.getOrigin(),e.protocol=n.getProtocol(),e.username=n.getUsername(),e.password=n.getPassword(),e.host=n.getHost(),e.hostname=n.getHostname(),e.port=n.getPort(),e.pathname=n.getPathname(),e.search=n.getSearch(),e.searchParams=n.getSearchParams(),e.hash=n.getHash())},Ut=Mt.prototype,zt=function(t,e){return{get:function(){return D(this)[t]()},set:e&&function(t){return D(this)[e](t)},configurable:!0,enumerable:!0}};if(o&&u(Ut,{href:zt("serialize","setHref"),origin:zt("getOrigin"),protocol:zt("getProtocol","setProtocol"),username:zt("getUsername","setUsername"),password:zt("getPassword","setPassword"),host:zt("getHost","setHost"),hostname:zt("getHostname","setHostname"),port:zt("getPort","setPort"),pathname:zt("getPathname","setPathname"),search:zt("getSearch","setSearch"),searchParams:zt("getSearchParams"),hash:zt("getHash","setHash")}),d(Ut,"toJSON",(function(){return D(this).serialize()}),{enumerable:!0}),d(Ut,"toString",(function(){return D(this).serialize()}),{enumerable:!0}),T){var Ht=T.createObjectURL,qt=T.revokeObjectURL;Ht&&d(Mt,"createObjectURL",l(Ht,T)),qt&&d(Mt,"revokeObjectURL",l(qt,T))}w(Mt,"URL"),i({global:!0,forced:!r,sham:!o},{URL:Mt})},60285:function(t,e,a){a(68789)},48712:function(){},2245:function(){},35666:function(t){var e=function(t){"use strict";var e,a=Object.prototype,n=a.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",r=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(t,e,a){return Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(Z){l=function(t,e,a){return t[e]=a}}function c(t,e,a,n){var i=e&&e.prototype instanceof m?e:m,o=Object.create(i.prototype),r=new P(n||[]);return o._invoke=D(t,a,r),o}function u(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(Z){return{type:"throw",arg:Z}}}t.wrap=c;var d="suspendedStart",p="suspendedYield",h="executing",f="completed",v={};function m(){}function g(){}function b(){}var y={};l(y,o,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(O([])));k&&k!==a&&n.call(k,o)&&(y=k);var x=b.prototype=m.prototype=Object.create(y);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function $(t,e){function a(i,o,r,s){var l=u(t[i],t,o);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"===typeof d&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){a("next",t,r,s)}),(function(t){a("throw",t,r,s)})):e.resolve(d).then((function(t){c.value=t,r(c)}),(function(t){return a("throw",t,r,s)}))}s(l.arg)}var i;function o(t,n){function o(){return new e((function(e,i){a(t,n,e,i)}))}return i=i?i.then(o,o):o()}this._invoke=o}function D(t,e,a){var n=d;return function(i,o){if(n===h)throw new Error("Generator is already running");if(n===f){if("throw"===i)throw o;return A()}a.method=i,a.arg=o;while(1){var r=a.delegate;if(r){var s=_(r,a);if(s){if(s===v)continue;return s}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(n===d)throw n=f,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n=h;var l=u(t,e,a);if("normal"===l.type){if(n=a.done?f:p,l.arg===v)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(n=f,a.method="throw",a.arg=l.arg)}}}function _(t,a){var n=t.iterator[a.method];if(n===e){if(a.delegate=null,"throw"===a.method){if(t.iterator["return"]&&(a.method="return",a.arg=e,_(t,a),"throw"===a.method))return v;a.method="throw",a.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=u(n,t.iterator,a.arg);if("throw"===i.type)return a.method="throw",a.arg=i.arg,a.delegate=null,v;var o=i.arg;return o?o.done?(a[t.resultName]=o.value,a.next=t.nextLoc,"return"!==a.method&&(a.method="next",a.arg=e),a.delegate=null,v):o:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,v)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function O(t){if(t){var a=t[o];if(a)return a.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function a(){while(++i<t.length)if(n.call(t,i))return a.value=t[i],a.done=!1,a;return a.value=e,a.done=!0,a};return r.next=r}}return{next:A}}function A(){return{value:e,done:!0}}return g.prototype=b,l(x,"constructor",b),l(b,"constructor",g),g.displayName=l(b,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},S($.prototype),l($.prototype,r,(function(){return this})),t.AsyncIterator=$,t.async=function(e,a,n,i,o){void 0===o&&(o=Promise);var r=new $(c(e,a,n,i),o);return t.isGeneratorFunction(a)?r:r.next().then((function(t){return t.done?t.value:r.next()}))},S(x),l(x,s,"Generator"),l(x,o,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var a in t)e.push(a);return e.reverse(),function a(){while(e.length){var n=e.pop();if(n in t)return a.value=n,a.done=!1,a}return a.done=!0,a}},t.values=O,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var a in this)"t"===a.charAt(0)&&n.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var a=this;function i(n,i){return s.type="throw",s.arg=t,a.next=n,i&&(a.method="next",a.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o],s=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var l=n.call(r,"catchLoc"),c=n.call(r,"finallyLoc");if(l&&c){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(l){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var r=o?o.completion:{};return r.type=t,r.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),T(a),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var n=a.completion;if("throw"===n.type){var i=n.arg;T(a)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,a,n){return this.delegate={iterator:O(t),resultName:a,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=e}catch(a){"object"===typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},51234:function(t,e,a){"use strict";a.d(e,{Z:function(){return f}});var n=a(4367),i=a(23796),o=(a(26699),a(55648)),r=a(98119),s=a(70172),l=a(2936),c=a(48085),u=a(20144),d=u.Z.extend({name:"transitionable",props:{mode:String,origin:String,transition:String}}),p=a(73325),h=a(71824),f=(0,p.Z)(o.Z,l.Z,d).extend({name:"v-alert",props:{border:{type:String,validator:function(t){return["top","right","bottom","left"].includes(t)}},closeLabel:{type:String,default:"$vuetify.close"},coloredBorder:Boolean,dense:Boolean,dismissible:Boolean,closeIcon:{type:String,default:"$cancel"},icon:{default:"",type:[Boolean,String],validator:function(t){return"string"===typeof t||!1===t}},outlined:Boolean,prominent:Boolean,text:Boolean,type:{type:String,validator:function(t){return["info","error","success","warning"].includes(t)}},value:{type:Boolean,default:!0}},computed:{__cachedBorder:function(){if(!this.border)return null;var t={staticClass:"v-alert__border",class:(0,i.Z)({},"v-alert__border--".concat(this.border),!0)};return this.coloredBorder&&(t=this.setBackgroundColor(this.computedColor,t),t.class["v-alert__border--has-color"]=!0),this.$createElement("div",t)},__cachedDismissible:function(){var t=this;if(!this.dismissible)return null;var e=this.iconColor;return this.$createElement(r.Z,{staticClass:"v-alert__dismissible",props:{color:e,icon:!0,small:!0},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:function(){return t.isActive=!1}}},[this.$createElement(s.Z,{props:{color:e}},this.closeIcon)])},__cachedIcon:function(){return this.computedIcon?this.$createElement(s.Z,{staticClass:"v-alert__icon",props:{color:this.iconColor}},this.computedIcon):null},classes:function(){var t=(0,n.Z)((0,n.Z)({},o.Z.options.computed.classes.call(this)),{},{"v-alert--border":Boolean(this.border),"v-alert--dense":this.dense,"v-alert--outlined":this.outlined,"v-alert--prominent":this.prominent,"v-alert--text":this.text});return this.border&&(t["v-alert--border-".concat(this.border)]=!0),t},computedColor:function(){return this.color||this.type},computedIcon:function(){return!1!==this.icon&&("string"===typeof this.icon&&this.icon?this.icon:!!["error","info","success","warning"].includes(this.type)&&"$".concat(this.type))},hasColoredIcon:function(){return this.hasText||Boolean(this.border)&&this.coloredBorder},hasText:function(){return this.text||this.outlined},iconColor:function(){return this.hasColoredIcon?this.computedColor:void 0},isDark:function(){return!(!this.type||this.coloredBorder||this.outlined)||c.Z.options.computed.isDark.call(this)}},created:function(){this.$attrs.hasOwnProperty("outline")&&(0,h.fK)("outline","outlined",this)},methods:{genWrapper:function(){var t=[this.$slots.prepend||this.__cachedIcon,this.genContent(),this.__cachedBorder,this.$slots.append,this.$scopedSlots.close?this.$scopedSlots.close({toggle:this.toggle}):this.__cachedDismissible],e={staticClass:"v-alert__wrapper"};return this.$createElement("div",e,t)},genContent:function(){return this.$createElement("div",{staticClass:"v-alert__content"},this.$slots.default)},genAlert:function(){var t={staticClass:"v-alert",attrs:{role:"alert"},on:this.listeners$,class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};if(!this.coloredBorder){var e=this.hasText?this.setTextColor:this.setBackgroundColor;t=e(this.computedColor,t)}return this.$createElement("div",t,[this.genWrapper()])},toggle:function(){this.isActive=!this.isActive}},render:function(t){var e=this.genAlert();return this.transition?t("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[e]):e}})},49511:function(t,e,a){"use strict";var n=a(4367),i=(a(21249),a(41539),a(57327),a(73210),a(69826),a(34553),a(26699),a(32023),a(48712),a(47032)),o=a(55978),r=a(76290),s=a(4589),l=(0,n.Z)((0,n.Z)({},i.l),{},{offsetY:!0,offsetOverflow:!0,transition:!1});e["Z"]=i.Z.extend({name:"v-autocomplete",props:{allowOverflow:{type:Boolean,default:!0},autoSelectFirst:{type:Boolean,default:!1},filter:{type:Function,default:function(t,e,a){return a.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())>-1}},hideNoData:Boolean,menuProps:{type:i.Z.options.props.menuProps.type,default:function(){return l}},noFilter:Boolean,searchInput:{type:String}},data:function(){return{lazySearch:this.searchInput}},computed:{classes:function(){return(0,n.Z)((0,n.Z)({},i.Z.options.computed.classes.call(this)),{},{"v-autocomplete":!0,"v-autocomplete--is-selecting-index":this.selectedIndex>-1})},computedItems:function(){return this.filteredItems},selectedValues:function(){var t=this;return this.selectedItems.map((function(e){return t.getValue(e)}))},hasDisplayedItems:function(){var t=this;return this.hideSelected?this.filteredItems.some((function(e){return!t.hasItem(e)})):this.filteredItems.length>0},currentRange:function(){return null==this.selectedItem?0:String(this.getText(this.selectedItem)).length},filteredItems:function(){var t=this;return!this.isSearching||this.noFilter||null==this.internalSearch?this.allItems:this.allItems.filter((function(e){var a=(0,s.qF)(e,t.itemText),n=null!=a?String(a):"";return t.filter(e,String(t.internalSearch),n)}))},internalSearch:{get:function(){return this.lazySearch},set:function(t){this.lazySearch!==t&&(this.lazySearch=t,this.$emit("update:search-input",t))}},isAnyValueAllowed:function(){return!1},isDirty:function(){return this.searchIsDirty||this.selectedItems.length>0},isSearching:function(){return this.multiple&&this.searchIsDirty||this.searchIsDirty&&this.internalSearch!==this.getText(this.selectedItem)},menuCanShow:function(){return!!this.isFocused&&(this.hasDisplayedItems||!this.hideNoData)},$_menuProps:function(){var t=i.Z.options.computed.$_menuProps.call(this);return t.contentClass="v-autocomplete__content ".concat(t.contentClass||"").trim(),(0,n.Z)((0,n.Z)({},l),t)},searchIsDirty:function(){return null!=this.internalSearch&&""!==this.internalSearch},selectedItem:function(){var t=this;return this.multiple?null:this.selectedItems.find((function(e){return t.valueComparator(t.getValue(e),t.getValue(t.internalValue))}))},listData:function(){var t=i.Z.options.computed.listData.call(this);return t.props=(0,n.Z)((0,n.Z)({},t.props),{},{items:this.virtualizedItems,noFilter:this.noFilter||!this.isSearching||!this.filteredItems.length,searchInput:this.internalSearch}),t}},watch:{filteredItems:"onFilteredItemsChanged",internalValue:"setSearch",isFocused:function(t){t?(document.addEventListener("copy",this.onCopy),this.$refs.input&&this.$refs.input.select()):(document.removeEventListener("copy",this.onCopy),this.blur(),this.updateSelf())},isMenuActive:function(t){!t&&this.hasSlot&&(this.lazySearch=null)},items:function(t,e){e&&e.length||!this.hideNoData||!this.isFocused||this.isMenuActive||!t.length||this.activateMenu()},searchInput:function(t){this.lazySearch=t},internalSearch:"onInternalSearchChanged",itemText:"updateSelf"},created:function(){this.setSearch()},destroyed:function(){document.removeEventListener("copy",this.onCopy)},methods:{onFilteredItemsChanged:function(t,e){var a=this;if(t!==e){if(!this.autoSelectFirst){var n=e[this.$refs.menu.listIndex];n?this.setMenuIndex(t.findIndex((function(t){return t===n}))):this.setMenuIndex(-1),this.$emit("update:list-index",this.$refs.menu.listIndex)}this.$nextTick((function(){a.internalSearch&&(1===t.length||a.autoSelectFirst)&&(a.$refs.menu.getTiles(),a.autoSelectFirst&&t.length&&(a.setMenuIndex(0),a.$emit("update:list-index",a.$refs.menu.listIndex)))}))}},onInternalSearchChanged:function(){this.updateMenuDimensions()},updateMenuDimensions:function(){this.isMenuActive&&this.$refs.menu&&this.$refs.menu.updateDimensions()},changeSelectedIndex:function(t){this.searchIsDirty||(this.multiple&&t===s.Do.left?-1===this.selectedIndex?this.selectedIndex=this.selectedItems.length-1:this.selectedIndex--:this.multiple&&t===s.Do.right?this.selectedIndex>=this.selectedItems.length-1?this.selectedIndex=-1:this.selectedIndex++:t!==s.Do.backspace&&t!==s.Do["delete"]||this.deleteCurrentItem())},deleteCurrentItem:function(){var t=this.selectedIndex,e=this.selectedItems[t];if(this.isInteractive&&!this.getDisabled(e)){var a=this.selectedItems.length-1;if(-1!==this.selectedIndex||0===a){var n=this.selectedItems.length,i=t!==n-1?t:t-1,o=this.selectedItems[i];o?this.selectItem(e):this.setValue(this.multiple?[]:null),this.selectedIndex=i}else this.selectedIndex=a}},clearableCallback:function(){this.internalSearch=null,i.Z.options.methods.clearableCallback.call(this)},genInput:function(){var t=o.Z.options.methods.genInput.call(this);return t.data=(0,r.ZP)(t.data,{attrs:{"aria-activedescendant":(0,s.vO)(this.$refs.menu,"activeTile.id"),autocomplete:(0,s.vO)(t.data,"attrs.autocomplete","off")},domProps:{value:this.internalSearch}}),t},genInputSlot:function(){var t=i.Z.options.methods.genInputSlot.call(this);return t.data.attrs.role="combobox",t},genSelections:function(){return this.hasSlot||this.multiple?i.Z.options.methods.genSelections.call(this):[]},onClick:function(t){this.isInteractive&&(this.selectedIndex>-1?this.selectedIndex=-1:this.onFocus(),this.isAppendInner(t.target)||this.activateMenu())},onInput:function(t){if(!(this.selectedIndex>-1)&&t.target){var e=t.target,a=e.value;e.value&&this.activateMenu(),this.multiple||""!==a||this.deleteCurrentItem(),this.internalSearch=a,this.badInput=e.validity&&e.validity.badInput}},onKeyDown:function(t){var e=t.keyCode;!t.ctrlKey&&[s.Do.home,s.Do.end].includes(e)||i.Z.options.methods.onKeyDown.call(this,t),this.changeSelectedIndex(e)},onSpaceDown:function(t){},onTabDown:function(t){i.Z.options.methods.onTabDown.call(this,t),this.updateSelf()},onUpDown:function(t){t.preventDefault(),this.activateMenu()},selectItem:function(t){i.Z.options.methods.selectItem.call(this,t),this.setSearch()},setSelectedItems:function(){i.Z.options.methods.setSelectedItems.call(this),this.isFocused||this.setSearch()},setSearch:function(){var t=this;this.$nextTick((function(){t.multiple&&t.internalSearch&&t.isMenuActive||(t.internalSearch=!t.selectedItems.length||t.multiple||t.hasSlot?null:t.getText(t.selectedItem))}))},updateSelf:function(){(this.searchIsDirty||this.internalValue)&&(this.multiple||this.valueComparator(this.internalSearch,this.getValue(this.internalValue))||this.setSearch())},hasItem:function(t){return this.selectedValues.indexOf(this.getValue(t))>-1},onCopy:function(t){var e,a;if(-1!==this.selectedIndex){var n=this.selectedItems[this.selectedIndex],i=this.getText(n);null==(e=t.clipboardData)||e.setData("text/plain",i),null==(a=t.clipboardData)||a.setData("text/vnd.vuetify.autocomplete.item+plain",i),t.preventDefault()}}}})},83702:function(t,e,a){"use strict";a.d(e,{Z:function(){return c}});var n=a(73274),i=a(4367),o=(a(41539),a(39714),a(2245),a(70172)),r=a(58230),s=a(7764),l=["title"],c=s.Z.extend({name:"v-checkbox",props:{indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"}},data:function(){return{inputIndeterminate:this.indeterminate}},computed:{classes:function(){return(0,i.Z)((0,i.Z)({},r.Z.options.computed.classes.call(this)),{},{"v-input--selection-controls":!0,"v-input--checkbox":!0,"v-input--indeterminate":this.inputIndeterminate})},computedIcon:function(){return this.inputIndeterminate?this.indeterminateIcon:this.isActive?this.onIcon:this.offIcon},validationState:function(){if(!this.isDisabled||this.inputIndeterminate)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0}},watch:{indeterminate:function(t){var e=this;this.$nextTick((function(){return e.inputIndeterminate=t}))},inputIndeterminate:function(t){this.$emit("update:indeterminate",t)},isActive:function(){this.indeterminate&&(this.inputIndeterminate=!1)}},methods:{genCheckbox:function(){var t=this.attrs$,e=(t.title,(0,n.Z)(t,l));return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(o.Z,this.setTextColor(this.validationState,{props:{dense:this.dense,dark:this.dark,light:this.light}}),this.computedIcon),this.genInput("checkbox",(0,i.Z)((0,i.Z)({},e),{},{"aria-checked":this.inputIndeterminate?"mixed":this.isActive.toString()})),this.genRipple(this.setTextColor(this.rippleState))])},genDefaultSlot:function(){return[this.genCheckbox(),this.genLabel()]}}})},15359:function(t,e,a){"use strict";var n=a(9726),i=a(4367),o=(a(41539),a(39714),a(69826),a(27852),a(47042),a(68309),a(26699),a(32023),a(34553),a(40561),a(48712),a(47032)),r=a(49511),s=a(4589);e["Z"]=r.Z.extend({name:"v-combobox",props:{delimiters:{type:Array,default:function(){return[]}},returnObject:{type:Boolean,default:!0}},data:function(){return{editingIndex:-1}},computed:{computedCounterValue:function(){return this.multiple?this.selectedItems.length:(this.internalSearch||"").toString().length},hasSlot:function(){return o.Z.options.computed.hasSlot.call(this)||this.multiple},isAnyValueAllowed:function(){return!0},menuCanShow:function(){return!!this.isFocused&&(this.hasDisplayedItems||!!this.$slots["no-data"]&&!this.hideNoData)},searchIsDirty:function(){return null!=this.internalSearch}},methods:{onInternalSearchChanged:function(t){if(t&&this.multiple&&this.delimiters.length){var e=this.delimiters.find((function(e){return t.endsWith(e)}));null!=e&&(this.internalSearch=t.slice(0,t.length-e.length),this.updateTags())}this.updateMenuDimensions()},genInput:function(){var t=r.Z.options.methods.genInput.call(this);return delete t.data.attrs.name,t.data.on.paste=this.onPaste,t},genChipSelection:function(t,e){var a=this,n=o.Z.options.methods.genChipSelection.call(this,t,e);return this.multiple&&(n.componentOptions.listeners=(0,i.Z)((0,i.Z)({},n.componentOptions.listeners),{},{dblclick:function(){a.editingIndex=e,a.internalSearch=a.getText(t),a.selectedIndex=-1}})),n},onChipInput:function(t){o.Z.options.methods.onChipInput.call(this,t),this.editingIndex=-1},onEnterDown:function(t){t.preventDefault(),this.getMenuIndex()>-1||this.$nextTick(this.updateSelf)},onKeyDown:function(t){var e=t.keyCode;!t.ctrlKey&&[s.Do.home,s.Do.end].includes(e)||o.Z.options.methods.onKeyDown.call(this,t),this.multiple&&e===s.Do.left&&0===this.$refs.input.selectionStart?this.updateSelf():e===s.Do.enter&&this.onEnterDown(t),this.changeSelectedIndex(e)},onTabDown:function(t){if(this.multiple&&this.internalSearch&&-1===this.getMenuIndex())return t.preventDefault(),t.stopPropagation(),this.updateTags();r.Z.options.methods.onTabDown.call(this,t)},selectItem:function(t){this.editingIndex>-1?this.updateEditing():(r.Z.options.methods.selectItem.call(this,t),this.internalSearch&&this.multiple&&this.getText(t).toLocaleLowerCase().includes(this.internalSearch.toLocaleLowerCase())&&(this.internalSearch=null))},setSelectedItems:function(){null==this.internalValue||""===this.internalValue?this.selectedItems=[]:this.selectedItems=this.multiple?this.internalValue:[this.internalValue]},setValue:function(t){o.Z.options.methods.setValue.call(this,void 0===t?this.internalSearch:t)},updateEditing:function(){var t=this,e=this.internalValue.slice(),a=this.selectedItems.findIndex((function(e){return t.getText(e)===t.internalSearch}));if(a>-1){var i="object"===(0,n.Z)(e[a])?Object.assign({},e[a]):e[a];e.splice(a,1),e.push(i)}else e[this.editingIndex]=this.internalSearch;this.setValue(e),this.editingIndex=-1,this.internalSearch=null},updateCombobox:function(){if(this.searchIsDirty){this.internalSearch!==this.getText(this.internalValue)&&this.setValue();var t=Boolean(this.$scopedSlots.selection)||this.hasChips;t&&(this.internalSearch=null)}},updateSelf:function(){this.multiple?this.updateTags():this.updateCombobox()},updateTags:function(){var t=this,e=this.getMenuIndex();if(!(e<0&&!this.searchIsDirty||!this.internalSearch)){if(this.editingIndex>-1)return this.updateEditing();var a=this.selectedItems.findIndex((function(e){return t.internalSearch===t.getText(e)})),i=a>-1&&"object"===(0,n.Z)(this.selectedItems[a])?Object.assign({},this.selectedItems[a]):this.internalSearch;if(a>-1){var o=this.internalValue.slice();o.splice(a,1),this.setValue(o)}if(e>-1)return this.internalSearch=null;this.selectItem(i),this.internalSearch=null}},onPaste:function(t){var e;if(this.multiple&&!this.searchIsDirty){var a=null==(e=t.clipboardData)?void 0:e.getData("text/vnd.vuetify.autocomplete.item+plain");a&&-1===this.findExistingIndex(a)&&(t.preventDefault(),o.Z.options.methods.selectItem.call(this,a))}},clearableCallback:function(){this.editingIndex=-1,r.Z.options.methods.clearableCallback.call(this)}}})},64484:function(t,e,a){"use strict";a.d(e,{Z:function(){return q}});var n=a(4367),i=(a(9653),a(26699),a(92222),a(21249),a(74916),a(23123),a(15306),a(57327),a(41539),a(68309),a(70172)),o=(a(73210),a(46952)),r=a(73325),s=a(4589),l=(0,r.Z)(o.Z).extend({methods:{genPickerButton:function(t,e,a){var n=this,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",r=this[t]===e,l=function(a){a.stopPropagation(),n.$emit("update:".concat((0,s.GL)(t)),e)};return this.$createElement("div",{staticClass:"v-picker__title__btn ".concat(o).trim(),class:{"v-picker__title__btn--active":r,"v-picker__title__btn--readonly":i},on:r||i?void 0:{click:l}},Array.isArray(a)?a:[a])}}}),c=(0,r.Z)(l).extend({name:"v-date-picker-title",props:{date:{type:String,default:""},disabled:Boolean,readonly:Boolean,selectingYear:Boolean,value:{type:String},year:{type:[Number,String],default:""},yearIcon:{type:String}},data:function(){return{isReversing:!1}},computed:{computedTransition:function(){return this.isReversing?"picker-reverse-transition":"picker-transition"}},watch:{value:function(t,e){this.isReversing=t<e}},methods:{genYearIcon:function(){return this.$createElement(i.Z,{props:{dark:!0}},this.yearIcon)},getYearBtn:function(){return this.genPickerButton("selectingYear",!0,[String(this.year),this.yearIcon?this.genYearIcon():null],!1,"v-date-picker-title__year")},genTitleText:function(){return this.$createElement("transition",{props:{name:this.computedTransition}},[this.$createElement("div",{domProps:{innerHTML:this.date||"&nbsp;"},key:this.value})])},genTitleDate:function(){return this.genPickerButton("selectingYear",!1,[this.genTitleText()],!1,"v-date-picker-title__date")}},render:function(t){return t("div",{staticClass:"v-date-picker-title",class:{"v-date-picker-title--disabled":this.disabled}},[this.getYearBtn(),this.genTitleDate()])}}),u=a(75200),d=a(98119),p=a(20144),h=p.Z.extend({name:"localable",props:{locale:String},computed:{currentLocale:function(){return this.locale||this.$vuetify.lang.current}}}),f=a(48085),v=(a(69600),a(82481),a(47042),function(t,e,a){return e>>=0,t=String(t),a=String(a),t.length>e?String(t):(e-=t.length,e>a.length&&(a+=a.repeat(e/a.length)),a.slice(0,e)+String(t))}),m=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return v(t,e,"0")};function g(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{start:0,length:0},n=function(t){var e=t.trim().split(" ")[0].split("-"),a=(0,u.Z)(e,3),n=a[0],i=a[1],o=a[2];return[m(n,4),m(i||1),m(o||1)].join("-")};try{var i=new Intl.DateTimeFormat(t||void 0,e);return function(t){return i.format(new Date("".concat(n(t),"T00:00:00+00:00")))}}catch(o){return a.start||a.length?function(t){return n(t).substr(a.start||0,a.length)}:void 0}}var b=g,y=function(t,e){var a=t.split("-").map(Number),n=(0,u.Z)(a,2),i=n[0],o=n[1];return o+e===0?"".concat(i-1,"-12"):o+e===13?"".concat(i+1,"-01"):"".concat(i,"-").concat(m(o+e))},w=(0,r.Z)(o.Z,h,f.Z).extend({name:"v-date-picker-header",props:{disabled:Boolean,format:Function,min:String,max:String,nextAriaLabel:String,nextIcon:{type:String,default:"$next"},prevAriaLabel:String,prevIcon:{type:String,default:"$prev"},readonly:Boolean,value:{type:[Number,String],required:!0}},data:function(){return{isReversing:!1}},computed:{formatter:function(){return this.format?this.format:String(this.value).split("-")[1]?b(this.currentLocale,{month:"long",year:"numeric",timeZone:"UTC"},{length:7}):b(this.currentLocale,{year:"numeric",timeZone:"UTC"},{length:4})}},watch:{value:function(t,e){this.isReversing=t<e}},methods:{genBtn:function(t){var e=this,a=t>0?this.nextAriaLabel:this.prevAriaLabel,n=a?this.$vuetify.lang.t(a):void 0,o=this.disabled||t<0&&this.min&&this.calculateChange(t)<this.min||t>0&&this.max&&this.calculateChange(t)>this.max;return this.$createElement(d.Z,{attrs:{"aria-label":n},props:{dark:this.dark,disabled:o,icon:!0,light:this.light},on:{click:function(a){a.stopPropagation(),e.$emit("input",e.calculateChange(t))}}},[this.$createElement(i.Z,t<0===!this.$vuetify.rtl?this.prevIcon:this.nextIcon)])},calculateChange:function(t){var e=String(this.value).split("-").map(Number),a=(0,u.Z)(e,2),n=a[0],i=a[1];return null==i?"".concat(n+t):y(String(this.value),t)},genHeader:function(){var t=this,e=!this.disabled&&(this.color||"accent"),a=this.$createElement("div",this.setTextColor(e,{key:String(this.value)}),[this.$createElement("button",{attrs:{type:"button"},on:{click:function(){return t.$emit("toggle")}}},[this.$slots.default||this.formatter(String(this.value))])]),n=this.$createElement("transition",{props:{name:this.isReversing===!this.$vuetify.rtl?"tab-reverse-transition":"tab-transition"}},[a]);return this.$createElement("div",{staticClass:"v-date-picker-header__value",class:{"v-date-picker-header__value--disabled":this.disabled}},[n])}},render:function(){return this.$createElement("div",{staticClass:"v-date-picker-header",class:(0,n.Z)({"v-date-picker-header--disabled":this.disabled},this.themeClasses)},[this.genBtn(-1),this.genHeader(),this.genBtn(1)])}}),k=(a(52420),a(83112),a(68932)),x=(a(32023),a(2707),a(95500));a(47941),a(27852);function S(t,e,a){return Object.keys(t.$listeners).reduce((function(n,i){return i.endsWith(e)&&(n[i.slice(0,-e.length)]=function(e){return t.$emit(i,a,e)}),n}),{})}function $(t,e){return Object.keys(t.$listeners).reduce((function(a,n){return n.endsWith(e)&&(a[n]=t.$listeners[n]),a}),{})}var D=function(t,e){var a=t.split("-"),n=(0,u.Z)(a,3),i=n[0],o=n[1],r=void 0===o?1:o,s=n[2],l=void 0===s?1:s;return"".concat(i,"-").concat(m(r),"-").concat(m(l)).substr(0,{date:10,month:7,year:4}[e])};function _(t,e,a,n){return(!n||n(t))&&(!e||t>=e.substr(0,10))&&(!a||t<=a)}var C=a(76290),T=(0,r.Z)(o.Z,h,f.Z).extend({directives:{Touch:x.Z},props:{allowedDates:Function,current:String,disabled:Boolean,format:Function,events:{type:[Array,Function,Object],default:function(){return null}},eventColor:{type:[Array,Function,Object,String],default:function(){return"warning"}},min:String,max:String,range:Boolean,readonly:Boolean,scrollable:Boolean,tableDate:{type:String,required:!0},value:[String,Array]},data:function(){return{isReversing:!1,wheelThrottle:null}},computed:{computedTransition:function(){return this.isReversing===!this.$vuetify.rtl?"tab-reverse-transition":"tab-transition"},displayedMonth:function(){return Number(this.tableDate.split("-")[1])-1},displayedYear:function(){return Number(this.tableDate.split("-")[0])}},watch:{tableDate:function(t,e){this.isReversing=t<e}},mounted:function(){this.wheelThrottle=(0,s.P2)(this.wheel,250)},methods:{genButtonClasses:function(t,e,a,i,o,r){return(0,n.Z)({"v-size--default":!e,"v-date-picker-table__current":i,"v-btn--active":a,"v-btn--flat":!t||this.disabled,"v-btn--text":a===i,"v-btn--rounded":e,"v-btn--disabled":!t||this.disabled,"v-btn--outlined":i&&!a,"v-date-picker--first-in-range":o,"v-date-picker--last-in-range":r},this.themeClasses)},genButtonEvents:function(t,e,a){var n=this;if(!this.disabled)return(0,C.bp)({click:function(){e&&!n.readonly&&n.$emit("input",t)}},S(this,":".concat(a),t))},genButton:function(t,e,a,n){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=_(t,this.min,this.max,this.allowedDates),r=this.isSelected(t)&&o,s=t===this.current,l=r?this.setBackgroundColor:this.setTextColor,c=(r||s)&&(this.color||"accent"),u=!1,d=!1;return this.range&&this.value&&Array.isArray(this.value)&&(u=t===this.value[0],d=t===this.value[this.value.length-1]),this.$createElement("button",l(c,{staticClass:"v-btn",class:this.genButtonClasses(o&&!i,e,r,s,u,d),attrs:{type:"button"},domProps:{disabled:this.disabled||!o||i},on:this.genButtonEvents(t,o,a)}),[this.$createElement("div",{staticClass:"v-btn__content"},[n(t)]),this.genEvents(t)])},getEventColors:function(t){var e,a=function(t){return Array.isArray(t)?t:[t]},n=[];return e=Array.isArray(this.events)?this.events.includes(t):this.events instanceof Function?this.events(t)||!1:this.events&&this.events[t]||!1,e?(n=!0!==e?a(e):"string"===typeof this.eventColor?[this.eventColor]:"function"===typeof this.eventColor?a(this.eventColor(t)):Array.isArray(this.eventColor)?this.eventColor:a(this.eventColor[t]),n.filter((function(t){return t}))):[]},genEvents:function(t){var e=this,a=this.getEventColors(t);return a.length?this.$createElement("div",{staticClass:"v-date-picker-table__events"},a.map((function(t){return e.$createElement("div",e.setBackgroundColor(t))}))):null},isValidScroll:function(t,e){var a=e(t),n=1===a.split("-").length?"year":"month";return t<0&&(!this.min||a>=D(this.min,n))||t>0&&(!this.max||a<=D(this.max,n))},wheel:function(t,e){this.$emit("update:table-date",e(t.deltaY))},touch:function(t,e){this.$emit("update:table-date",e(t))},genTable:function(t,e,a){var i=this,o=this.$createElement("transition",{props:{name:this.computedTransition}},[this.$createElement("table",{key:this.tableDate},e)]),r={name:"touch",value:{left:function(t){return t.offsetX<-15&&i.isValidScroll(1,a)&&i.touch(1,a)},right:function(t){return t.offsetX>15&&i.isValidScroll(-1,a)&&i.touch(-1,a)}}};return this.$createElement("div",{staticClass:t,class:(0,n.Z)({"v-date-picker-table--disabled":this.disabled},this.themeClasses),on:!this.disabled&&this.scrollable?{wheel:function(t){t.preventDefault(),i.isValidScroll(t.deltaY,a)&&i.wheelThrottle(t,a)}}:void 0,directives:[r]},[o])},isSelected:function(t){if(Array.isArray(this.value)){if(this.range&&2===this.value.length){var e=(0,k.Z)(this.value).sort(),a=(0,u.Z)(e,2),n=a[0],i=a[1];return n<=t&&t<=i}return-1!==this.value.indexOf(t)}return t===this.value}}});function P(t){var e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return t<100&&t>=0?(e=new Date(Date.UTC(t,a,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC(t,a,n)),e}function O(t,e,a){var n=7+e-a,i=(7+P(t,0,n).getUTCDay()-e)%7;return-i+n-1}function A(t,e,a,n){var i=[0,31,59,90,120,151,181,212,243,273,304,334][e];return e>1&&R(t)&&i++,i+a}function Z(t,e,a){var n=O(t,e,a),i=O(t+1,e,a),o=R(t)?366:365;return(o-n+i)/7}function I(t,e,a,n,i){var o=O(t,n,i),r=Math.ceil((A(t,e,a,n)-o)/7);return r<1?r+Z(t-1,n,i):r>Z(t,n,i)?r-Z(t,n,i):r}function R(t){return t%4===0&&t%100!==0||t%400===0}var L=(0,r.Z)(T).extend({name:"v-date-picker-date-table",props:{firstDayOfWeek:{type:[String,Number],default:0},localeFirstDayOfYear:{type:[String,Number],default:0},showAdjacentMonths:Boolean,showWeek:Boolean,weekdayFormat:Function},computed:{formatter:function(){return this.format||b(this.currentLocale,{day:"numeric",timeZone:"UTC"},{start:8,length:2})},weekdayFormatter:function(){return this.weekdayFormat||b(this.currentLocale,{weekday:"narrow",timeZone:"UTC"})},weekDays:function(){var t=this,e=parseInt(this.firstDayOfWeek,10);return this.weekdayFormatter?(0,s.MT)(7).map((function(a){return t.weekdayFormatter("2017-01-".concat(e+a+15))})):(0,s.MT)(7).map((function(t){return["S","M","T","W","T","F","S"][(t+e)%7]}))}},methods:{calculateTableDate:function(t){return y(this.tableDate,Math.sign(t||1))},genTHead:function(){var t=this,e=this.weekDays.map((function(e){return t.$createElement("th",e)}));return this.showWeek&&e.unshift(this.$createElement("th")),this.$createElement("thead",this.genTR(e))},weekDaysBeforeFirstDayOfTheMonth:function(){var t=new Date("".concat(this.displayedYear,"-").concat(m(this.displayedMonth+1),"-01T00:00:00+00:00")),e=t.getUTCDay();return(e-parseInt(this.firstDayOfWeek)+7)%7},getWeekNumber:function(t){return I(this.displayedYear,this.displayedMonth,t,parseInt(this.firstDayOfWeek),parseInt(this.localeFirstDayOfYear))},genWeekNumber:function(t){return this.$createElement("td",[this.$createElement("small",{staticClass:"v-date-picker-table--date__week"},String(t).padStart(2,"0"))])},genTBody:function(){var t=[],e=new Date(this.displayedYear,this.displayedMonth+1,0).getDate(),a=[],n=this.weekDaysBeforeFirstDayOfTheMonth();this.showWeek&&a.push(this.genWeekNumber(this.getWeekNumber(1)));var i=this.displayedMonth?this.displayedYear:this.displayedYear-1,o=(this.displayedMonth+11)%12,r=new Date(this.displayedYear,this.displayedMonth,0).getDate(),s=this.showWeek?8:7;while(n--){var l="".concat(i,"-").concat(m(o+1),"-").concat(m(r-n));a.push(this.$createElement("td",this.showAdjacentMonths?[this.genButton(l,!0,"date",this.formatter,!0)]:[]))}for(n=1;n<=e;n++){var c="".concat(this.displayedYear,"-").concat(m(this.displayedMonth+1),"-").concat(m(n));a.push(this.$createElement("td",[this.genButton(c,!0,"date",this.formatter)])),a.length%s===0&&(t.push(this.genTR(a)),a=[],this.showWeek&&(n<e||this.showAdjacentMonths)&&a.push(this.genWeekNumber(this.getWeekNumber(n+7))))}var u=11===this.displayedMonth?this.displayedYear+1:this.displayedYear,d=(this.displayedMonth+1)%12,p=1;while(a.length<s){var h="".concat(u,"-").concat(m(d+1),"-").concat(m(p++));a.push(this.$createElement("td",this.showAdjacentMonths?[this.genButton(h,!0,"date",this.formatter,!0)]:[]))}return a.length&&t.push(this.genTR(a)),this.$createElement("tbody",t)},genTR:function(t){return[this.$createElement("tr",t)]}},render:function(){return this.genTable("v-date-picker-table v-date-picker-table--date",[this.genTHead(),this.genTBody()],this.calculateTableDate)}}),E=(a(43290),(0,r.Z)(T).extend({name:"v-date-picker-month-table",computed:{formatter:function(){return this.format||b(this.currentLocale,{month:"short",timeZone:"UTC"},{start:5,length:2})}},methods:{calculateTableDate:function(t){return"".concat(parseInt(this.tableDate,10)+Math.sign(t||1))},genTBody:function(){for(var t=this,e=[],a=Array(3).fill(null),n=12/a.length,i=function(n){var i=a.map((function(e,i){var o=n*a.length+i,r="".concat(t.displayedYear,"-").concat(m(o+1));return t.$createElement("td",{key:o},[t.genButton(r,!1,"month",t.formatter)])}));e.push(t.$createElement("tr",{key:n},i))},o=0;o<n;o++)i(o);return this.$createElement("tbody",e)}},render:function(){return this.genTable("v-date-picker-table v-date-picker-table--month",[this.genTBody()],this.calculateTableDate)}})),V=(0,r.Z)(o.Z,h).extend({name:"v-date-picker-years",props:{format:Function,min:[Number,String],max:[Number,String],readonly:Boolean,value:[Number,String]},data:function(){return{defaultColor:"primary"}},computed:{formatter:function(){return this.format||b(this.currentLocale,{year:"numeric",timeZone:"UTC"},{length:4})}},mounted:function(){var t=this;setTimeout((function(){var e=t.$el.getElementsByClassName("active")[0];e?t.$el.scrollTop=e.offsetTop-t.$el.offsetHeight/2+e.offsetHeight/2:t.min&&!t.max?t.$el.scrollTop=t.$el.scrollHeight:!t.min&&t.max?t.$el.scrollTop=0:t.$el.scrollTop=t.$el.scrollHeight/2-t.$el.offsetHeight/2}))},methods:{genYearItem:function(t){var e=this,a=this.formatter("".concat(t)),n=parseInt(this.value,10)===t,i=n&&(this.color||"primary");return this.$createElement("li",this.setTextColor(i,{key:t,class:{active:n},on:(0,C.bp)({click:function(){return e.$emit("input",t)}},S(this,":year",t))}),a)},genYearItems:function(){for(var t=[],e=this.value?parseInt(this.value,10):(new Date).getFullYear(),a=this.max?parseInt(this.max,10):e+100,n=Math.min(a,this.min?parseInt(this.min,10):e-100),i=a;i>=n;i--)t.push(this.genYearItem(i));return t}},render:function(){return this.$createElement("ul",{staticClass:"v-date-picker-years",ref:"years"},this.genYearItems())}}),N=(a(84944),a(33792),a(89968),a(93377)),j=(0,r.Z)(o.Z,N.Z,f.Z).extend({name:"v-picker",props:{flat:Boolean,fullWidth:Boolean,landscape:Boolean,noTitle:Boolean,transition:{type:String,default:"fade-transition"},width:{type:[Number,String],default:290}},computed:{computedTitleColor:function(){var t=!this.isDark&&(this.color||"primary");return this.color||t}},methods:{genTitle:function(){return this.$createElement("div",this.setBackgroundColor(this.computedTitleColor,{staticClass:"v-picker__title",class:{"v-picker__title--landscape":this.landscape}}),this.$slots.title)},genBodyTransition:function(){return this.$createElement("transition",{props:{name:this.transition}},this.$slots.default)},genBody:function(){return this.$createElement("div",{staticClass:"v-picker__body",class:(0,n.Z)({"v-picker__body--no-title":this.noTitle},this.themeClasses),style:this.fullWidth?void 0:{width:(0,s.kb)(this.width)}},[this.genBodyTransition()])},genActions:function(){return this.$createElement("div",{staticClass:"v-picker__actions v-card__actions",class:{"v-picker__actions--no-title":this.noTitle}},this.$slots.actions)}},render:function(t){return t("div",{staticClass:"v-picker v-card",class:(0,n.Z)((0,n.Z)({"v-picker--flat":this.flat,"v-picker--landscape":this.landscape,"v-picker--full-width":this.fullWidth},this.themeClasses),this.elevationClasses)},[this.$slots.title?this.genTitle():null,this.genBody(),this.$slots.actions?this.genActions():null])}}),F=j,B=(0,r.Z)(o.Z,N.Z,f.Z).extend({name:"picker",props:{flat:Boolean,fullWidth:Boolean,headerColor:String,landscape:Boolean,noTitle:Boolean,width:{type:[Number,String],default:290}},methods:{genPickerTitle:function(){return null},genPickerBody:function(){return null},genPickerActionsSlot:function(){return this.$scopedSlots.default?this.$scopedSlots.default({save:this.save,cancel:this.cancel}):this.$slots.default},genPicker:function(t){var e=[];if(!this.noTitle){var a=this.genPickerTitle();a&&e.push(a)}var n=this.genPickerBody();return n&&e.push(n),e.push(this.$createElement("template",{slot:"actions"},[this.genPickerActionsSlot()])),this.$createElement(F,{staticClass:t,props:{color:this.headerColor||this.color,dark:this.dark,elevation:this.elevation,flat:this.flat,fullWidth:this.fullWidth,landscape:this.landscape,light:this.light,width:this.width,noTitle:this.noTitle}},e)}}}),M=(a(9726),a(21703),[0,31,28,31,30,31,30,31,31,30,31,30,31]),U=[0,31,29,31,30,31,30,31,31,30,31,30,31];function z(t,e){return R(t)?U[e]:M[e]}var H=a(71824),q=(0,r.Z)(h,B).extend({name:"v-date-picker",props:{activePicker:String,allowedDates:Function,dayFormat:Function,disabled:Boolean,events:{type:[Array,Function,Object],default:function(){return null}},eventColor:{type:[Array,Function,Object,String],default:function(){return"warning"}},firstDayOfWeek:{type:[String,Number],default:0},headerDateFormat:Function,localeFirstDayOfYear:{type:[String,Number],default:0},max:String,min:String,monthFormat:Function,multiple:Boolean,nextIcon:{type:String,default:"$next"},nextMonthAriaLabel:{type:String,default:"$vuetify.datePicker.nextMonthAriaLabel"},nextYearAriaLabel:{type:String,default:"$vuetify.datePicker.nextYearAriaLabel"},pickerDate:String,prevIcon:{type:String,default:"$prev"},prevMonthAriaLabel:{type:String,default:"$vuetify.datePicker.prevMonthAriaLabel"},prevYearAriaLabel:{type:String,default:"$vuetify.datePicker.prevYearAriaLabel"},range:Boolean,reactive:Boolean,readonly:Boolean,scrollable:Boolean,showCurrent:{type:[Boolean,String],default:!0},selectedItemsText:{type:String,default:"$vuetify.datePicker.itemsSelected"},showAdjacentMonths:Boolean,showWeek:Boolean,titleDateFormat:Function,type:{type:String,default:"date",validator:function(t){return["date","month"].includes(t)}},value:[Array,String],weekdayFormat:Function,yearFormat:Function,yearIcon:String},data:function(){var t=this,e=new Date;return{internalActivePicker:this.type.toUpperCase(),inputDay:null,inputMonth:null,inputYear:null,isReversing:!1,now:e,tableDate:function(){if(t.pickerDate)return t.pickerDate;var a=(0,s.TI)(t.value),n=a[a.length-1]||("string"===typeof t.showCurrent?t.showCurrent:"".concat(e.getFullYear(),"-").concat(e.getMonth()+1));return D(n,"date"===t.type?"month":"year")}()}},computed:{multipleValue:function(){return(0,s.TI)(this.value)},isMultiple:function(){return this.multiple||this.range},lastValue:function(){return this.isMultiple?this.multipleValue[this.multipleValue.length-1]:this.value},selectedMonths:function(){return this.value&&"month"!==this.type?this.isMultiple?this.multipleValue.map((function(t){return t.substr(0,7)})):this.value.substr(0,7):this.value},current:function(){return!0===this.showCurrent?D("".concat(this.now.getFullYear(),"-").concat(this.now.getMonth()+1,"-").concat(this.now.getDate()),this.type):this.showCurrent||null},inputDate:function(){return"date"===this.type?"".concat(this.inputYear,"-").concat(m(this.inputMonth+1),"-").concat(m(this.inputDay)):"".concat(this.inputYear,"-").concat(m(this.inputMonth+1))},tableMonth:function(){return Number((this.pickerDate||this.tableDate).split("-")[1])-1},tableYear:function(){return Number((this.pickerDate||this.tableDate).split("-")[0])},minMonth:function(){return this.min?D(this.min,"month"):null},maxMonth:function(){return this.max?D(this.max,"month"):null},minYear:function(){return this.min?D(this.min,"year"):null},maxYear:function(){return this.max?D(this.max,"year"):null},formatters:function(){return{year:this.yearFormat||b(this.currentLocale,{year:"numeric",timeZone:"UTC"},{length:4}),titleDate:this.titleDateFormat||(this.isMultiple?this.defaultTitleMultipleDateFormatter:this.defaultTitleDateFormatter)}},defaultTitleMultipleDateFormatter:function(){var t=this;return function(e){return e.length?1===e.length?t.defaultTitleDateFormatter(e[0]):t.$vuetify.lang.t(t.selectedItemsText,e.length):"-"}},defaultTitleDateFormatter:function(){var t={year:{year:"numeric",timeZone:"UTC"},month:{month:"long",timeZone:"UTC"},date:{weekday:"short",month:"short",day:"numeric",timeZone:"UTC"}},e=b(this.currentLocale,t[this.type],{start:0,length:{date:10,month:7,year:4}[this.type]}),a=function(t){return e(t).replace(/([^\d\s])([\d])/g,(function(t,e,a){return"".concat(e," ").concat(a)})).replace(", ",",<br>")};return this.landscape?a:e}},watch:{internalActivePicker:{immediate:!0,handler:function(t){this.$emit("update:active-picker",t)}},activePicker:function(t){this.internalActivePicker=t},tableDate:function(t,e){var a="month"===this.type?"year":"month";this.isReversing=D(t,a)<D(e,a),this.$emit("update:picker-date",t)},pickerDate:function(t){t?this.tableDate=t:this.lastValue&&"date"===this.type?this.tableDate=D(this.lastValue,"month"):this.lastValue&&"month"===this.type&&(this.tableDate=D(this.lastValue,"year"))},value:function(t,e){this.checkMultipleProp(),this.setInputDate(),(this.isMultiple||!this.value||this.pickerDate)&&(!this.isMultiple||!this.multipleValue.length||e&&e.length||this.pickerDate)||(this.tableDate=D(this.inputDate,"month"===this.type?"year":"month"))},type:function(t){if(this.internalActivePicker=t.toUpperCase(),this.value&&this.value.length){var e=this.multipleValue.map((function(e){return D(e,t)})).filter(this.isDateAllowed);this.$emit("input",this.isMultiple?e:e[0])}}},created:function(){this.checkMultipleProp(),this.pickerDate!==this.tableDate&&this.$emit("update:picker-date",this.tableDate),this.setInputDate()},methods:{emitInput:function(t){if(this.range)if(1!==this.multipleValue.length)this.$emit("input",[t]);else{var e=[this.multipleValue[0],t];this.$emit("input",e),this.$emit("change",e)}else{var a=this.multiple?-1===this.multipleValue.indexOf(t)?this.multipleValue.concat([t]):this.multipleValue.filter((function(e){return e!==t})):t;this.$emit("input",a),this.multiple||this.$emit("change",t)}},checkMultipleProp:function(){if(null!=this.value){var t=this.value.constructor.name,e=this.isMultiple?"Array":"String";t!==e&&(0,H.Kd)("Value must be ".concat(this.isMultiple?"an":"a"," ").concat(e,", got ").concat(t),this)}},isDateAllowed:function(t){return _(t,this.min,this.max,this.allowedDates)},yearClick:function(t){this.inputYear=t,"month"===this.type?this.tableDate="".concat(t):this.tableDate="".concat(t,"-").concat(m((this.tableMonth||0)+1)),this.internalActivePicker="MONTH",this.reactive&&!this.readonly&&!this.isMultiple&&this.isDateAllowed(this.inputDate)&&this.$emit("input",this.inputDate)},monthClick:function(t){this.inputYear=parseInt(t.split("-")[0],10),this.inputMonth=parseInt(t.split("-")[1],10)-1,"date"===this.type?(this.inputDay&&(this.inputDay=Math.min(this.inputDay,z(this.inputYear,this.inputMonth+1))),this.tableDate=t,this.internalActivePicker="DATE",this.reactive&&!this.readonly&&!this.isMultiple&&this.isDateAllowed(this.inputDate)&&this.$emit("input",this.inputDate)):this.emitInput(this.inputDate)},dateClick:function(t){this.inputYear=parseInt(t.split("-")[0],10),this.inputMonth=parseInt(t.split("-")[1],10)-1,this.inputDay=parseInt(t.split("-")[2],10),this.emitInput(this.inputDate)},genPickerTitle:function(){var t=this;return this.$createElement(c,{props:{date:this.value?this.formatters.titleDate(this.isMultiple?this.multipleValue:this.value):"",disabled:this.disabled,readonly:this.readonly,selectingYear:"YEAR"===this.internalActivePicker,year:this.formatters.year(this.multipleValue.length?"".concat(this.inputYear):this.tableDate),yearIcon:this.yearIcon,value:this.multipleValue[0]},slot:"title",on:{"update:selecting-year":function(e){return t.internalActivePicker=e?"YEAR":t.type.toUpperCase()}}})},genTableHeader:function(){var t=this;return this.$createElement(w,{props:{nextIcon:this.nextIcon,color:this.color,dark:this.dark,disabled:this.disabled,format:this.headerDateFormat,light:this.light,locale:this.locale,min:"DATE"===this.internalActivePicker?this.minMonth:this.minYear,max:"DATE"===this.internalActivePicker?this.maxMonth:this.maxYear,nextAriaLabel:"DATE"===this.internalActivePicker?this.nextMonthAriaLabel:this.nextYearAriaLabel,prevAriaLabel:"DATE"===this.internalActivePicker?this.prevMonthAriaLabel:this.prevYearAriaLabel,prevIcon:this.prevIcon,readonly:this.readonly,value:"DATE"===this.internalActivePicker?"".concat(m(this.tableYear,4),"-").concat(m(this.tableMonth+1)):"".concat(m(this.tableYear,4))},on:{toggle:function(){return t.internalActivePicker="DATE"===t.internalActivePicker?"MONTH":"YEAR"},input:function(e){return t.tableDate=e}}})},genDateTable:function(){var t=this;return this.$createElement(L,{props:{allowedDates:this.allowedDates,color:this.color,current:this.current,dark:this.dark,disabled:this.disabled,events:this.events,eventColor:this.eventColor,firstDayOfWeek:this.firstDayOfWeek,format:this.dayFormat,light:this.light,locale:this.locale,localeFirstDayOfYear:this.localeFirstDayOfYear,min:this.min,max:this.max,range:this.range,readonly:this.readonly,scrollable:this.scrollable,showAdjacentMonths:this.showAdjacentMonths,showWeek:this.showWeek,tableDate:"".concat(m(this.tableYear,4),"-").concat(m(this.tableMonth+1)),value:this.value,weekdayFormat:this.weekdayFormat},ref:"table",on:(0,n.Z)({input:this.dateClick,"update:table-date":function(e){return t.tableDate=e}},$(this,":date"))})},genMonthTable:function(){var t=this;return this.$createElement(E,{props:{allowedDates:"month"===this.type?this.allowedDates:null,color:this.color,current:this.current?D(this.current,"month"):null,dark:this.dark,disabled:this.disabled,events:"month"===this.type?this.events:null,eventColor:"month"===this.type?this.eventColor:null,format:this.monthFormat,light:this.light,locale:this.locale,min:this.minMonth,max:this.maxMonth,range:this.range,readonly:this.readonly&&"month"===this.type,scrollable:this.scrollable,value:this.selectedMonths,tableDate:"".concat(m(this.tableYear,4))},ref:"table",on:(0,n.Z)({input:this.monthClick,"update:table-date":function(e){return t.tableDate=e}},$(this,":month"))})},genYears:function(){return this.$createElement(V,{props:{color:this.color,format:this.yearFormat,locale:this.locale,min:this.minYear,max:this.maxYear,value:this.tableYear},on:(0,n.Z)({input:this.yearClick},$(this,":year"))})},genPickerBody:function(){var t="YEAR"===this.internalActivePicker?[this.genYears()]:[this.genTableHeader(),"DATE"===this.internalActivePicker?this.genDateTable():this.genMonthTable()];return this.$createElement("div",{key:this.internalActivePicker},t)},setInputDate:function(){if(this.lastValue){var t=this.lastValue.split("-");this.inputYear=parseInt(t[0],10),this.inputMonth=parseInt(t[1],10)-1,"date"===this.type&&(this.inputDay=parseInt(t[2],10))}else this.inputYear=this.inputYear||this.now.getFullYear(),this.inputMonth=null==this.inputMonth?this.inputMonth:this.now.getMonth(),this.inputDay=this.inputDay||this.now.getDate()}},render:function(){return this.genPicker("v-picker--date")}})},4497:function(t,e,a){"use strict";a.d(e,{Z:function(){return b}});var n=a(4367),i=a(68932),o=a(23796),r=(a(9653),a(73210),a(26699),a(32023),a(41539),a(69826),a(43242)),s=a(25795),l=a(65907),c=a(83944),u=a(90390),d=a(60423),p=a(95703),h=a(45600),f=a(73325),v=a(71824),m=a(4589),g=(0,f.Z)(l.Z,c.Z,u.Z,d.Z,p.Z,s.Z),b=g.extend({name:"v-dialog",directives:{ClickOutside:h.Z},props:{dark:Boolean,disabled:Boolean,fullscreen:Boolean,light:Boolean,maxWidth:[String,Number],noClickAnimation:Boolean,origin:{type:String,default:"center center"},persistent:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,transition:{type:[String,Boolean],default:"dialog-transition"},width:[String,Number]},data:function(){return{activatedBy:null,animate:!1,animateTimeout:-1,stackMinZIndex:200,previousActiveElement:null}},computed:{classes:function(){var t;return t={},(0,o.Z)(t,"v-dialog ".concat(this.contentClass).trim(),!0),(0,o.Z)(t,"v-dialog--active",this.isActive),(0,o.Z)(t,"v-dialog--persistent",this.persistent),(0,o.Z)(t,"v-dialog--fullscreen",this.fullscreen),(0,o.Z)(t,"v-dialog--scrollable",this.scrollable),(0,o.Z)(t,"v-dialog--animated",this.animate),t},contentClasses:function(){return{"v-dialog__content":!0,"v-dialog__content--active":this.isActive}},hasActivator:function(){return Boolean(!!this.$slots.activator||!!this.$scopedSlots.activator)}},watch:{isActive:function(t){var e;t?(this.show(),this.hideScroll()):(this.removeOverlay(),this.unbind(),null==(e=this.previousActiveElement)||e.focus())},fullscreen:function(t){this.isActive&&(t?(this.hideScroll(),this.removeOverlay(!1)):(this.showScroll(),this.genOverlay()))}},created:function(){this.$attrs.hasOwnProperty("full-width")&&(0,v.Jk)("full-width",this)},beforeMount:function(){var t=this;this.$nextTick((function(){t.isBooted=t.isActive,t.isActive&&t.show()}))},beforeDestroy:function(){"undefined"!==typeof window&&this.unbind()},methods:{animateClick:function(){var t=this;this.animate=!1,this.$nextTick((function(){t.animate=!0,window.clearTimeout(t.animateTimeout),t.animateTimeout=window.setTimeout((function(){return t.animate=!1}),150)}))},closeConditional:function(t){var e=t.target;return!(this._isDestroyed||!this.isActive||this.$refs.content.contains(e)||this.overlay&&e&&!this.overlay.$el.contains(e))&&this.activeZIndex>=this.getMaxZIndex()},hideScroll:function(){this.fullscreen?document.documentElement.classList.add("overflow-y-hidden"):u.Z.options.methods.hideScroll.call(this)},show:function(){var t=this;!this.fullscreen&&!this.hideOverlay&&this.genOverlay(),this.$nextTick((function(){t.$nextTick((function(){t.$refs.content.contains(document.activeElement)||(t.previousActiveElement=document.activeElement,t.$refs.content.focus()),t.bind()}))}))},bind:function(){window.addEventListener("focusin",this.onFocusin)},unbind:function(){window.removeEventListener("focusin",this.onFocusin)},onClickOutside:function(t){this.$emit("click:outside",t),this.persistent?this.noClickAnimation||this.animateClick():this.isActive=!1},onKeydown:function(t){if(t.keyCode===m.Do.esc&&!this.getOpenDependents().length)if(this.persistent)this.noClickAnimation||this.animateClick();else{this.isActive=!1;var e=this.getActivator();this.$nextTick((function(){return e&&e.focus()}))}this.$emit("keydown",t)},onFocusin:function(t){if(t&&this.retainFocus){var e=t.target;if(e&&![document,this.$refs.content].includes(e)&&!this.$refs.content.contains(e)&&this.activeZIndex>=this.getMaxZIndex()&&!this.getOpenDependentElements().some((function(t){return t.contains(e)}))){var a=this.$refs.content.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),n=(0,i.Z)(a).find((function(t){return!t.hasAttribute("disabled")}));n&&n.focus()}}},genContent:function(){var t=this;return this.showLazyContent((function(){return[t.$createElement(r.Z,{props:{root:!0,light:t.light,dark:t.dark}},[t.$createElement("div",{class:t.contentClasses,attrs:(0,n.Z)({role:"dialog",tabindex:t.isActive?0:void 0,"aria-modal":t.hideOverlay?void 0:"true"},t.getScopeIdAttrs()),on:{keydown:t.onKeydown},style:{zIndex:t.activeZIndex},ref:"content"},[t.genTransition()])])]}))},genTransition:function(){var t=this.genInnerContent();return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,appear:!0}},[t]):t},genInnerContent:function(){var t={class:this.classes,ref:"dialog",directives:[{name:"click-outside",value:{handler:this.onClickOutside,closeConditional:this.closeConditional,include:this.getOpenDependentElements}},{name:"show",value:this.isActive}],style:{transformOrigin:this.origin}};return this.fullscreen||(t.style=(0,n.Z)((0,n.Z)({},t.style),{},{maxWidth:(0,m.kb)(this.maxWidth),width:(0,m.kb)(this.width)})),this.$createElement("div",t,this.getContentSlot())}},render:function(t){return t("div",{staticClass:"v-dialog__container",class:{"v-dialog__container--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},[this.genActivator(),this.genContent()])}})},94227:function(t,e,a){"use strict";var n=a(4367),i=(a(74916),a(15306),a(17352)),o=a(6505),r=a(48085),s=a(4589),l=a(73325),c=(0,l.Z)(o.Z,(0,i.d)("tabsBar"),r.Z);e["Z"]=c.extend().extend().extend({name:"v-tab",props:{ripple:{type:[Boolean,Object],default:!0}},data:function(){return{proxyClass:"v-tab--active"}},computed:{classes:function(){return(0,n.Z)((0,n.Z)({"v-tab":!0},o.Z.options.computed.classes.call(this)),{},{"v-tab--disabled":this.disabled},this.groupClasses)},value:function(){var t=this.to||this.href;if(null==t)return t;if(this.$router&&this.to===Object(this.to)){var e=this.$router.resolve(this.to,this.$route,this.append);t=e.href}return t.replace("#","")}},methods:{click:function(t){this.disabled?t.preventDefault():(this.href&&this.href.indexOf("#")>-1&&t.preventDefault(),t.detail&&this.$el.blur(),this.$emit("click",t),this.to||this.toggle())},toggle:function(){this.isActive&&(this.tabsBar.mandatory||this.to)||this.$emit("change")}},render:function(t){var e=this,a=this.generateRouteLink(),i=a.tag,o=a.data;return o.attrs=(0,n.Z)((0,n.Z)({},o.attrs),{},{"aria-selected":String(this.isActive),role:"tab",tabindex:this.disabled?-1:0}),o.on=(0,n.Z)((0,n.Z)({},o.on),{},{keydown:function(t){t.keyCode===s.Do.enter&&e.click(t),e.$emit("keydown",t)}}),t(i,o,this.$slots.default)}})},71759:function(t,e,a){"use strict";a.d(e,{Z:function(){return u}});var n=a(88625),i=a(17352),o=a(95500),r=a(4589),s=a(73325),l=(0,s.Z)(n.Z,(0,i.d)("windowGroup","v-window-item","v-window")),c=l.extend().extend().extend({name:"v-window-item",directives:{Touch:o.Z},props:{disabled:Boolean,reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},value:{required:!1}},data:function(){return{isActive:!1,inTransition:!1}},computed:{classes:function(){return this.groupClasses},computedTransition:function(){return this.windowGroup.internalReverse?"undefined"!==typeof this.reverseTransition?this.reverseTransition||"":this.windowGroup.computedTransition:"undefined"!==typeof this.transition?this.transition||"":this.windowGroup.computedTransition}},methods:{genDefaultSlot:function(){return this.$slots.default},genWindowItem:function(){return this.$createElement("div",{staticClass:"v-window-item",class:this.classes,directives:[{name:"show",value:this.isActive}],on:this.$listeners},this.genDefaultSlot())},onAfterTransition:function(){this.inTransition&&(this.inTransition=!1,this.windowGroup.transitionCount>0&&(this.windowGroup.transitionCount--,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=void 0)))},onBeforeTransition:function(){this.inTransition||(this.inTransition=!0,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=(0,r.kb)(this.windowGroup.$el.clientHeight)),this.windowGroup.transitionCount++)},onTransitionCancelled:function(){this.onAfterTransition()},onEnter:function(t){var e=this;this.inTransition&&this.$nextTick((function(){e.computedTransition&&e.inTransition&&(e.windowGroup.transitionHeight=(0,r.kb)(t.clientHeight))}))}},render:function(t){var e=this;return t("transition",{props:{name:this.computedTransition},on:{beforeEnter:this.onBeforeTransition,afterEnter:this.onAfterTransition,enterCancelled:this.onTransitionCancelled,beforeLeave:this.onBeforeTransition,afterLeave:this.onAfterTransition,leaveCancelled:this.onTransitionCancelled,enter:this.onEnter}},this.showLazyContent((function(){return[e.genWindowItem()]})))}}),u=c.extend({name:"v-tab-item",props:{id:String},methods:{genWindowItem:function(){var t=c.options.methods.genWindowItem.call(this);return t.data.domProps=t.data.domProps||{},t.data.domProps.id=this.id||this.value,t}}})},38697:function(t,e,a){"use strict";a.d(e,{Z:function(){return D}});var n=a(4367),i=(a(9653),a(68309),a(62032)),o=(a(52420),a(26699),a(92222),a(47042),a(70172)),r=a(85827),s=a(24622),l=a(96341),c=a(549),u=a(95500),d=a(73325),p=a(4589);function h(t){var e=.501,a=Math.abs(t);return Math.sign(t)*(a/((1/e-2)*(1-a)+1))}function f(t,e,a,n){var i=t.clientWidth,o=a?e.content-t.offsetLeft-i:t.offsetLeft;a&&(n=-n);var r=e.wrapper+n,s=i+o,l=.4*i;return o<=n?n=Math.max(o-l,0):r<=s&&(n=Math.min(n-(r-s-l),e.content-e.wrapper)),a?-n:n}function v(t,e,a){var n=t.offsetLeft,i=t.clientWidth;if(a){var o=e.content-n-i/2-e.wrapper/2;return-Math.min(e.content-e.wrapper,Math.max(0,o))}var r=n+i/2-e.wrapper/2;return Math.min(e.content-e.wrapper,Math.max(0,r))}var m=(0,d.Z)(s.y,l.Z).extend({name:"base-slide-group",directives:{Resize:c.Z,Touch:u.Z},props:{activeClass:{type:String,default:"v-slide-item--active"},centerActive:Boolean,nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},showArrows:{type:[Boolean,String],validator:function(t){return"boolean"===typeof t||["always","desktop","mobile"].includes(t)}}},data:function(){return{internalItemsLength:0,isOverflowing:!1,resizeTimeout:0,startX:0,isSwipingHorizontal:!1,isSwiping:!1,scrollOffset:0,widths:{content:0,wrapper:0}}},computed:{canTouch:function(){return"undefined"!==typeof window},__cachedNext:function(){return this.genTransition("next")},__cachedPrev:function(){return this.genTransition("prev")},classes:function(){return(0,n.Z)((0,n.Z)({},s.y.options.computed.classes.call(this)),{},{"v-slide-group":!0,"v-slide-group--has-affixes":this.hasAffixes,"v-slide-group--is-overflowing":this.isOverflowing})},hasAffixes:function(){switch(this.showArrows){case"always":return!0;case"desktop":return!this.isMobile;case!0:return this.isOverflowing||Math.abs(this.scrollOffset)>0;case"mobile":return this.isMobile||this.isOverflowing||Math.abs(this.scrollOffset)>0;default:return!this.isMobile&&(this.isOverflowing||Math.abs(this.scrollOffset)>0)}},hasNext:function(){if(!this.hasAffixes)return!1;var t=this.widths,e=t.content,a=t.wrapper;return e>Math.abs(this.scrollOffset)+a},hasPrev:function(){return this.hasAffixes&&0!==this.scrollOffset}},watch:{internalValue:"setWidths",isOverflowing:"setWidths",scrollOffset:function(t){this.$vuetify.rtl&&(t=-t);var e=t<=0?h(-t):t>this.widths.content-this.widths.wrapper?-(this.widths.content-this.widths.wrapper)+h(this.widths.content-this.widths.wrapper-t):-t;this.$vuetify.rtl&&(e=-e),this.$refs.content.style.transform="translateX(".concat(e,"px)")}},beforeUpdate:function(){this.internalItemsLength=(this.$children||[]).length},updated:function(){this.internalItemsLength!==(this.$children||[]).length&&this.setWidths()},methods:{onScroll:function(){this.$refs.wrapper.scrollLeft=0},onFocusin:function(t){if(this.isOverflowing){var e,a=(0,i.Z)((0,p.iZ)(t));try{for(a.s();!(e=a.n()).done;){var n,o=e.value,r=(0,i.Z)(this.items);try{for(r.s();!(n=r.n()).done;){var s=n.value;if(s.$el===o)return void(this.scrollOffset=f(s.$el,this.widths,this.$vuetify.rtl,this.scrollOffset))}}catch(l){r.e(l)}finally{r.f()}}}catch(l){a.e(l)}finally{a.f()}}},genNext:function(){var t=this,e=this.$scopedSlots.next?this.$scopedSlots.next({}):this.$slots.next||this.__cachedNext;return this.$createElement("div",{staticClass:"v-slide-group__next",class:{"v-slide-group__next--disabled":!this.hasNext},on:{click:function(){return t.onAffixClick("next")}},key:"next"},[e])},genContent:function(){return this.$createElement("div",{staticClass:"v-slide-group__content",ref:"content",on:{focusin:this.onFocusin}},this.$slots.default)},genData:function(){return{class:this.classes,directives:[{name:"resize",value:this.onResize}]}},genIcon:function(t){var e=t;this.$vuetify.rtl&&"prev"===t?e="next":this.$vuetify.rtl&&"next"===t&&(e="prev");var a="".concat(t[0].toUpperCase()).concat(t.slice(1)),n=this["has".concat(a)];return this.showArrows||n?this.$createElement(o.Z,{props:{disabled:!n}},this["".concat(e,"Icon")]):null},genPrev:function(){var t=this,e=this.$scopedSlots.prev?this.$scopedSlots.prev({}):this.$slots.prev||this.__cachedPrev;return this.$createElement("div",{staticClass:"v-slide-group__prev",class:{"v-slide-group__prev--disabled":!this.hasPrev},on:{click:function(){return t.onAffixClick("prev")}},key:"prev"},[e])},genTransition:function(t){return this.$createElement(r.Z5,[this.genIcon(t)])},genWrapper:function(){var t=this;return this.$createElement("div",{staticClass:"v-slide-group__wrapper",directives:[{name:"touch",value:{start:function(e){return t.overflowCheck(e,t.onTouchStart)},move:function(e){return t.overflowCheck(e,t.onTouchMove)},end:function(e){return t.overflowCheck(e,t.onTouchEnd)}}}],ref:"wrapper",on:{scroll:this.onScroll}},[this.genContent()])},calculateNewOffset:function(t,e,a,n){var i=a?-1:1,o=i*n+("prev"===t?-1:1)*e.wrapper;return i*Math.max(Math.min(o,e.content-e.wrapper),0)},onAffixClick:function(t){this.$emit("click:".concat(t)),this.scrollTo(t)},onResize:function(){this._isDestroyed||this.setWidths()},onTouchStart:function(t){var e=this.$refs.content;this.startX=this.scrollOffset+t.touchstartX,e.style.setProperty("transition","none"),e.style.setProperty("willChange","transform")},onTouchMove:function(t){if(this.canTouch){if(!this.isSwiping){var e=t.touchmoveX-t.touchstartX,a=t.touchmoveY-t.touchstartY;this.isSwipingHorizontal=Math.abs(e)>Math.abs(a),this.isSwiping=!0}this.isSwipingHorizontal&&(this.scrollOffset=this.startX-t.touchmoveX,document.documentElement.style.overflowY="hidden")}},onTouchEnd:function(){if(this.canTouch){var t=this.$refs,e=t.content,a=t.wrapper,n=e.clientWidth-a.clientWidth;e.style.setProperty("transition",null),e.style.setProperty("willChange",null),this.$vuetify.rtl?this.scrollOffset>0||!this.isOverflowing?this.scrollOffset=0:this.scrollOffset<=-n&&(this.scrollOffset=-n):this.scrollOffset<0||!this.isOverflowing?this.scrollOffset=0:this.scrollOffset>=n&&(this.scrollOffset=n),this.isSwiping=!1,document.documentElement.style.removeProperty("overflow-y")}},overflowCheck:function(t,e){t.stopPropagation(),this.isOverflowing&&e(t)},scrollIntoView:function(){if(!this.selectedItem&&this.items.length){var t=this.items[this.items.length-1].$el.getBoundingClientRect(),e=this.$refs.wrapper.getBoundingClientRect();(this.$vuetify.rtl&&e.right<t.right||!this.$vuetify.rtl&&e.left>t.left)&&this.scrollTo("prev")}this.selectedItem&&(0===this.selectedIndex||!this.centerActive&&!this.isOverflowing?this.scrollOffset=0:this.centerActive?this.scrollOffset=v(this.selectedItem.$el,this.widths,this.$vuetify.rtl):this.isOverflowing&&(this.scrollOffset=f(this.selectedItem.$el,this.widths,this.$vuetify.rtl,this.scrollOffset)))},scrollTo:function(t){this.scrollOffset=this.calculateNewOffset(t,{content:this.$refs.content?this.$refs.content.clientWidth:0,wrapper:this.$refs.wrapper?this.$refs.wrapper.clientWidth:0},this.$vuetify.rtl,this.scrollOffset)},setWidths:function(){var t=this;window.requestAnimationFrame((function(){if(!t._isDestroyed){var e=t.$refs,a=e.content,n=e.wrapper;t.widths={content:a?a.clientWidth:0,wrapper:n?n.clientWidth:0},t.isOverflowing=t.widths.wrapper+1<t.widths.content,t.scrollIntoView()}}))}},render:function(t){return t("div",this.genData(),[this.genPrev(),this.genWrapper(),this.genNext()])}}),g=(m.extend({name:"v-slide-group",provide:function(){return{slideGroup:this}}}),a(48085)),b=a(39177),y=(0,d.Z)(m,b.Z,g.Z).extend({name:"v-tabs-bar",provide:function(){return{tabsBar:this}},computed:{classes:function(){return(0,n.Z)((0,n.Z)({},m.options.computed.classes.call(this)),{},{"v-tabs-bar":!0,"v-tabs-bar--is-mobile":this.isMobile,"v-tabs-bar--show-arrows":this.showArrows},this.themeClasses)}},watch:{items:"callSlider",internalValue:"callSlider",$route:"onRouteChange"},methods:{callSlider:function(){this.isBooted&&this.$emit("call:slider")},genContent:function(){var t=m.options.methods.genContent.call(this);return t.data=t.data||{},t.data.staticClass+=" v-tabs-bar__content",t},onRouteChange:function(t,e){if(!this.mandatory){var a,n=this.items,o=t.path,r=e.path,s=!1,l=!1,c=(0,i.Z)(n);try{for(c.s();!(a=c.n()).done;){var u=a.value;if(u.to===r?l=!0:u.to===o&&(s=!0),s&&l)break}}catch(d){c.e(d)}finally{c.f()}!s&&l&&(this.internalValue=void 0)}}},render:function(t){var e=m.options.render.call(this,t);return e.data.attrs={role:"tablist"},e}}),w=a(51954),k=a(21208),x=a(46952),S=a(41431),$=(0,d.Z)(x.Z,S.Z,g.Z),D=$.extend().extend({name:"v-tabs",directives:{Resize:c.Z},props:{activeClass:{type:String,default:""},alignWithTitle:Boolean,backgroundColor:String,centerActive:Boolean,centered:Boolean,fixedTabs:Boolean,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,iconsAndText:Boolean,mobileBreakpoint:[String,Number],nextIcon:{type:String,default:"$next"},optional:Boolean,prevIcon:{type:String,default:"$prev"},right:Boolean,showArrows:[Boolean,String],sliderColor:String,sliderSize:{type:[Number,String],default:2},vertical:Boolean},data:function(){return{resizeTimeout:0,slider:{height:null,left:null,right:null,top:null,width:null},transitionTime:300}},computed:{classes:function(){return(0,n.Z)({"v-tabs--align-with-title":this.alignWithTitle,"v-tabs--centered":this.centered,"v-tabs--fixed-tabs":this.fixedTabs,"v-tabs--grow":this.grow,"v-tabs--icons-and-text":this.iconsAndText,"v-tabs--right":this.right,"v-tabs--vertical":this.vertical},this.themeClasses)},isReversed:function(){return this.$vuetify.rtl&&this.vertical},sliderStyles:function(){return{height:(0,p.kb)(this.slider.height),left:this.isReversed?void 0:(0,p.kb)(this.slider.left),right:this.isReversed?(0,p.kb)(this.slider.right):void 0,top:this.vertical?(0,p.kb)(this.slider.top):void 0,transition:null!=this.slider.left?null:"none",width:(0,p.kb)(this.slider.width)}},computedColor:function(){return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"}},watch:{alignWithTitle:"callSlider",centered:"callSlider",centerActive:"callSlider",fixedTabs:"callSlider",grow:"callSlider",iconsAndText:"callSlider",right:"callSlider",showArrows:"callSlider",vertical:"callSlider","$vuetify.application.left":"onResize","$vuetify.application.right":"onResize","$vuetify.rtl":"onResize"},mounted:function(){var t=this;this.$nextTick((function(){window.setTimeout(t.callSlider,30)}))},methods:{callSlider:function(){var t=this;return!this.hideSlider&&this.$refs.items&&this.$refs.items.selectedItems.length?(this.$nextTick((function(){var e=t.$refs.items.selectedItems[0];if(!e||!e.$el)return t.slider.width=0,void(t.slider.left=0);var a=e.$el;t.slider={height:t.vertical?a.scrollHeight:Number(t.sliderSize),left:t.vertical?0:a.offsetLeft,right:t.vertical?0:a.offsetLeft+a.offsetWidth,top:a.offsetTop,width:t.vertical?Number(t.sliderSize):a.scrollWidth}})),!0):(this.slider.width=0,!1)},genBar:function(t,e){var a=this,n={style:{height:(0,p.kb)(this.height)},props:{activeClass:this.activeClass,centerActive:this.centerActive,dark:this.dark,light:this.light,mandatory:!this.optional,mobileBreakpoint:this.mobileBreakpoint,nextIcon:this.nextIcon,prevIcon:this.prevIcon,showArrows:this.showArrows,value:this.internalValue},on:{"call:slider":this.callSlider,change:function(t){a.internalValue=t}},ref:"items"};return this.setTextColor(this.computedColor,n),this.setBackgroundColor(this.backgroundColor,n),this.$createElement(y,n,[this.genSlider(e),t])},genItems:function(t,e){var a=this;return t||(e.length?this.$createElement(w.Z,{props:{value:this.internalValue},on:{change:function(t){a.internalValue=t}}},e):null)},genSlider:function(t){return this.hideSlider?null:(t||(t=this.$createElement(k.Z,{props:{color:this.sliderColor}})),this.$createElement("div",{staticClass:"v-tabs-slider-wrapper",style:this.sliderStyles},[t]))},onResize:function(){this._isDestroyed||(clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(this.callSlider,0))},parseNodes:function(){for(var t=null,e=null,a=[],n=[],i=this.$slots.default||[],o=i.length,r=0;r<o;r++){var s=i[r];if(s.componentOptions)switch(s.componentOptions.Ctor.options.name){case"v-tabs-slider":e=s;break;case"v-tabs-items":t=s;break;case"v-tab-item":a.push(s);break;default:n.push(s)}else n.push(s)}return{tab:n,slider:e,items:t,item:a}}},render:function(t){var e=this.parseNodes(),a=e.tab,n=e.slider,i=e.items,o=e.item;return t("div",{staticClass:"v-tabs",class:this.classes,directives:[{name:"resize",modifiers:{quiet:!0},value:this.onResize}]},[this.genBar(a,n),this.genItems(i,o)])}})},51954:function(t,e,a){"use strict";a.d(e,{Z:function(){return c}});var n=a(4367),i=(a(92222),a(69826),a(41539),a(34553),a(95500)),o=a(98119),r=a(70172),s=a(24622),l=s.y.extend({name:"v-window",directives:{Touch:i.Z},provide:function(){return{windowGroup:this}},props:{activeClass:{type:String,default:"v-window-item--active"},continuous:Boolean,mandatory:{type:Boolean,default:!0},nextIcon:{type:[Boolean,String],default:"$next"},prevIcon:{type:[Boolean,String],default:"$prev"},reverse:Boolean,showArrows:Boolean,showArrowsOnHover:Boolean,touch:Object,touchless:Boolean,value:{required:!1},vertical:Boolean},data:function(){return{changedByDelimiters:!1,internalHeight:void 0,transitionHeight:void 0,transitionCount:0,isBooted:!1,isReverse:!1}},computed:{isActive:function(){return this.transitionCount>0},classes:function(){return(0,n.Z)((0,n.Z)({},s.y.options.computed.classes.call(this)),{},{"v-window--show-arrows-on-hover":this.showArrowsOnHover})},computedTransition:function(){if(!this.isBooted)return"";var t=this.vertical?"y":"x",e=this.internalReverse?!this.isReverse:this.isReverse,a=e?"-reverse":"";return"v-window-".concat(t).concat(a,"-transition")},hasActiveItems:function(){return Boolean(this.items.find((function(t){return!t.disabled})))},hasNext:function(){return this.continuous||this.internalIndex<this.items.length-1},hasPrev:function(){return this.continuous||this.internalIndex>0},internalIndex:function(){var t=this;return this.items.findIndex((function(e,a){return t.internalValue===t.getValue(e,a)}))},internalReverse:function(){return this.$vuetify.rtl?!this.reverse:this.reverse}},watch:{internalIndex:function(t,e){this.isReverse=this.updateReverse(t,e)}},mounted:function(){var t=this;window.requestAnimationFrame((function(){return t.isBooted=!0}))},methods:{genDefaultSlot:function(){return this.$slots.default},genContainer:function(){var t=[this.genDefaultSlot()];return this.showArrows&&t.push(this.genControlIcons()),this.$createElement("div",{staticClass:"v-window__container",class:{"v-window__container--is-active":this.isActive},style:{height:this.internalHeight||this.transitionHeight}},t)},genIcon:function(t,e,a){var n,i,s,l=this,c={click:function(t){t.stopPropagation(),l.changedByDelimiters=!0,a()}},u={"aria-label":this.$vuetify.lang.t("$vuetify.carousel.".concat(t))},d=null!=(n=null==(i=(s=this.$scopedSlots)[t])?void 0:i.call(s,{on:c,attrs:u}))?n:[this.$createElement(o.Z,{props:{icon:!0},attrs:u,on:c},[this.$createElement(r.Z,{props:{large:!0}},e)])];return this.$createElement("div",{staticClass:"v-window__".concat(t)},d)},genControlIcons:function(){var t=[],e=this.$vuetify.rtl?this.nextIcon:this.prevIcon;if(this.hasPrev&&e&&"string"===typeof e){var a=this.genIcon("prev",e,this.prev);a&&t.push(a)}var n=this.$vuetify.rtl?this.prevIcon:this.nextIcon;if(this.hasNext&&n&&"string"===typeof n){var i=this.genIcon("next",n,this.next);i&&t.push(i)}return t},getNextIndex:function(t){var e=(t+1)%this.items.length,a=this.items[e];return a.disabled?this.getNextIndex(e):e},getPrevIndex:function(t){var e=(t+this.items.length-1)%this.items.length,a=this.items[e];return a.disabled?this.getPrevIndex(e):e},next:function(){if(this.hasActiveItems&&this.hasNext){var t=this.getNextIndex(this.internalIndex),e=this.items[t];this.internalValue=this.getValue(e,t)}},prev:function(){if(this.hasActiveItems&&this.hasPrev){var t=this.getPrevIndex(this.internalIndex),e=this.items[t];this.internalValue=this.getValue(e,t)}},updateReverse:function(t,e){var a=this.items.length,n=a-1;return a<=2?t<e:t===n&&0===e||(0!==t||e!==n)&&t<e}},render:function(t){var e=this,a={staticClass:"v-window",class:this.classes,directives:[]};if(!this.touchless){var n=this.touch||{left:function(){e.$vuetify.rtl?e.prev():e.next()},right:function(){e.$vuetify.rtl?e.next():e.prev()},end:function(t){t.stopPropagation()},start:function(t){t.stopPropagation()}};a.directives.push({name:"touch",value:n})}return t("div",a,[this.genContainer()])}}),c=l.extend({name:"v-tabs-items",props:{mandatory:{type:Boolean,default:!1}},computed:{classes:function(){return(0,n.Z)((0,n.Z)({},l.options.computed.classes.call(this)),{},{"v-tabs-items":!0})},isDark:function(){return this.rootIsDark}},methods:{getValue:function(t,e){return t.id||s.y.options.methods.getValue.call(this,t,e)}}})},21208:function(t,e,a){"use strict";var n=a(46952),i=a(73325);e["Z"]=(0,i.Z)(n.Z).extend({name:"v-tabs-slider",render:function(t){return t("div",this.setBackgroundColor(this.color,{staticClass:"v-tabs-slider"}))}})},27921:function(t,e,a){"use strict";a.d(e,{qW:function(){return o}});var n=a(36656),i=a(4589),o=(0,i.Ji)("v-toolbar__title"),r=(0,i.Ji)("v-toolbar__items");n.Z},89155:function(t,e,a){"use strict";var n=a(46286),i=a(20144);e["Z"]=i.Z.extend({name:"rippleable",directives:{ripple:n.Z},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.ripple?(t.staticClass="v-input--selection-controls__ripple",t.directives=t.directives||[],t.directives.push({name:"ripple",value:{center:!0}}),this.$createElement("div",t)):null}}})},7764:function(t,e,a){"use strict";a.d(e,{X:function(){return s}});a(41539),a(39714),a(57327);var n=a(58230),i=a(89155),o=a(34419),r=a(73325);function s(t){t.preventDefault()}e["Z"]=(0,r.Z)(n.Z,i.Z,o.Z).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data:function(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor:function(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple:function(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive:function(){var t=this,e=this.value,a=this.internalValue;return this.isMultiple?!!Array.isArray(a)&&a.some((function(a){return t.valueComparator(a,e)})):void 0===this.trueValue||void 0===this.falseValue?e?this.valueComparator(e,a):Boolean(a):this.valueComparator(a,this.trueValue)},isDirty:function(){return this.isActive},rippleState:function(){return this.isDisabled||this.validationState?this.validationState:void 0}},watch:{inputValue:function(t){this.lazyValue=t,this.hasColor=t}},methods:{genLabel:function(){var t=n.Z.options.methods.genLabel.call(this);return t?(t.data.on={click:s},t):t},genInput:function(t,e){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:t,type:t},e),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown,click:s},ref:"input"})},onBlur:function(){this.isFocused=!1},onClick:function(t){this.onChange(),this.$emit("click",t)},onChange:function(){var t=this;if(this.isInteractive){var e=this.value,a=this.internalValue;if(this.isMultiple){Array.isArray(a)||(a=[]);var n=a.length;a=a.filter((function(a){return!t.valueComparator(a,e)})),a.length===n&&a.push(e)}else a=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(a,this.trueValue)?this.falseValue:this.trueValue:e?this.valueComparator(a,e)?null:e:!a;this.validate(!0,a),this.internalValue=a,this.hasColor=a}},onFocus:function(){this.isFocused=!0},onKeydown:function(t){}}})},14801:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return C}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(" "+t._s(t.$t("Permissions"))+" ")]),a("v-form",[a("v-container",[t.appData.mainDomain==t.appData.siteAdminDomain&&t.appData.siteAdmin?a("v-row",[a("v-col",{staticClass:"py-2"},[a("v-checkbox",{staticClass:"py-0 my-0",attrs:{label:t.$t("Site administrator")},model:{value:t.siteAdmin,callback:function(e){t.siteAdmin=e},expression:"siteAdmin"}})],1)],1):t._e(),t.siteAdmin?t._e():a("v-row",[a("v-col",{staticClass:"py-2"},[a("v-checkbox",{staticClass:"py-0 my-0",attrs:{label:t.$t("Domain administrator")},model:{value:t.domainAdmin,callback:function(e){t.domainAdmin=e},expression:"domainAdmin"}})],1)],1)],1),t.domainAdmin||t.siteAdmin?t._e():a("v-container",[a("v-row",[a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"3"}},[a("v-checkbox",{staticClass:"py-0 my-0",attrs:{label:t.$t("Profiles")},model:{value:t.profiles,callback:function(e){t.profiles=e},expression:"profiles"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"3"}},[a("v-select",{staticClass:"py-0 my-0",attrs:{items:t.accessTypes,label:t.$t("Access type"),disabled:!t.permissions["/profiles"]},model:{value:t.permissions["/profiles"],callback:function(e){t.$set(t.permissions,"/profiles",e)},expression:"permissions['/profiles']"}})],1)],1),a("v-row",[a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"3"}},[a("v-checkbox",{staticClass:"py-0 my-0",attrs:{label:t.$t("Groups")},model:{value:t.groups,callback:function(e){t.groups=e},expression:"groups"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"3"}},[a("v-select",{staticClass:"py-0 my-0",attrs:{items:t.accessTypes,label:t.$t("Access type"),disabled:!t.permissions["/groups"]},model:{value:t.permissions["/groups"],callback:function(e){t.$set(t.permissions,"/groups",e)},expression:"permissions['/groups']"}})],1)],1),a("v-row",[a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"3"}},[a("v-checkbox",{staticClass:"py-0 my-0",attrs:{label:t.$t("Apps")},model:{value:t.apps,callback:function(e){t.apps=e},expression:"apps"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"3"}},[a("v-select",{staticClass:"py-0 my-0",attrs:{items:t.accessTypesApps,label:t.$t("Access type"),disabled:!t.permissions["/apps"]},model:{value:t.permissions["/apps"],callback:function(e){t.$set(t.permissions,"/apps",e)},expression:"permissions['/apps']"}})],1)],1),a("v-row",[a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"3"}},[a("v-checkbox",{staticClass:"py-0 my-0",attrs:{label:t.$t("Reports")},model:{value:t.reports,callback:function(e){t.reports=e},expression:"reports"}})],1)],1)],1),a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-btn",{staticClass:"mr-4",attrs:{color:"primary",loading:t.saveLoading},on:{click:t.saveDetails}},[t._v(" "+t._s(t.$t("Save"))+" ")])],1)],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[t._v(" "+t._s(t.$t("Please select atleast one permission"))+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" "+t._s(t.$t("Close"))+" ")])],1)],1)],1),a("v-snackbar",{attrs:{timeout:2e3},scopedSlots:t._u([{key:"action",fn:function(e){var n=e.attrs;return[a("v-btn",t._b({attrs:{color:"primary",text:""},on:{click:function(e){t.snackbarSave=!1}}},"v-btn",n,!1),[t._v(" "+t._s(t.$t("Close"))+" ")])]}}]),model:{value:t.snackbarSave,callback:function(e){t.snackbarSave=e},expression:"snackbarSave"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},i=[],o=a(68932),r=(a(92222),a(47941),a(38862),a(41539),a(13888)),s=a(23144),l={name:"Group",data:function(){return{email:"",newadmin:!0,snackbarSave:!1,snackbarText:"",details:null,siteAdmin:!1,domainAdmin:!1,permissions:{},saveLoading:!1,accessTypes:[],accessTypesApps:[],profiles:!1,groups:!1,apps:!1,reports:!1,dialog:!1,appData:r.Z}},methods:{checkboxChanged:function(t,e){console.log("checkboxChanged. item: ".concat(t,", value: ").concat(e)),e?this.permissions[t]||(this.permissions[t]="rw"):delete this.permissions[t]},saveDetails:function(){var t=this,e=this.permissions;0!=Object.keys(e).length?(this.saveLoading=!0,s.Z.put({url:"api/admins/"+encodeURIComponent(this.email),data:{permissions:JSON.stringify(e)}}).then((function(e){t.saveLoading=!1,console.log(e.data),1==e.data.status?(t.snackbarSave=!0,t.snackbarText=t.$t("Saved"),t.refresh()):(console.log("status: ".concat(e.data.status)),t.snackbarSave=!0,t.snackbarText=t.$t("Error"))})).catch((function(t){return console.log(t)}))):this.dialog=!0},refresh:function(){var t=this;console.log("admin: ".concat(this.email)),s.Z.get({url:"api/admins/"+encodeURIComponent(this.email)}).then((function(e){console.log(e.data),1==e.data.status?(console.log("status: ".concat(e.data.status)),t.details=e.data.details,t.details.admin&&t.details.admin.permissions?t.permissions=JSON.parse(t.details.admin.permissions):t.permissions={},t.siteAdmin="rw"==t.permissions["@/"],t.domainAdmin="rw"==t.permissions["/"],t.profiles=void 0!=t.permissions["/profiles"],t.groups=void 0!=t.permissions["/groups"],t.apps=void 0!=t.permissions["/apps"],t.reports=void 0!=t.permissions["/reports"]):console.log("status: ".concat(e.data.status))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},updatePageHead:function(){var t=[{text:this.$t("control-panel"),to:"/",disabled:!1},{text:this.$t("Admins"),to:"/Admins",disabled:!1},{text:this.email,to:"/Admin/"+this.email,disabled:!1}];this.$emit("updatePage",t)}},created:function(){this.email=this.$route.params.email,this.email||(this.email=""),""==this.email?this.newadmin=!0:this.newadmin=!1,this.updatePageHead(),this.accessTypes=[{text:this.$t("Read only"),value:"r"},{text:this.$t("Read and Write"),value:"rw"}],this.accessTypesApps=[].concat((0,o.Z)(this.accessTypes),[{text:this.$t("Read and Install/Uninstall"),value:"ri"}]),this.refresh()},watch:{profiles:function(t){this.checkboxChanged("/profiles",t)},groups:function(t){this.checkboxChanged("/groups",t)},apps:function(t){this.checkboxChanged("/apps",t)},reports:function(t){t?this.permissions["/reports"]||(this.permissions["/reports"]="r"):delete this.permissions["/reports"]},domainAdmin:function(t){t?this.permissions["/"]||(this.permissions={},this.permissions["/"]="rw",this.reports=!1,this.apps=!1,this.groups=!1,this.profiles=!1):delete this.permissions["/"]},siteAdmin:function(t){t?this.permissions["@/"]||(this.permissions={},this.permissions["@/"]="rw",this.domainAdmin=!1,this.reports=!1,this.apps=!1,this.groups=!1,this.profiles=!1):delete this.permissions["@/"]}}},c=l,u=c,d=a(1001),p=a(43453),h=a.n(p),f=a(63150),v=a(32371),m=a(37118),g=a(83702),b=a(82102),y=a(4228),w=a(4497),k=a(46232),x=a(62877),S=a(47032),$=a(13202),D=a(99762),_=(0,d.Z)(u,n,i,!1,null,null,null),C=_.exports;h()(_,{VBtn:f.Z,VCard:v.Z,VCardActions:m.h7,VCardTitle:m.EB,VCheckbox:g.Z,VCol:b.Z,VContainer:y.Z,VDialog:w.Z,VForm:k.Z,VRow:x.Z,VSelect:S.Z,VSnackbar:$.Z,VSpacer:D.Z})},28195:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return $}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(" "+t._s(t.$t("Admin List"))+" "),a("v-spacer")],1),a("v-data-table",{staticClass:"elevation-1 ma-4 bg",attrs:{headers:t.headers,items:t.rows,loading:t.loading},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"bg"}},[a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:t.addAdmin}},[t._v(" "+t._s(t.$t("Add Administrators"))+" ")])],1)]},proxy:!0},{key:"item.actions",fn:function(e){var n=e.item;return[n.email!=t.appData.email?a("v-icon",{staticClass:"mx-2",attrs:{small:""},on:{click:function(e){return t.$router.push("/Admin/"+n.email)}}},[t._v(" mdi-pencil ")]):t._e(),n.email!=t.appData.email?a("v-icon",{staticClass:"mx-2",attrs:{small:""},on:{click:function(e){return t.deleteAdmin(n)}}},[t._v(" mdi-delete ")]):t._e()]}}],null,!0)}),a("v-dialog",{attrs:{"overlay-color":"bg","max-width":"800px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(" "+t._s(t.$t("Add Profiles"))+" "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-data-table",{staticClass:"elevation-1 ma-4 bg",attrs:{headers:t.profilesHeaders,items:t.profilesRows,loading:t.profilesLoading,"server-items-length":t.totalItems,"items-per-page":5,options:t.options,search:t.search},on:{"update:options":[function(e){t.options=e},t.updateOptions],"click:row":t.rowClick}})],1)],1),a("v-snackbar",{attrs:{timeout:2e3},scopedSlots:t._u([{key:"action",fn:function(e){var n=e.attrs;return[a("v-btn",t._b({attrs:{color:"info",text:""},on:{click:function(e){t.snackbarSave=!1}}},"v-btn",n,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbarSave,callback:function(e){t.snackbarSave=e},expression:"snackbarSave"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},i=[],o=(a(41539),a(74916),a(64765),a(13888)),r=a(23144),s={name:"Profiles",data:function(){return{headers:[],rows:[],dialog:!1,profilesHeaders:[],profilesRows:[],profilesLoading:!0,search:"",totalItems:0,loading:!0,options:{},snackbarSave:!1,snackbarText:"",appData:o.Z}},methods:{addAdmin:function(){this.dialog=!0,this.refreshProfiles()},updateOptions:function(t){console.log("update:options",t),this.refreshProfiles()},rowClick:function(t){console.log("rowClick: ".concat(t.email)),this.$router.push("/Admin/"+t.email)},deleteAdmin:function(t){var e=this;console.log("Delete admin: ".concat(t.emil)),r.Z["delete"]({url:"api/admins/"+encodeURIComponent(t.email)}).then((function(t){console.log(t.data),1==t.data.status?(e.snackbarText=e.$t("Admin removed"),e.snackbarSave=!0,e.refresh()):(console.log("status: ".concat(t.data.status)),e.snackbarText=e.$t("Error"),e.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){return e.loading=!1}))},refreshProfiles:function(){var t=this;this.profilesLoading=!0;var e=this.options.itemsPerPage>0?this.options.itemsPerPage:1e4,a=(this.options.page-1)*e;r.Z.post({url:"api/profiles",data:{adminFilter:"N",offset:a,limit:e,sortBy:this.options.sortBy,sortDesc:this.options.sortDesc,search:this.search}}).then((function(e){t.profilesLoading=!1,console.log(e.data),1==e.data.status?(t.profilesRows=e.data.profiles,t.totalItems=e.data.totalItems):(console.log("status: ".concat(e.data.status)),t.$router.push("/Login"))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},refresh:function(){var t=this;r.Z.post({url:"api/profiles",data:{adminFilter:"Y"}}).then((function(e){console.log(e.data),1==e.data.status?t.rows=e.data.profiles:(console.log("status: ".concat(e.data.status)),t.$router.push("/Login"))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))}},created:function(){var t=[{text:this.$t("control-panel"),to:"/",disabled:!1},{text:this.$t("Administrators"),to:"/Admins",disabled:!1}];this.$emit("updatePage",t),this.headers=[{text:this.$t("Last Name"),value:"lastName"},{text:this.$t("First Name"),value:"firstName"},{text:this.$t("Email"),value:"email"},{text:this.$t("Actions"),value:"actions",sortable:!1}],this.profilesHeaders=[{text:this.$t("Last Name"),value:"lastName"},{text:this.$t("First Name"),value:"firstName"},{text:this.$t("Email"),value:"email"}],this.refresh()},watch:{search:function(t){console.log("search: ".concat(t)),(t.length>1||0==t.length)&&this.refreshProfiles()}}},l=s,c=l,u=a(1001),d=a(43453),p=a.n(d),h=a(63150),f=a(32371),v=a(37118),m=a(76277),g=a(4497),b=a(96428),y=a(13202),w=a(99762),k=a(55978),x=a(36656),S=(0,u.Z)(c,n,i,!1,null,null,null),$=S.exports;p()(S,{VBtn:h.Z,VCard:f.Z,VCardTitle:v.EB,VDataTable:m.Z,VDialog:g.Z,VIcon:b.Z,VSnackbar:y.Z,VSpacer:w.Z,VTextField:k.Z,VToolbar:x.Z})},31395:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return H}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:"bg"}},[a("v-toolbar",{attrs:{color:"secondary",dark:"",flat:""},scopedSlots:t._u([{key:"extension",fn:function(){return[a("v-tabs",{attrs:{"align-with-title":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tabs-slider",{attrs:{color:"primary"}}),a("v-tab",{key:"details"},[t._v(" "+t._s(t.$t("Details"))+" ")]),a("v-tab",{key:"profiles"},[t._v(" "+t._s(t.$t("Profiles"))+" ")]),a("v-tab",{key:"groups"},[t._v(" "+t._s(t.$t("Groups"))+" ")])],1)]},proxy:!0}])},[a("v-toolbar-title",[t._v(t._s(t.details.appname))]),a("v-spacer")],1),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",{key:"details"},[a("v-card",{staticClass:"ma-0",attrs:{flat:"",color:"bg"}},[a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-avatar",{attrs:{tile:"",size:"80"}},[a("v-img",{attrs:{src:t.details.imageurl}})],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"headline mb-1"},[t._v(" "+t._s(t.details.appname)+" ")]),a("v-list-item-subtitle",[t._v(t._s(t.$t("App ID"))+": "+t._s(t.details.packagename)),a("br"),t._v(" "+t._s(t.$t("Profiles"))+": "+t._s(t.totalNumOfUsers)+" ")])],1)],1)],1),a("v-card",{staticClass:"ma-0",attrs:{flat:"",color:"bg"}},[a("v-form",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("App Name")},model:{value:t.details.appname,callback:function(e){t.$set(t.details,"appname",e)},expression:"details.appname"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("Summary")},model:{value:t.details.summary,callback:function(e){t.$set(t.details,"summary",e)},expression:"details.summary"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("Categories"),placeholder:t.$t("Seperate names by comma")},model:{value:t.details.categories,callback:function(e){t.$set(t.details,"categories",e)},expression:"details.categories"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{label:t.$t("Description")},model:{value:t.details.description,callback:function(e){t.$set(t.details,"description",e)},expression:"details.description"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("Version Name"),readonly:""},model:{value:t.details.versionname,callback:function(e){t.$set(t.details,"versionname",e)},expression:"details.versionname"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("Version Code"),readonly:""},model:{value:t.details.versioncode,callback:function(e){t.$set(t.details,"versioncode",e)},expression:"details.versioncode"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-select",{attrs:{items:t.renderingItems,label:t.$t("Rendering Mode"),rules:t.requiredRules},model:{value:t.details.displayprotocol,callback:function(e){t.$set(t.details,"displayprotocol",e)},expression:"details.displayprotocol"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[t.appData.checkPermission("/apps","w")?a("v-btn",{staticClass:"mr-4",attrs:{color:"primary",loading:t.saveLoading},on:{click:t.saveDetails}},[t._v(" Save ")]):t._e()],1)],1)],1)],1)],1)],1),a("v-tab-item",{key:"profiles"},[a("v-card",{staticClass:"ma-0",attrs:{flat:"",color:"bg"}},[a("v-card-title",[t._v(t._s(t.$t("Profiles")))]),a("v-data-table",{staticClass:"elevation-1 ma-4 bg",attrs:{headers:t.headers,items:t.rows,loading:t.loading},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"bg"}},[t.appData.checkPermission("/apps","i")?a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:t.addProfile}},[t._v(" "+t._s(t.$t("Assign Profiles to App"))+" ")]):t._e()],1)]},proxy:!0},{key:"item.actions",fn:function(e){var n=e.item;return[t.appData.checkPermission("/apps","i")?a("v-icon",{staticClass:"mx-2",attrs:{small:""},on:{click:function(e){return t.deleteProfile(n)}}},[t._v(" mdi-delete ")]):t._e()]}}],null,!0)}),a("v-dialog",{attrs:{"max-width":"800px","overlay-color":"bg"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(" "+t._s(t.$t("Add Profiles"))+" "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-data-table",{staticClass:"elevation-1 ma-4 bg",attrs:{headers:t.profilesHeaders,items:t.profilesRows,loading:t.profilesLoading,"server-items-length":t.totalItems,"items-per-page":5,options:t.options,search:t.search,"show-select":"","multi-sort":""},on:{"update:options":[function(e){t.options=e},t.updateOptions],"click:row":t.rowClick},scopedSlots:t._u([{key:"header.data-table-select",fn:function(){return[t._v("   ")]},proxy:!0},{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"bg"}},[a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",disabled:t.addSelectedDisabled,loading:t.addSelectedLoading},on:{click:t.addSelected}},[t._v(" "+t._s(t.$t("Assign Selected Profiles"))+" ")])],1)]},proxy:!0}],null,!0),model:{value:t.profilesSelected,callback:function(e){t.profilesSelected=e},expression:"profilesSelected"}})],1)],1)],1)],1),a("v-tab-item",{key:"groups"},[a("v-card",{staticClass:"ma-0",attrs:{flat:"",color:"bg"}},[a("v-card-title",[t._v(t._s(t.$t("Groups")))]),a("v-data-table",{staticClass:"elevation-1 ma-4 bg",attrs:{headers:t.groupHeaders,items:t.groupRows,loading:t.groupLoading},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"bg"}},[t.appData.checkPermission("/apps","i")?a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:t.addGroup}},[t._v(" "+t._s(t.$t("Add Groups"))+" ")]):t._e()],1)]},proxy:!0},{key:"item.adDomain",fn:function(e){var n=e.item;return["All"==n.groupName?a("div",[t._v(t._s(t.$t("Automatic")))]):""==n.adDomain?a("div",[t._v(t._s(t.$t("Manual")))]):a("div",[t._v(t._s(t.$t("Active Directory")))])]}},{key:"item.actions",fn:function(e){var n=e.item;return[t.appData.checkPermission("/apps","i")?a("v-icon",{staticClass:"mx-2",attrs:{small:""},on:{click:function(e){return t.deleteGroup(n)}}},[t._v(" mdi-delete ")]):t._e()]}}],null,!0)}),a("v-dialog",{attrs:{"max-width":"800px","overlay-color":"bg"},model:{value:t.groupDialog,callback:function(e){t.groupDialog=e},expression:"groupDialog"}},[a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(" "+t._s(t.$t("Add Groups"))+" "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.groupSearch,callback:function(e){t.groupSearch=e},expression:"groupSearch"}})],1),a("v-data-table",{staticClass:"elevation-1 ma-4 bg",attrs:{headers:t.allGroupsHeaders,items:t.allGroupsRows,loading:t.allGroupsLoading,search:t.groupSearch},on:{"click:row":t.groupClick},scopedSlots:t._u([{key:"item.adDomain",fn:function(e){var n=e.item;return["All"==n.groupName?a("div",[t._v(t._s(t.$t("Automatic")))]):""==n.adDomain?a("div",[t._v(t._s(t.$t("Manual")))]):a("div",[t._v(t._s(t.$t("Active Directory")))])]}}],null,!0)})],1)],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px","overlay-color":"bg"},model:{value:t.dialogInstall,callback:function(e){t.dialogInstall=e},expression:"dialogInstall"}},[a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(t._s(t.$t("Add App")))]),a("v-card-subtitle",{staticClass:"mt-4"},[t._v(t._s(t.$t("Are you sure you want to add app to the selected profiles",{addItemLabel:t.addItemLabel})))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"warning"},on:{click:t.cancelInstall}},[t._v(t._s(t.$t("Cancel")))]),a("v-btn",{attrs:{color:"primary"},on:{click:t.installApp}},[t._v(t._s(t.$t("Install App")))]),a("v-btn",{attrs:{color:"secondary"},on:{click:t.addToAppstore}},[t._v(t._s(t.$t("Add to Appstore")))]),a("v-spacer")],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px","overlay-color":"bg"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(t._s(t.$t("Remove App")))]),a("v-card-subtitle",{staticClass:"mt-4"},[t._v(t._s(t.$t("Are you sure you want to remove app from",{name:t.deleteItemName})))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"warning"},on:{click:t.cancelUninstall}},[t._v(t._s(t.$t("Cancel")))]),a("v-btn",{attrs:{color:"primary"},on:{click:t.uninstallApp}},[t._v(t._s(t.$t("Uninstall App")))]),a("v-spacer")],1)],1)],1),a("v-snackbar",{attrs:{timeout:2e3},scopedSlots:t._u([{key:"action",fn:function(e){var n=e.attrs;return[a("v-btn",t._b({attrs:{color:"info",text:""},on:{click:function(e){t.snackbarSave=!1}}},"v-btn",n,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbarSave,callback:function(e){t.snackbarSave=e},expression:"snackbarSave"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},i=[],o=a(75200),r=(a(68309),a(92222),a(41539),a(82526),a(41817),a(69720),a(74916),a(64765),a(54747),a(38862),a(47941),a(13888)),s=a(23144),l=a(30381),c={name:"AppDetails",components:{},data:function(){return{details:{},totalNumOfUsers:0,tab:{},headers:[],rows:[],dialog:!1,profilesHeaders:[],profilesRows:[],profilesLoading:!0,search:"",profilesSelected:[],allSelected:{},addSelectedDisabled:!0,addSelectedLoading:!1,dialogInstall:!1,addItemLabel:"",groupHeaders:[],groupRows:[],groupLoading:!1,groupSearch:"",groupDialog:!1,allGroupsHeaders:[],allGroupsRows:[],allGroupsLoading:!1,allGroupSelected:{},totalItems:0,loading:!0,options:{},appData:r.Z,saveLoading:!1,snackbarSave:!1,snackbarText:"",moment:l,dialogDelete:!1,deleteProfileItem:{},deleteItemType:"",deleteItemName:""}},methods:{savePage:function(){s.Z.savePageData("".concat(c.name),this,["options","search"])},updateOptions:function(){console.log("updateOptions"),this.savePage(),this.refreshProfiles()},rowClick:function(){console.log("rowClick")},deleteProfile:function(t){this.deleteProfileItem=t,this.deleteItemType="profile",this.deleteItemName="".concat(t.firstname," ").concat(t.lastname),this.dialogDelete=!0},deleteGroup:function(t){this.deleteProfileItem=t,this.deleteItemType="group",this.deleteItemName=t.groupName,this.dialogDelete=!0},uninstallApp:function(){var t,e=this;console.log(this.deleteProfileItem),this.dialogDelete=!1,t="profile"==this.deleteItemType?{email:this.deleteProfileItem.email}:{groupName:this.deleteProfileItem.groupName,adDomain:this.deleteProfileItem.adDomain},s.Z.post({url:"api/apps/".concat(encodeURIComponent(this.$route.params.packageName),"/uninstall"),data:t}).then((function(t){console.log(t.data),1==t.data.status?(console.log("Success"),e.snackbarText=e.$t("App uninstaled"),e.snackbarSave=!0,e.loadDetails()):(console.log("status: ".concat(t.data.status)),e.snackbarText="Error",e.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){}))},cancelUninstall:function(){this.dialogDelete=!1},loadDetails:function(){var t=this;this.refreshTimeout&&(clearTimeout(this.refreshTimeout),this.refreshTimeout=null),s.Z.get({url:"api/apps/"+encodeURIComponent(this.$route.params.packageName)}).then((function(e){if(console.log(e.data),1==e.data.status){console.log("loadDetails: Success"),t.details=e.data.appDetails,t.totalNumOfUsers=e.data.totalNumOfUsers,t.rows=e.data.emails,t.renderingItems=[{text:t.$t("Auto-detect"),value:0},{text:t.$t("Server Rendering"),value:1},{text:t.$t("Client Rendering"),value:2}],t.headers=[{text:t.$t("Last Name"),value:"lastname"},{text:t.$t("First Name"),value:"firstname"},{text:t.$t("Email"),value:"email"},{text:"Actions",value:"actions",sortable:!1}],t.loading=!1,t.groupLoading=!1,t.groupRows=e.data.groups,t.groupHeaders=[{text:t.$t("Group Name"),value:"groupName"},{text:t.$t("Group Type"),value:"adDomain"},{text:"Actions",value:"actions",sortable:!1}];var a=[{text:t.$t("control-panel"),to:"/",disabled:!1},{text:t.$t("Apps"),to:"/Apps",disabled:!1},{text:t.details.appname,to:"/App/"+t.$route.params.packageName,disabled:!1}];t.$emit("updatePage",a),t.refreshTimeout=setTimeout(t.loadDetails,5e3)}else console.log("status: ".concat(e.data.status)),t.$router.push("/Login")})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},saveDetails:function(){var t=this;this.saveLoading=!0,s.Z.post({url:"api/apps/"+encodeURIComponent(this.$route.params.packageName),data:{appName:this.details.appname,appDescription:this.details.description,appSummary:this.details.summary,appCategories:this.details.categories,displayprotocol:""+this.details.displayprotocol}}).then((function(e){console.log(e.data),1==e.data.status?(console.log("Success"),t.saveLoading=!1,t.snackbarText="Saved",t.snackbarSave=!0,t.loadDetails()):(console.log("status: ".concat(e.data.status)),t.snackbarText="Error",t.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){return t.saveLoading=!1}))},addGroup:function(){this.groupDialog=!0,this.loadAllGroups()},loadAllGroups:function(){var t=this;this.allGroupsLoading=!0,this.allGroupsHeaders=[{text:this.$t("Group Name"),value:"groupName"},{text:this.$t("Group Type"),value:"adDomain"}],s.Z.get({url:"api/groups"}).then((function(e){console.log(e.data),1==e.data.status?(t.allGroupsRows=e.data.groups,t.allGroupsLoading=!1):console.log("status: ".concat(e.data.status))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},groupClick:function(t){console.log("groupClick: ".concat(t.groupName)),this.dialogInstall=!0,this.allSelected=[],this.allGroupSelected=t,this.addItemLabel=this.$t("selected group",{groupName:t.groupName})},addProfile:function(){this.dialog=!0,this.allSelected=[],this.addSelectedDisabled=!0},addSelected:function(){console.log("addSelected"),this.dialogInstall=!0,this.allGroupSelected={},this.addItemLabel=this.$t("selected profiles")},cancelInstall:function(){this.dialogInstall=!1},installApp:function(){this.dialogInstall=!1,this.installImp(0)},addToAppstore:function(){this.dialogInstall=!1,this.installImp(1)},installImp:function(t){for(var e,a=this,n=[],i=0,r=Object.entries(this.allSelected);i<r.length;i++){var l=(0,o.Z)(r[i],1),c=l[0];n.push(c)}console.log("Install Apps: "+n),e=0==n.length&&this.allGroupSelected.groupName?{groupName:[this.allGroupSelected.groupName],adDomain:[this.allGroupSelected.adDomain],privateApp:"0",appStoreOnly:t}:{email:n,privateApp:"1",appStoreOnly:t},this.addSelectedLoading=!0,s.Z.post({url:"api/apps/".concat(encodeURIComponent(this.$route.params.packageName),"/install"),data:e}).then((function(t){console.log(t.data),1==t.data.status||2==t.data.status?(a.addSelectedLoading=!1,a.snackbarText=a.$t("Added"),a.snackbarSave=!0,a.loadDetails(),a.dialog=!1,a.groupDialog=!1):(console.log("status: ".concat(t.data.status)),a.addSelectedLoading=!1,a.snackbarText=a.$t("Error"),a.snackbarSave=!0,a.dialog=!1,a.groupDialog=!1)})).catch((function(t){return console.log(t)})).finally((function(){return a.loading=!1}))},refreshProfiles:function(){var t=this;this.profilesLoading=!0;var e=this.options.itemsPerPage>0?this.options.itemsPerPage:1e4,a=(this.options.page-1)*e;s.Z.post({url:"api/profiles",data:{offset:a,limit:e,sortBy:this.options.sortBy,sortDesc:this.options.sortDesc,search:this.search}}).then((function(e){if(t.profilesLoading=!1,console.log(e.data),1==e.data.status){t.profilesRows=e.data.profiles,t.totalItems=e.data.totalItems;var a=[];t.profilesRows.forEach((function(e){t.allSelected[e.email]&&a.push(e)})),t.profilesSelected=a}else console.log("status: ".concat(e.data.status)),t.$router.push("/Login")})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))}},created:function(){var t=[{text:this.$t("control-panel"),to:"/",disabled:!1},{text:this.$t("Apps"),to:"/Apps",disabled:!1},{text:this.$route.params.packageName,to:"/App/"+this.$route.params.packageName,disabled:!1}];this.$emit("updatePage",t),this.profilesHeaders=[{text:this.$t("Last Name"),value:"lastName"},{text:this.$t("First Name"),value:"firstName"},{text:this.$t("Email"),value:"email"}],s.Z.loadPageData(c.name,this),this.loadDetails()},beforeDestroy:function(){console.log("lifecycle: beforeDestroy"),this.refreshTimeout&&(clearTimeout(this.refreshTimeout),this.refreshTimeout=null)},watch:{tab:function(t){console.log("tab: ".concat(t))},search:function(t){console.log("search: ".concat(t)),this.savePage(),(t.length>1||0==t.length)&&this.refreshProfiles()},profilesSelected:function(t){var e=this;console.log("profilesSelected: ".concat(JSON.stringify(t,null,2)));var a={};t.forEach((function(t){a[t.email]=t.email})),Object.assign(this.allSelected,a),this.profilesRows.forEach((function(t){a[t.email]||delete e.allSelected[t.email]})),Object.keys(this.allSelected).length>0?this.addSelectedDisabled=!1:this.addSelectedDisabled=!0}}},u=c,d=u,p=a(1001),h=a(43453),f=a.n(h),v=a(63150),m=a(32371),g=a(37118),b=a(82102),y=a(4228),w=a(76277),k=a(4497),x=a(46232),S=a(96428),$=a(97047),D=a(97620),_=a(5457),C=a(80413),T=a(62877),P=a(47032),O=a(13202),A=a(99762),Z=a(94227),I=a(71759),R=a(38697),L=a(51954),E=a(21208),V=a(55978),N=a(4367),j=(a(9653),a(73325)),F=(0,j.Z)(V.Z),B=F.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(t){return!isNaN(parseFloat(t))}},rows:{type:[Number,String],default:5,validator:function(t){return!isNaN(parseInt(t,10))}}},computed:{classes:function(){return(0,N.Z)({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},V.Z.options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{autoGrow:function(t){var e=this;this.$nextTick((function(){var a;t?e.calculateInputHeight():null==(a=e.$refs.input)||a.style.removeProperty("height")}))},lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var t=this;setTimeout((function(){t.autoGrow&&t.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var t=this.$refs.input;if(t){t.style.height="0";var e=t.scrollHeight,a=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(a,e)+"px"}},genInput:function(){var t=V.Z.options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput:function(t){V.Z.options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}}),M=a(36656),U=a(27921),z=(0,p.Z)(d,n,i,!1,null,null,null),H=z.exports;f()(z,{VBtn:v.Z,VCard:m.Z,VCardActions:g.h7,VCardSubtitle:g.Qq,VCardTitle:g.EB,VCol:b.Z,VContainer:y.Z,VDataTable:w.Z,VDialog:k.Z,VForm:x.Z,VIcon:S.Z,VImg:$.Z,VListItem:D.Z,VListItemAvatar:_.Z,VListItemContent:C.km,VListItemSubtitle:C.oZ,VListItemTitle:C.V9,VRow:T.Z,VSelect:P.Z,VSnackbar:O.Z,VSpacer:A.Z,VTab:Z.Z,VTabItem:I.Z,VTabs:R.Z,VTabsItems:L.Z,VTabsSlider:E.Z,VTextField:V.Z,VTextarea:B,VToolbar:M.Z,VToolbarTitle:U.qW})},91399:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return M}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(t._s(t.$t("Apps"))+" ")]),a("v-data-table",{staticClass:"elevation-1 ma-4 bg",attrs:{headers:t.headers,items:t.rows,search:t.searchApps,"items-per-page":20,loading:t.loading,options:t.options},on:{"update:options":[function(e){t.options=e},t.updateOptions],"click:row":t.rowClick},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"bg"}},[t.appData.checkPermission("/apps","w")?a("v-btn",{staticClass:"ma-2",attrs:{color:"primary",dark:""},on:{click:function(e){t.uploadDialog=!0}}},[t._v(" "+t._s(t.$t("App Upload"))+" ")]):t._e(),t.appData.isMobile()&&t.appData.checkPermission("/apps","w")?a("v-btn",{staticClass:"ma-2",attrs:{color:"primary",dark:""},on:{click:function(e){t.webappDialog=!0}}},[t._v(" "+t._s(t.$t("Generate Web App"))+" ")]):t._e(),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search"},model:{value:t.searchApps,callback:function(e){t.searchApps=e},expression:"searchApps"}})],1)]},proxy:!0},{key:"item.imageUrl",fn:function(t){var e=t.item;return[a("v-img",{attrs:{"max-height":"40","max-width":"40",src:e.imageUrl}})]}},{key:"item.actions",fn:function(e){var n=e.item;return[t.appData.checkPermission("/apps","w")?a("v-icon",{staticClass:"mx-2",attrs:{small:""},on:{click:function(e){return t.deleteApp(n,e)}}},[t._v(" mdi-delete ")]):t._e()]}}],null,!0)}),a("v-dialog",{attrs:{persistent:"","max-width":"290","overlay-color":"bg"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[t._v(" "+t._s(t.$t("Delete deleteAppName",{deleteAppName:t.deleteAppName}))+" ")]),a("v-card-text",[t._v(" "+t._s(t.$t("Are you sure you want to delete",{deleteAppName:t.deleteAppName}))+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"warning"},on:{click:function(e){t.dialog=!1}}},[t._v(" Cancel ")]),a("v-btn",{attrs:{color:"primary"},on:{click:t.deleteOK}},[t._v(" OK ")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"1000","overlay-color":"bg"},model:{value:t.uploadDialog,callback:function(e){t.uploadDialog=e},expression:"uploadDialog"}},[a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(" "+t._s(t.$t("Upload App"))+" ")]),a("v-container",{staticClass:"ma-4"},[a("v-form",{ref:"uploadForm"},[a("v-row",{staticClass:"mx-4"},[a("v-col",[a("v-select",{staticClass:"ma-4",attrs:{items:t.appTypes,label:t.$t("App Type")},model:{value:t.appType,callback:function(e){t.appType=e},expression:"appType"}})],1)],1),"deb"==t.appType?a("v-row",{staticClass:"mx-4"},[a("v-col",[a("v-autocomplete",{attrs:{clearable:"",items:t.aptPackages,loading:t.aptPackagesLoading,"search-input":t.search,rules:t.fileRules,"hide-no-data":"","hide-selected":"","item-text":"desc","item-value":"package",label:t.$t("APT Package Name"),placeholder:t.$t("Start typing to Search"),"prepend-icon":"mdi-database-search"},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e}},model:{value:t.aptPackage,callback:function(e){t.aptPackage=e},expression:"aptPackage"}})],1)],1):t._e(),a("v-row",{staticClass:"mx-4"},[a("v-col",[a("v-file-input",{attrs:{"show-size":"",accept:"apk"==t.appType?".apk":".deb",label:"apk"==t.appType?t.$t("APK File"):t.$t("DEB File"),rules:t.fileRules},on:{change:t.selectFile},model:{value:t.filename,callback:function(e){t.filename=e},expression:"filename"}})],1)],1),t.uploadAppDesc.appName&&""!=t.uploadAppDesc.appName?a("v-row",{staticClass:"mx-4"},[a("v-col",[a("v-text-field",{attrs:{label:t.$t("App Name"),readonly:""},model:{value:t.uploadAppDesc.appName,callback:function(e){t.$set(t.uploadAppDesc,"appName",e)},expression:"uploadAppDesc.appName"}})],1),a("v-col",[a("v-text-field",{attrs:{label:t.$t("Package Name"),readonly:""},model:{value:t.uploadAppDesc.packageName,callback:function(e){t.$set(t.uploadAppDesc,"packageName",e)},expression:"uploadAppDesc.packageName"}})],1)],1):t._e(),t.uploadAppDesc.appName&&""!=t.uploadAppDesc.appName?a("v-row",{staticClass:"mx-4"},[a("v-col",[a("v-text-field",{attrs:{label:t.$t("Version Name"),readonly:""},model:{value:t.uploadAppDesc.versionName,callback:function(e){t.$set(t.uploadAppDesc,"versionName",e)},expression:"uploadAppDesc.versionName"}})],1),a("v-col",[a("v-text-field",{attrs:{label:t.$t("Version Code"),readonly:""},model:{value:t.uploadAppDesc.versionCode,callback:function(e){t.$set(t.uploadAppDesc,"versionCode",e)},expression:"uploadAppDesc.versionCode"}})],1)],1):t._e(),a("v-row",{staticClass:"mx-4"},[a("v-col",[t.uploadAppDesc.uploadStatus&&""!=t.uploadAppDesc.uploadStatus?a("v-alert",{attrs:{type:t.uploadAppDesc.uploadAlertType,text:""}},[t._v(" "+t._s(t.uploadAppDesc.uploadStatus)+" "),t.uploadProgress>0?a("v-progress-linear",{model:{value:t.uploadProgress,callback:function(e){t.uploadProgress=e},expression:"uploadProgress"}}):t._e(),"success"==t.uploadAppDesc.uploadAlertType?a("v-btn",{staticClass:"ma-2",attrs:{color:"success"},on:{click:t.goToUploadedApp}},[t._v(" "+t._s(t.$t("Go to App"))+" ")]):t._e()],1):t._e()],1)],1)],1)],1),a("v-card-actions",{staticClass:"mx-4"},[a("v-spacer"),a("v-btn",{attrs:{color:"warning"},on:{click:function(e){t.uploadDialog=!1}}},[t._v(" "+t._s(t.$t("Cancel"))+" ")]),a("v-btn",{attrs:{color:"primary",loading:t.uploading,disabled:!t.uploadSelectedFile&&!t.aptPackage||t.uploading||!t.uploadValid},on:{click:t.startUpload}},[t._v(" "+t._s(t.$t("Upload"))+" "),a("v-icon",{attrs:{right:"",dark:""}},[t._v(" mdi-cloud-upload ")])],1)],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"1000","overlay-color":"bg"},model:{value:t.webappDialog,callback:function(e){t.webappDialog=e},expression:"webappDialog"}},[a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(" "+t._s(t.$t("Generate Web App"))+" ")]),a("v-container",{staticClass:"ma-4"},[a("v-row",{staticClass:"mx-4"},[a("v-col",[a("v-text-field",{attrs:{label:t.$t("URL"),placeholder:"https://youwebsite.com",rules:t.httpRules},model:{value:t.uploadAppDesc.appURL,callback:function(e){t.$set(t.uploadAppDesc,"appURL",e)},expression:"uploadAppDesc.appURL"}})],1)],1),a("v-row",{staticClass:"mx-4"},[a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:t.$t("App Name")},model:{value:t.uploadAppDesc.appName,callback:function(e){t.$set(t.uploadAppDesc,"appName",e)},expression:"uploadAppDesc.appName"}})],1),a("v-col",{attrs:{cols:"1"}},[a("v-img",{attrs:{height:"50",width:"50",src:t.iconURL}})],1),a("v-col",{attrs:{cols:"5"}},[a("v-file-input",{attrs:{"show-size":"",accept:".png",label:t.$t("App Icon")},on:{change:t.selectIcon}})],1)],1),a("v-row",{staticClass:"mx-4"},[a("v-col",[t.uploadAppDesc.uploadStatus&&""!=t.uploadAppDesc.uploadStatus?a("v-alert",{attrs:{type:t.uploadAppDesc.uploadAlertType,text:""}},[t._v(" "+t._s(t.uploadAppDesc.uploadStatus)+" "),t.uploadProgress>0?a("v-progress-linear",{model:{value:t.uploadProgress,callback:function(e){t.uploadProgress=e},expression:"uploadProgress"}}):t._e(),"success"==t.uploadAppDesc.uploadAlertType?a("v-btn",{staticClass:"ma-2",attrs:{color:"success"},on:{click:t.goToUploadedApp}},[t._v(" "+t._s(t.$t("Go to App"))+" ")]):t._e()],1):t._e()],1)],1)],1),a("v-card-actions",{staticClass:"mx-4"},[a("v-spacer"),a("v-btn",{attrs:{color:"warning"},on:{click:function(e){t.webappDialog=!1}}},[t._v(" "+t._s(t.$t("Cancel"))+" ")]),a("v-btn",{attrs:{color:"primary",loading:t.uploading,disabled:!t.uploadAppDesc.appURL||""==t.uploadAppDesc.appURL||!t.uploadAppDesc.appName||""==t.uploadAppDesc.appName||""==t.iconURL||t.uploading},on:{click:t.startWebapp}},[t._v(" "+t._s(t.$t("Generate App"))+" "),a("v-icon",{attrs:{right:"",dark:""}},[t._v(" mdi-cloud-upload ")])],1)],1)],1)],1),a("v-snackbar",{attrs:{timeout:2e3},scopedSlots:t._u([{key:"action",fn:function(e){var n=e.attrs;return[a("v-btn",t._b({attrs:{color:"info",text:""},on:{click:function(e){t.snackbarSave=!1}}},"v-btn",n,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbarSave,callback:function(e){t.snackbarSave=e},expression:"snackbarSave"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},i=[],o=(a(74916),a(77601),a(68309),a(41539),a(23123),a(33948),a(13888)),r=a(23144),s={name:"Apps",data:function(){return{headers:[],rows:[],searchApps:"",search:"",totalItems:0,loading:!0,options:{},dialog:!1,deleteObj:null,deleteAppName:"",snackbarSave:!1,snackbarText:"",filename:null,uploadDialog:!1,uploading:!1,uploadProgress:0,uploadFileName:"",uploadSelectedFile:null,uploadValid:!1,uploadAppDesc:{},webappDialog:!1,appTypes:[],appType:"apk",aptPackage:"",aptPackagesLoading:!1,aptPackages:[],fileRules:[],iconURL:"",httpRules:[function(t){return!!t||"URL is required"},function(t){return/[(http(s)?)://(www.)?a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/.test(t)||"URL must be valid"}],appData:o.Z}},methods:{savePage:function(){r.Z.savePageData("".concat(s.name),this,["options","searchApps"])},updateOptions:function(){this.savePage()},rowClick:function(t){console.log("rowClick: ".concat(t.packageName)),this.$router.push("/App/"+t.packageName)},deleteApp:function(t,e){e.stopPropagation(),this.deleteObj=t,this.deleteAppName=t.appName,this.dialog=!0},deleteOK:function(){var t=this;console.log("deleteApp: ".concat(this.deleteAppName)),this.dialog=!1,r.Z["delete"]({url:"api/apps/"+encodeURIComponent(this.deleteObj.packageName)}).then((function(e){console.log(e.data),1==e.data.status?(t.snackbarText=t.$t("Deleted"),t.snackbarSave=!0,t.refresh()):(console.log("status: ".concat(e.data.status)),t.snackbarText=t.$t("Error")+" - "+e.data.message,t.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},selectFile:function(t){console.log("selectFile: "+t),this.uploadSelectedFile=t},startUpload:function(){var t=this;this.uploading=!0;var e=new FormData;e.append("file",this.uploadSelectedFile),this.uploadAppDesc.uploadAlertType="info",this.uploadAppDesc.uploadStatus=this.$t("Uploading file..");var a=this;r.Z.post({url:"api/upload",data:e,headers:{"Content-Type":"multipart/form-data"},timeout:24e4,onUploadProgress:function(t){var e=Math.round(100*t.loaded/t.total);console.log(e),a.uploadProgress=Math.round(e/2)}}).then((function(e){console.log(e.data),t.uploadSelectedFile=null,1==e.data.status?(console.log("status: ".concat(e.data.status)),t.uploadFileName=e.data.uploadFileName,t.uploadAPK()):(console.log("status: ".concat(e.data.status)),t.uploading=!1,t.uploadAppDesc.uploadStatus=t.$t("Error uploading apk")+" - "+e.data.message,t.uploadAppDesc.uploadAlertType="error")})).catch((function(e){t.uploadSelectedFile=null,t.uploading=!1,t.uploadAppDesc.uploadStatus=t.$t("Error uploading apk")+" - "+e,t.uploadAppDesc.uploadAlertType="error"})).finally((function(){return t.loading=!1}))},uploadAPK:function(){var t=this;console.log("uploadAPK: "+this.uploadFileName),r.Z.put({url:"api/apps",data:{fileName:this.uploadFileName,packageName:this.aptPackage,appType:this.appType}}).then((function(e){console.log(e.data),1==e.data.status?(console.log("status: ".concat(e.data.status)),t.uploadAppDesc=e.data,t.uploadAppDesc.uploadAlertType="info",t.uploadAppDesc.uploadStatus=t.$t("Installing apk.."),t.uploadProgress=60,t.checkUploadStatus()):(console.log("status: ".concat(e.data.status)),t.uploadAppDesc.uploadStatus=t.$t("Error installing apk")+" - "+e.data.message,t.uploadAppDesc.uploadAlertType="error",t.uploading=!1)})).catch((function(e){t.uploadAppDesc.uploadStatus=t.$t("Error installing apk")+" - "+e,t.uploadAppDesc.uploadAlertType="error",t.uploading=!1})).finally((function(){return t.loading=!1}))},goToUploadedApp:function(){this.$router.push("/App/"+this.uploadAppDesc.packageName)},checkUploadStatus:function(){var t=this,e=this;r.Z.get({url:"api/apps/"+encodeURIComponent(this.uploadAppDesc.packageName)+"/checkUploadStatus"}).then((function(a){if(console.log(a.data),1==a.data.status){console.log("status: ".concat(a.data.status));var n=a.data.apkStatus;n>0?(1==n?(t.uploadAppDesc.uploadStatus=t.$t("Processing apk.."),t.uploadProgress=70):(t.uploadAppDesc.uploadStatus=t.$t("Installing app.."),t.uploadProgress=90),t.uploadAppDesc.uploadAlertType="info",setTimeout((function(){e.checkUploadStatus()}),1e3)):(0==n?(t.uploadAppDesc.uploadStatus=t.$t("The apk was installed successfully"),t.uploadAppDesc.uploadAlertType="success",t.refresh()):(t.uploadAppDesc.uploadStatus=t.$t("Error installing apk"),t.uploadAppDesc.uploadAlertType="error"),t.uploadProgress=0,t.uploading=!1)}else console.log("status: ".concat(a.data.status)),t.uploadAppDesc.uploadStatus=t.$t("Error installing apk")+" - "+a.data.status,t.uploadAppDesc.uploadAlertType="error",t.uploading=!1})).catch((function(e){t.uploadAppDesc.uploadStatus=t.$t("Error installing apk")+" - "+e,t.uploadAppDesc.uploadAlertType="error",t.uploading=!1})).finally((function(){return t.loading=!1}))},refresh:function(){var t=this;r.Z.get({url:"api/apps"}).then((function(e){console.log(e.data),1==e.data.status?t.rows=e.data.apps:(console.log("status: ".concat(e.data.status)),t.rows=[])})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},selectIcon:function(t){console.log(t);var e=this;if(t){var a=new FileReader;a.onload=function(){var t=a.result;console.log("dataURL: "+t),e.iconURL=t},a.readAsDataURL(t)}else e.iconURL=""},startWebapp:function(){var t=this;this.uploading=!0,console.log("startWebapp"),this.uploadAppDesc.uploadAlertType="info",this.uploadAppDesc.uploadStatus=this.$t("Sending web app information.."),this.uploadProgress=1;var e=this.iconURL.split(","),a=e[1];console.log("arr.length: "+e.length),r.Z.put({url:"api/apps/webapp",data:{appURL:this.uploadAppDesc.appURL,appName:this.uploadAppDesc.appName,ssoURL:this.uploadAppDesc.appURL,OrientationMode:"0",icLauncher:a}}).then((function(e){console.log(e.data),1==e.data.status?(console.log("status: ".concat(e.data.status)),t.uploadAppDesc.packageName=e.data.apkname,t.uploadAppDesc.uploadAlertType="info",t.uploadAppDesc.uploadStatus=t.$t("Building web app.."),t.uploadProgress=10,t.checkWebappStatus()):(console.log("status: ".concat(e.data.status)),t.uploadAppDesc.uploadStatus=t.$t("Error building web app")+" - "+e.data.message,t.uploadAppDesc.uploadAlertType="error",t.uploading=!1)})).catch((function(e){t.uploadAppDesc.uploadStatus=t.$t("Error building web app")+" - "+e,t.uploadAppDesc.uploadAlertType="error",t.uploading=!1})).finally((function(){return t.loading=!1}))},checkWebappStatus:function(){var t=this,e=this;r.Z.get({url:"api/apps/webapp?appURL="+encodeURIComponent(this.uploadAppDesc.appURL)}).then((function(a){if(console.log(a.data),1==a.data.status){console.log("status: ".concat(a.data.status)),t.uploadAppDesc.uploadAlertType="info";var n=!0,i=!1;1==a.data.URLLauncherStatus?(n=!1,i=!0,t.uploadAppDesc.uploadStatus=t.$t("Web app was genereated successfully")):2==a.data.URLLauncherStatus?(n=!1,t.uploadAppDesc.uploadStatus=t.$t("Building web app..."),t.uploadProgress=20):4==a.data.URLLauncherStatus?(n=!1,t.uploadAppDesc.uploadStatus=t.$t("Installing web app..."),t.uploadProgress=60):3==a.data.URLLauncherStatus?(n=!0,i=!0,t.uploadAppDesc.uploadStatus=t.$t("Build error")):5==a.data.URLLauncherStatus?(n=!0,i=!0,t.uploadAppDesc.uploadStatus=t.$t("Install error")):(n=!0,i=!0,t.uploadAppDesc.uploadStatus=t.$t("Unknown status: "+t.uploadAppDesc.uploadStatus)),n?(t.uploadAppDesc.uploadAlertType="error",t.uploadProgress=0):i?(t.uploadAppDesc.uploadAlertType="success",t.uploadProgress=0):t.uploadAppDesc.uploadAlertType="info",t.$forceUpdate(),i?t.uploading=!1:setTimeout((function(){e.checkWebappStatus()}),1e3)}else console.log("status: ".concat(a.data.status)),t.uploadAppDesc.uploadStatus=t.$t("Error building web app")+" - "+a.data.message,t.uploadAppDesc.uploadAlertType="error",t.uploading=!1})).catch((function(e){t.uploadAppDesc.uploadStatus=t.$t("Error building web app")+" - "+e,t.uploadAppDesc.uploadAlertType="error",t.uploading=!1})).finally((function(){return t.loading=!1}))}},watch:{aptPackage:function(t){console.log("aptPackage: ".concat(t)),this.uploadValid=this.$refs.uploadForm.validate()},uploadSelectedFile:function(){this.uploadValid=this.$refs.uploadForm.validate()},searchApps:function(){this.savePage()},appType:function(){this.aptPackage="",this.filename=null},search:function(){var t=this;this.aptPackages.length>0||this.aptPackagesLoading||(this.aptPackagesLoading=!0,r.Z.get({url:"api/apps/debs"}).then((function(e){if(console.log(e.data),t.aptPackagesLoading=!1,1==e.data.status){console.log("aptlist OK!"),t.aptPackages=[];for(var a=e.data.aptList.split("\n"),n=1;n<a.length;n++){var i=a[n].split("/");if(i.length>=2){var o={package:i[0],desc:a[n]};t.aptPackages.push(o)}}}})).catch((function(e){console.error(e),t.aptPackagesLoading=!1})),fetch("https://api.publicapis.org/entries").then((function(t){return t.json()})).then((function(e){var a=e.count,n=e.entries;t.count=a,t.entries=n})).catch((function(t){console.log(t)})).finally((function(){return t.isLoading=!1})))}},created:function(){var t=this,e=[{text:this.$t("control-panel"),to:"/",disabled:!1},{text:this.$t("Apps"),to:"/Apps",disabled:!1}];this.$emit("updatePage",e),this.headers=[{text:this.$t("Icon"),value:"imageUrl",sortable:!1},{text:this.$t("Name"),value:"appName"},{text:this.$t("Package"),value:"packageName"},{text:"Actions",value:"actions",sortable:!1}],this.appTypes=[],o.Z.isMobile()&&this.appTypes.push({text:this.$t("Android (APK)"),value:"apk"}),o.Z.isDesktop()&&this.appTypes.push({text:this.$t("Linux (DEB)"),value:"deb"}),this.appTypes.length>0&&(this.appType=this.appTypes[0].value),this.fileRules=[function(){return!t.uploadSelectedFile||!t.aptPackage||t.$t("Please select either APT package or DEB file")}],r.Z.loadPageData(s.name,this),this.refresh()}},l=s,c=l,u=a(1001),d=a(43453),p=a.n(d),h=a(51234),f=a(49511),v=a(63150),m=a(32371),g=a(37118),b=a(82102),y=a(4228),w=a(76277),k=a(4497),x=a(68932),S=a(4367),$=a(9726),D=(a(9653),a(26699),a(21249),a(92222),a(40561),a(54747),a(47042),a(55978)),_=D.Z,C=a(95424),T=a(4589),P=a(71824),O=a(76290),A=_.extend({name:"v-file-input",model:{prop:"value",event:"change"},props:{chips:Boolean,clearable:{type:Boolean,default:!0},counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,placeholder:String,prependIcon:{type:String,default:"$file"},readonly:{type:Boolean,default:!1},showSize:{type:[Boolean,Number],default:!1,validator:function(t){return"boolean"===typeof t||[1e3,1024].includes(t)}},smallChips:Boolean,truncateLength:{type:[Number,String],default:22},type:{type:String,default:"file"},value:{default:void 0,validator:function(t){return(0,T.TI)(t).every((function(t){return null!=t&&"object"===(0,$.Z)(t)}))}}},computed:{classes:function(){return(0,S.Z)((0,S.Z)({},_.options.computed.classes.call(this)),{},{"v-file-input":!0})},computedCounterValue:function(){var t=this.multiple&&this.lazyValue?this.lazyValue.length:this.lazyValue instanceof File?1:0;if(!this.showSize)return this.$vuetify.lang.t(this.counterString,t);var e=this.internalArrayValue.reduce((function(t,e){var a=e.size,n=void 0===a?0:a;return t+n}),0);return this.$vuetify.lang.t(this.counterSizeString,t,(0,T.XE)(e,1024===this.base))},internalArrayValue:function(){return(0,T.TI)(this.internalValue)},internalValue:{get:function(){return this.lazyValue},set:function(t){this.lazyValue=t,this.$emit("change",this.lazyValue)}},isDirty:function(){return this.internalArrayValue.length>0},isLabelActive:function(){return this.isDirty},text:function(){var t=this;return this.isDirty||!this.persistentPlaceholder&&!this.isFocused&&this.hasLabel?this.internalArrayValue.map((function(e){var a=e.name,n=void 0===a?"":a,i=e.size,o=void 0===i?0:i,r=t.truncateText(n);return t.showSize?"".concat(r," (").concat((0,T.XE)(o,1024===t.base),")"):r})):[this.placeholder]},base:function(){return"boolean"!==typeof this.showSize?this.showSize:void 0},hasChips:function(){return this.chips||this.smallChips}},watch:{readonly:{handler:function(t){!0===t&&(0,P.N6)("readonly is not supported on <v-file-input>",this)},immediate:!0},value:function(t){var e=this.multiple?t:t?[t]:[];(0,T.vZ)(e,this.$refs.input.files)||(this.$refs.input.value="")}},methods:{clearableCallback:function(){this.internalValue=this.multiple?[]:null,this.$refs.input.value=""},genChips:function(){var t=this;return this.isDirty?this.text.map((function(e,a){return t.$createElement(C.Z,{props:{small:t.smallChips},on:{"click:close":function(){var e=t.internalValue;e.splice(a,1),t.internalValue=e}}},[e])})):[]},genControl:function(){var t=_.options.methods.genControl.call(this);return this.hideInput&&(t.data.style=(0,O.y0)(t.data.style,{display:"none"})),t},genInput:function(){var t=_.options.methods.genInput.call(this);return t.data.attrs.multiple=this.multiple,delete t.data.domProps.value,delete t.data.on.input,t.data.on.change=this.onInput,[this.genSelections(),t]},genPrependSlot:function(){var t=this;if(!this.prependIcon)return null;var e=this.genIcon("prepend",(function(){t.$refs.input.click()}));return this.genSlot("prepend","outer",[e])},genSelectionText:function(){var t=this.text.length;return t<2?this.text:this.showSize&&!this.counter?[this.computedCounterValue]:[this.$vuetify.lang.t(this.counterString,t)]},genSelections:function(){var t=this,e=[];return this.isDirty&&this.$scopedSlots.selection?this.internalArrayValue.forEach((function(a,n){t.$scopedSlots.selection&&e.push(t.$scopedSlots.selection({text:t.text[n],file:a,index:n}))})):e.push(this.hasChips&&this.isDirty?this.genChips():this.genSelectionText()),this.$createElement("div",{staticClass:"v-file-input__text",class:{"v-file-input__text--placeholder":this.placeholder&&!this.isDirty,"v-file-input__text--chips":this.hasChips&&!this.$scopedSlots.selection}},e)},genTextFieldSlot:function(){var t=this,e=_.options.methods.genTextFieldSlot.call(this);return e.data.on=(0,S.Z)((0,S.Z)({},e.data.on||{}),{},{click:function(){return t.$refs.input.click()}}),e},onInput:function(t){var e=(0,x.Z)(t.target.files||[]);this.internalValue=this.multiple?e:e[0],this.initialValue=this.internalValue},onKeyDown:function(t){this.$emit("keydown",t)},truncateText:function(t){if(t.length<Number(this.truncateLength))return t;var e=Math.floor((Number(this.truncateLength)-1)/2);return"".concat(t.slice(0,e),"…").concat(t.slice(t.length-e))}}}),Z=a(46232),I=a(96428),R=a(97047),L=a(57003),E=a(62877),V=a(47032),N=a(13202),j=a(99762),F=a(36656),B=(0,u.Z)(c,n,i,!1,null,null,null),M=B.exports;p()(B,{VAlert:h.Z,VAutocomplete:f.Z,VBtn:v.Z,VCard:m.Z,VCardActions:g.h7,VCardText:g.ZB,VCardTitle:g.EB,VCol:b.Z,VContainer:y.Z,VDataTable:w.Z,VDialog:k.Z,VFileInput:A,VForm:Z.Z,VIcon:I.Z,VImg:R.Z,VProgressLinear:L.Z,VRow:E.Z,VSelect:V.Z,VSnackbar:N.Z,VSpacer:j.Z,VTextField:D.Z,VToolbar:F.Z})},13590:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return I}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(" "+t._s(t.$t("Exchange Setup"))+" ")]),a("v-form",[a("v-container",[a("v-row",[a("v-col",[a("v-switch",{attrs:{label:t.$t("Set exchange information for all users")},model:{value:t.emailStatus,callback:function(e){t.emailStatus=e},expression:"emailStatus"}})],1)],1),a("v-row",[a("v-col",[a("v-text-field",{attrs:{label:t.$t("Server"),disabled:!t.emailStatus},model:{value:t.serverUrl,callback:function(e){t.serverUrl=e},expression:"serverUrl"}})],1)],1),a("v-row",[a("v-col",[a("v-text-field",{attrs:{label:t.$t("Port"),disabled:!t.emailStatus},model:{value:t.port,callback:function(e){t.port=e},expression:"port"}})],1),a("v-col",[a("v-switch",{attrs:{label:t.$t("Secure SSL Only"),disabled:!t.emailStatus},model:{value:t.sslType,callback:function(e){t.sslType=e},expression:"sslType"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-btn",{staticClass:"mr-4",attrs:{color:"primary",loading:t.loading},on:{click:t.saveDetails}},[t._v(" Save ")])],1)],1)],1)],1),a("v-snackbar",{attrs:{timeout:2e3},scopedSlots:t._u([{key:"action",fn:function(e){var n=e.attrs;return[a("v-btn",t._b({attrs:{color:"info",text:""},on:{click:function(e){t.snackbarSave=!1}}},"v-btn",n,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbarSave,callback:function(e){t.snackbarSave=e},expression:"snackbarSave"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},i=[],o=(a(41539),a(23157),a(78783),a(33948),a(60285),a(41637),a(13888)),r=a(23144),s={name:"EmailSetup",data:function(){return{port:"443",serverUrl:"",sslType:!1,emailStatus:0,loading:!0,options:{},snackbarSave:!1,snackbarText:"",appData:o.Z}},methods:{refresh:function(){var t=this;r.Z.get({url:"api/email"}).then((function(e){if(console.log(e.data),1==e.data.status){if(console.log("status: ".concat(e.data.status)),t.serverUrl=e.data.serverUrl,t.serverUrl.startsWith("https://")){var a=new URL(t.serverUrl);t.serverUrl=a.hostname}t.sslType="1"==e.data.sslType,t.port=e.data.port,t.emailStatus=!0}else 0==e.data.status?(t.serverUrl="",t.emailStatus=!1):(console.log("status: ".concat(e.data.status)),t.$router.push("/Login"))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},saveDetails:function(){var t=this;this.emailStatus?r.Z.post({url:"api/email",data:{serverUrl:this.serverUrl,port:this.port,sslType:this.sslType?"1":"0"}}).then((function(e){console.log(e.data),1==e.data.status?(console.log("status: ".concat(e.data.status)),t.snackbarSave=!0,t.snackbarText=t.$t("Saved")):(console.log("status: ".concat(e.data.status)),t.snackbarSave=!0,t.snackbarText=t.$t("Error"))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1})):r.Z["delete"]({url:"api/email"}).then((function(e){console.log(e.data),1==e.data.status?(console.log("status: ".concat(e.data.status)),t.snackbarSave=!0,t.snackbarText=t.$t("Saved")):(console.log("status: ".concat(e.data.status)),t.snackbarSave=!0,t.snackbarText=t.$t("Error"))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))}},created:function(){var t=[{text:this.$t("control-panel"),to:"/",disabled:!1},{text:this.$t("Exchange Setup"),to:"/EmailSetup",disabled:!1}];this.$emit("updatePage",t),this.refresh()}},l=s,c=l,u=a(1001),d=a(43453),p=a.n(d),h=a(63150),f=a(32371),v=a(37118),m=a(82102),g=a(4228),b=a(46232),y=a(62877),w=a(13202),k=a(73274),x=a(4367),S=(a(84944),a(33792),a(2245),a(7764)),$=a(58230),D=a(95500),_=a(85827),C=a(90624),T=a(4589),P=["title"],O=S.Z.extend({name:"v-switch",directives:{Touch:D.Z},props:{inset:Boolean,loading:{type:[Boolean,String],default:!1},flat:{type:Boolean,default:!1}},computed:{classes:function(){return(0,x.Z)((0,x.Z)({},$.Z.options.computed.classes.call(this)),{},{"v-input--selection-controls v-input--switch":!0,"v-input--switch--flat":this.flat,"v-input--switch--inset":this.inset})},attrs:function(){return{"aria-checked":String(this.isActive),"aria-disabled":String(this.isDisabled),role:"switch"}},validationState:function(){return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0},switchData:function(){return this.setTextColor(this.loading?void 0:this.validationState,{class:this.themeClasses})}},methods:{genDefaultSlot:function(){return[this.genSwitch(),this.genLabel()]},genSwitch:function(){var t=this.attrs$,e=(t.title,(0,k.Z)(t,P));return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",(0,x.Z)((0,x.Z)({},this.attrs),e)),this.genRipple(this.setTextColor(this.validationState,{directives:[{name:"touch",value:{left:this.onSwipeLeft,right:this.onSwipeRight}}]})),this.$createElement("div",(0,x.Z)({staticClass:"v-input--switch__track"},this.switchData)),this.$createElement("div",(0,x.Z)({staticClass:"v-input--switch__thumb"},this.switchData),[this.genProgress()])])},genProgress:function(){return this.$createElement(_.b0,{},[!1===this.loading?null:this.$slots.progress||this.$createElement(C.Z,{props:{color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,size:16,width:2,indeterminate:!0}})])},onSwipeLeft:function(){this.isActive&&this.onChange()},onSwipeRight:function(){this.isActive||this.onChange()},onKeydown:function(t){(t.keyCode===T.Do.left&&this.isActive||t.keyCode===T.Do.right&&!this.isActive)&&this.onChange()}}}),A=a(55978),Z=(0,u.Z)(c,n,i,!1,null,null,null),I=Z.exports;p()(Z,{VBtn:h.Z,VCard:f.Z,VCardTitle:v.EB,VCol:m.Z,VContainer:g.Z,VForm:b.Z,VRow:y.Z,VSnackbar:w.Z,VSwitch:O,VTextField:A.Z})},17134:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return j}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:"bg"}},[a("v-toolbar",{attrs:{color:"secondary",dark:"",flat:""},scopedSlots:t._u([{key:"extension",fn:function(){return[a("v-tabs",{attrs:{"align-with-title":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tabs-slider",{attrs:{color:"primary"}}),a("v-tab",{key:"details"},[t._v(" "+t._s(t.$t("Details"))+" ")]),a("v-tab",{key:"rules"},[t._v(" "+t._s(t.$t("Rules"))+" ")]),a("v-tab",{key:"profiles"},[t._v(" "+t._s(t.$t("Profiles"))+" ")]),a("v-tab",{key:"groups"},[t._v(" "+t._s(t.$t("Groups"))+" ")])],1)]},proxy:!0}])},[a("v-toolbar-title",[t._v(t._s(t.firewall_name))]),a("v-spacer")],1),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",{key:"details"},[a("v-card",{staticClass:"ma-0",attrs:{flat:"",color:"bg"}},[a("v-form",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("Firewall Name")},model:{value:t.firewall_name,callback:function(e){t.firewall_name=e},expression:"firewall_name"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-btn",{staticClass:"mr-4",attrs:{color:"primary",loading:t.saveLoading},on:{click:t.saveDetails}},[t._v(" Save ")])],1)],1)],1)],1)],1)],1),a("v-tab-item",{key:"rules"},[a("v-card",{staticClass:"ma-0",attrs:{flat:"",color:"bg"}},[a("v-card-title",[t._v(t._s(t.$t("Rules")))]),a("v-card-text",[t._v(" "+t._s(t.$t("Firewall rules control the kind of outbound traffic that is allowed from a remote session. All inbound traffic is not allowed."))+" ")]),a("v-card-title",[t._v(t._s(t.$t("Outbound Rules")))]),a("v-card-text",[t._v(" "+t._s(t.$t("Outbound traffic will only be allowed to the specified addresses and ports. All other traffic will be blocked."))+" ")]),a("v-data-table",{staticClass:"elevation-1 ma-4 bg",attrs:{headers:t.rulesHeaders,items:t.rules,loading:t.loading},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"bg"}},[a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(e){t.editRuleItem=null,t.addRuleDialog=!0}}},[t._v(" "+t._s(t.$t("Add Outbound Rule"))+" ")])],1)]},proxy:!0},{key:"item.dport",fn:function(e){var n=e.item;return["0"==n.dport?a("div",[t._v(t._s(t.$t("All")))]):a("div",[t._v(t._s(n.dport))])]}},{key:"item.actions",fn:function(e){var n=e.item;return[a("v-icon",{staticClass:"mx-2",attrs:{small:""},on:{click:function(e){return t.editRule(n)}}},[t._v(" mdi-pencil ")]),a("v-icon",{staticClass:"mx-2",attrs:{small:""},on:{click:function(e){return t.deleteRule(n)}}},[t._v(" mdi-delete ")])]}}],null,!0)}),a("v-dialog",{attrs:{"max-width":"800px","overlay-color":"bg"},model:{value:t.addRuleDialog,callback:function(e){t.addRuleDialog=e},expression:"addRuleDialog"}},[a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(" "+t._s(t.$t("Add Outbound Rule"))+" ")]),a("v-form",{ref:"ruleForm",model:{value:t.addRuleForm,callback:function(e){t.addRuleForm=e},expression:"addRuleForm"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"24",sm:"12",md:"6"}},[a("v-text-field",{attrs:{label:t.$t("Destination (IP Address or CIDR)"),rules:t.ipRules},model:{value:t.destination,callback:function(e){t.destination=e},expression:"destination"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-select",{attrs:{items:t.protItems,label:t.$t("Protocol"),rules:t.requiredRules},model:{value:t.prot,callback:function(e){t.prot=e},expression:"prot"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-combobox",{staticClass:"bg",attrs:{"background-color":"bg",label:t.$t("Port"),items:t.dportItems,rules:t.dportRules},model:{value:t.dport,callback:function(e){t.dport=e},expression:"dport"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:t.$t("Description")},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-btn",{staticClass:"mr-4",attrs:{color:"primary"},on:{click:t.addRule}},[t._v(" Save ")])],1)],1)],1)],1)],1)],1)],1)],1),a("v-tab-item",{key:"profiles"},[a("v-card",{staticClass:"ma-0",attrs:{flat:"",color:"bg"}},[a("v-card-title",[t._v(t._s(t.$t("Profiles")))]),a("v-data-table",{staticClass:"elevation-1 ma-4 bg",attrs:{headers:t.headers,items:t.rows,loading:t.loading},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"bg"}},[a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:t.addProfile}},[t._v(" "+t._s(t.$t("Assign Firewall to Profiles"))+" ")])],1)]},proxy:!0},{key:"item.actions",fn:function(e){var n=e.item;return[a("v-icon",{staticClass:"mx-2",attrs:{small:""},on:{click:function(e){return t.deleteProfile(n)}}},[t._v(" mdi-delete ")])]}}],null,!0)}),a("v-dialog",{attrs:{"max-width":"800px","overlay-color":"bg"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(" "+t._s(t.$t("Add Profiles"))+" "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-data-table",{staticClass:"elevation-1 ma-4 bg",attrs:{headers:t.profilesHeaders,items:t.profilesRows,loading:t.profilesLoading,"server-items-length":t.totalItems,"items-per-page":5,options:t.options,search:t.search,"show-select":"","multi-sort":""},on:{"update:options":[function(e){t.options=e},t.updateOptions],"click:row":t.rowClick},scopedSlots:t._u([{key:"header.data-table-select",fn:function(){return[t._v("   ")]},proxy:!0},{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"bg"}},[a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",disabled:t.addSelectedDisabled,loading:t.addSelectedLoading},on:{click:t.addSelected}},[t._v(" "+t._s(t.$t("Assign Selected Profiles"))+" ")])],1)]},proxy:!0}],null,!0),model:{value:t.profilesSelected,callback:function(e){t.profilesSelected=e},expression:"profilesSelected"}})],1)],1)],1)],1),a("v-tab-item",{key:"groups"},[a("v-card",{staticClass:"ma-0",attrs:{flat:"",color:"bg"}},[a("v-card-title",[t._v(t._s(t.$t("Groups")))]),a("v-data-table",{staticClass:"elevation-1 ma-4 bg",attrs:{headers:t.groupHeaders,items:t.groupRows,loading:t.groupLoading},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"bg"}},[a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:t.addGroup}},[t._v(" "+t._s(t.$t("Assign Firewall to Groups"))+" ")])],1)]},proxy:!0},{key:"item.addomain",fn:function(e){var n=e.item;return["All"==n.groupname?a("div",[t._v(t._s(t.$t("Automatic")))]):""==n.addomain?a("div",[t._v(t._s(t.$t("Manual")))]):a("div",[t._v(t._s(t.$t("Active Directory")))])]}},{key:"item.actions",fn:function(e){var n=e.item;return[a("v-icon",{staticClass:"mx-2",attrs:{small:""},on:{click:function(e){return t.deleteGroup(n)}}},[t._v(" mdi-delete ")])]}}],null,!0)}),a("v-dialog",{attrs:{"max-width":"800px","overlay-color":"bg"},model:{value:t.groupDialog,callback:function(e){t.groupDialog=e},expression:"groupDialog"}},[a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(" "+t._s(t.$t("Add Groups"))+" "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.groupSearch,callback:function(e){t.groupSearch=e},expression:"groupSearch"}})],1),a("v-data-table",{staticClass:"elevation-1 ma-4 bg",attrs:{headers:t.allGroupsHeaders,items:t.allGroupsRows,loading:t.allGroupsLoading,search:t.groupSearch},on:{"click:row":t.groupClick},scopedSlots:t._u([{key:"item.adDomain",fn:function(e){var n=e.item;return["All"==n.groupName?a("div",[t._v(t._s(t.$t("Automatic")))]):""==n.adDomain?a("div",[t._v(t._s(t.$t("Manual")))]):a("div",[t._v(t._s(t.$t("Active Directory")))])]}}],null,!0)})],1)],1)],1)],1)],1),a("v-snackbar",{attrs:{timeout:2e3},scopedSlots:t._u([{key:"action",fn:function(e){var n=e.attrs;return[a("v-btn",t._b({attrs:{color:"info",text:""},on:{click:function(e){t.snackbarSave=!1}}},"v-btn",n,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbarSave,callback:function(e){t.snackbarSave=e},expression:"snackbarSave"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},i=[],o=a(62032),r=a(16198),s=(a(35666),a(68309),a(38862),a(92222),a(74916),a(23123),a(73210),a(82526),a(41817),a(77601),a(41539),a(64765),a(54747),a(47941),a(13888)),l=a(23144),c=a(30381),u={name:"AppDetails",components:{},data:function(){return{firewall_id:0,firewall_name:"",details:{},totalNumOfUsers:0,tab:{},headers:[],rows:[],dialog:!1,profilesHeaders:[],profilesRows:[],profilesLoading:!0,search:"",profilesSelected:[],allSelected:{},addSelectedDisabled:!0,addSelectedLoading:!1,dialogInstall:!1,addItemLabel:"",groupHeaders:[],groupRows:[],groupLoading:!1,groupSearch:"",groupDialog:!1,allGroupsHeaders:[],allGroupsRows:[],allGroupsLoading:!1,allGroupSelected:{},totalItems:0,loading:!0,options:{},appData:s.Z,saveLoading:!1,snackbarSave:!1,snackbarText:"",moment:c,dialogDelete:!1,deleteProfileItem:{},deleteItemType:"",deleteItemName:"",rulesHeaders:[],rules:[],addRuleDialog:!1,dportItems:[],protItems:[],dport:"",destination:"",description:"",prot:"",requiredRules:[],ipRules:[],dportRules:[],addRuleForm:!0,editRuleItem:null}},methods:{savePage:function(){l.Z.savePageData("".concat(u.name),this,["options","search","tab"])},updateOptions:function(){console.log("updateOptions"),this.savePage(),this.refreshProfiles()},rowClick:function(){console.log("rowClick")},deleteProfile:function(){var t=(0,r.Z)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.Z["delete"]({url:"api/firewall/".concat(this.firewall_id,"/user"),data:{email:e.email}});case 3:this.saveLoading=!1,this.dialog=!1,this.snackbarText="Removed",this.snackbarSave=!0,this.loadDetails(),t.next=16;break;case 10:t.prev=10,t.t0=t["catch"](0),console.error("Error: ".concat(t.t0),t.t0),this.dialog=!1,this.snackbarText="Error",this.snackbarSave=!0;case 16:case"end":return t.stop()}}),t,this,[[0,10]])})));function e(e){return t.apply(this,arguments)}return e}(),deleteGroup:function(){var t=(0,r.Z)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("deleteGroup: ".concat(JSON.stringify(e,null,2))),t.prev=1,t.next=4,l.Z["delete"]({url:"api/firewall/".concat(this.firewall_id,"/group"),data:{groupname:e.groupname,addomain:e.addomain}});case 4:this.saveLoading=!1,this.dialog=!1,this.snackbarText="Removed",this.snackbarSave=!0,this.loadDetails(),t.next=17;break;case 11:t.prev=11,t.t0=t["catch"](1),console.error("Error: ".concat(t.t0),t.t0),this.dialog=!1,this.snackbarText="Error",this.snackbarSave=!0;case 17:case"end":return t.stop()}}),t,this,[[1,11]])})));function e(e){return t.apply(this,arguments)}return e}(),deleteRule:function(){var t=(0,r.Z)(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a=e.rule_id,t.next=4,l.Z["delete"]({url:"api/firewall/".concat(this.firewall_id,"/rule"),data:{rule_id:a}});case 4:this.saveLoading=!1,this.addRuleDialog=!1,this.snackbarText="Removed",this.snackbarSave=!0,this.loadDetails(),t.next=17;break;case 11:t.prev=11,t.t0=t["catch"](0),console.error("Error: ".concat(t.t0),t.t0),this.addRuleDialog=!1,this.snackbarText="Error",this.snackbarSave=!0;case 17:case"end":return t.stop()}}),t,this,[[0,11]])})));function e(e){return t.apply(this,arguments)}return e}(),editRule:function(){var t=(0,r.Z)(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a=e.rule_id,t.next=4,l.Z.get({url:"api/firewall/".concat(this.firewall_id,"/rule"),params:{rule_id:a}});case 4:this.editRuleItem=e,this.destination=e.destination,0==e.dport?this.dport="All":this.dport=e.dport,this.prot=e.prot,this.addRuleDialog=!0,t.next=17;break;case 11:t.prev=11,t.t0=t["catch"](0),console.error("Error: ".concat(t.t0),t.t0),this.addRuleDialog=!1,this.snackbarText="Error",this.snackbarSave=!0;case 17:case"end":return t.stop()}}),t,this,[[0,11]])})));function e(e){return t.apply(this,arguments)}return e}(),addRule:function(){var t=(0,r.Z)(regeneratorRuntime.mark((function t(){var e,a,n,i,o,r,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.$refs.ruleForm.validate(),this.addRuleForm){t.next=4;break}return console.log("addRuleForm: ".concat(this.addRuleForm,", v: ").concat(e)),t.abrupt("return");case 4:return t.prev=4,a=this.destination,n=this.prot,i=this.dport,"string"==typeof i&&(o=i.split("("),o.length>1&&(i=o[0].trim())),"All"==i&&(i="0"),r=this.description,s={destination:a,prot:n,dport:i,description:r},c=l.Z.put,this.editRuleItem&&this.editRuleItem.rule_id&&(c=l.Z.post,s.rule_id=this.editRuleItem.rule_id),t.next=16,c({url:"api/firewall/".concat(this.firewall_id,"/rule"),data:s});case 16:this.saveLoading=!1,this.addRuleDialog=!1,this.editRuleItem&&this.editRuleItem.rule_id?this.snackbarText="Updated":this.snackbarText="Added",this.snackbarSave=!0,this.loadDetails(),t.next=29;break;case 23:t.prev=23,t.t0=t["catch"](4),console.error("Error: ".concat(t.t0),t.t0),this.addRuleDialog=!1,this.snackbarText="Error",this.snackbarSave=!0;case 29:case"end":return t.stop()}}),t,this,[[4,23]])})));function e(){return t.apply(this,arguments)}return e}(),validatePort:function(t){if("All"==t)return!0;if("string"==typeof t){var e=t.split("(");e.length>1&&(t=e[0].trim())}return!(!t||isNaN(t)||parseInt(t)!=t)||(console.log('Validate port error. port: "'.concat(t,'"')),!1)},validateIP:function(t){if("string"!=typeof t)return!1;var e=t.split("/");if(e.length>2||e.length<1)return!1;if(2==e.length){var a=e[1];if(isNaN(a)||parseInt(a)!=a||a<0||a>32)return!1}var n=e[0];return/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(n)},loadDetails:function(){var t=this;this.refreshTimeout&&(clearTimeout(this.refreshTimeout),this.refreshTimeout=null),this.firewall_id=this.$route.params.firewall_id,l.Z.get({url:"api/firewall/"+encodeURIComponent(this.firewall_id)}).then((function(e){if(console.log(e.data),1==e.data.status){console.log("loadDetails: Success"),t.firewall_name=e.data.firewall_name,t.rules=e.data.rules,t.rows=e.data.users,t.rulesHeaders=[{text:t.$t("Destination"),value:"destination"},{text:t.$t("Protocol"),value:"prot"},{text:t.$t("Port"),value:"dport"},{text:t.$t("Description"),value:"description"},{text:"Actions",value:"actions",sortable:!1}],t.requiredRules=[function(e){return!!e||t.$t("Field is required")}],t.ipRules=[function(e){return t.validateIP(e)||t.$t("IP address is not valid")}],t.dportRules=[function(e){return t.validatePort(e)||t.$t("Port number is not valid")}],t.headers=[{text:t.$t("Last Name"),value:"user.lastname"},{text:t.$t("First Name"),value:"user.firstname"},{text:t.$t("Email"),value:"email"},{text:"Actions",value:"actions",sortable:!1}],t.loading=!1,t.groupLoading=!1,t.groupRows=e.data.groups,t.groupHeaders=[{text:t.$t("Group Name"),value:"groupname"},{text:t.$t("Group Type"),value:"addomain"},{text:"Actions",value:"actions",sortable:!1}],t.dportItems=["All","80 (HTTP)","443 (HTTPS)","22 (SSH)","3389 (RDP)","5900 (VNC)"],t.protItems=["tcp","udp","icmp"];var a=[{text:t.$t("control-panel"),to:"/",disabled:!1},{text:t.$t("Firewalls"),to:"/Firewalls",disabled:!1},{text:t.firewall_name,to:"/Firewall/"+t.firewall_id,disabled:!1}];t.$emit("updatePage",a),t.refreshTimeout=setTimeout(t.loadDetails,5e3)}else console.log("status: ".concat(e.data.status)),t.$router.push("/Login")})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},saveDetails:function(){var t=this;this.saveLoading=!0,l.Z.post({url:"api/firewall/"+encodeURIComponent(this.firewall_id),data:{firewall_name:this.firewall_name}}).then((function(e){console.log(e.data),1==e.data.status?(console.log("Success"),t.saveLoading=!1,t.snackbarText="Saved",t.snackbarSave=!0,t.loadDetails()):(console.log("status: ".concat(e.data.status)),t.snackbarText="Error",t.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){return t.saveLoading=!1}))},addGroup:function(){this.groupDialog=!0,this.loadAllGroups()},loadAllGroups:function(){var t=this;this.allGroupsLoading=!0,this.allGroupsHeaders=[{text:this.$t("Group Name"),value:"groupName"},{text:this.$t("Group Type"),value:"adDomain"}],l.Z.get({url:"api/groups"}).then((function(e){console.log(e.data),1==e.data.status?(t.allGroupsRows=e.data.groups,t.allGroupsLoading=!1):console.log("status: ".concat(e.data.status))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},groupClick:function(){var t=(0,r.Z)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("groupClick: ".concat(JSON.stringify(e,null,2))),t.prev=1,t.next=4,l.Z.put({url:"api/firewall/".concat(this.firewall_id,"/group"),data:{groupname:e.groupName,addomain:e.adDomain}});case 4:this.saveLoading=!1,this.groupDialog=!1,this.snackbarText="Added",this.snackbarSave=!0,this.loadDetails(),t.next=17;break;case 11:t.prev=11,t.t0=t["catch"](1),console.error("Error: ".concat(t.t0),t.t0),this.dialog=!1,this.snackbarText="Error",this.snackbarSave=!0;case 17:case"end":return t.stop()}}),t,this,[[1,11]])})));function e(e){return t.apply(this,arguments)}return e}(),addProfile:function(){this.dialog=!0,this.allSelected=[],this.addSelectedDisabled=!0},addSelected:function(){var t=(0,r.Z)(regeneratorRuntime.mark((function t(){var e,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.prev=0,e=(0,o.Z)(this.profilesSelected),t.prev=2,e.s();case 4:if((a=e.n()).done){t.next=10;break}return n=a.value,t.next=8,l.Z.put({url:"api/firewall/".concat(this.firewall_id,"/user"),data:{email:n.email}});case 8:t.next=4;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](2),e.e(t.t0);case 15:return t.prev=15,e.f(),t.finish(15);case 18:this.saveLoading=!1,this.dialog=!1,this.snackbarText="Saved",this.snackbarSave=!0,this.loadDetails(),t.next=31;break;case 25:t.prev=25,t.t1=t["catch"](0),console.error("Error: ".concat(t.t1),t.t1),this.dialog=!1,this.snackbarText="Error",this.snackbarSave=!0;case 31:case"end":return t.stop()}}),t,this,[[0,25],[2,12,15,18]])})));function e(){return t.apply(this,arguments)}return e}(),refreshProfiles:function(){var t=this;this.profilesLoading=!0;var e=this.options.itemsPerPage>0?this.options.itemsPerPage:1e4,a=(this.options.page-1)*e;l.Z.post({url:"api/profiles",data:{offset:a,limit:e,sortBy:this.options.sortBy,sortDesc:this.options.sortDesc,search:this.search}}).then((function(e){if(t.profilesLoading=!1,console.log(e.data),1==e.data.status){t.profilesRows=e.data.profiles,t.totalItems=e.data.totalItems;var a=[];t.profilesRows.forEach((function(e){t.allSelected[e.email]&&a.push(e)})),t.profilesSelected=a}else console.log("status: ".concat(e.data.status)),t.$router.push("/Login")})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))}},created:function(){var t=[{text:this.$t("control-panel"),to:"/",disabled:!1},{text:this.$t("Firewalls"),to:"/Firewalls",disabled:!1},{text:this.$route.params.firewall_id,to:"/Firewall/"+this.$route.params.firewall_id,disabled:!1}];this.$emit("updatePage",t),this.profilesHeaders=[{text:this.$t("Last Name"),value:"lastName"},{text:this.$t("First Name"),value:"firstName"},{text:this.$t("Email"),value:"email"}],l.Z.loadPageData(u.name,this),this.loadDetails()},beforeDestroy:function(){console.log("lifecycle: beforeDestroy"),this.refreshTimeout&&(clearTimeout(this.refreshTimeout),this.refreshTimeout=null)},watch:{tab:function(t){console.log("tab: ".concat(t)),this.savePage()},search:function(t){console.log("search: ".concat(t)),this.savePage(),(t.length>1||0==t.length)&&this.refreshProfiles()},profilesSelected:function(t){var e=this;console.log("profilesSelected: ".concat(JSON.stringify(t,null,2)));var a={};t.forEach((function(t){a[t.email]=t.email})),Object.assign(this.allSelected,a),this.profilesRows.forEach((function(t){a[t.email]||delete e.allSelected[t.email]})),Object.keys(this.allSelected).length>0?this.addSelectedDisabled=!1:this.addSelectedDisabled=!0}}},d=u,p=d,h=a(1001),f=a(43453),v=a.n(f),m=a(63150),g=a(32371),b=a(37118),y=a(82102),w=a(15359),k=a(4228),x=a(76277),S=a(4497),$=a(46232),D=a(96428),_=a(62877),C=a(47032),T=a(13202),P=a(99762),O=a(94227),A=a(71759),Z=a(38697),I=a(51954),R=a(21208),L=a(55978),E=a(36656),V=a(27921),N=(0,h.Z)(p,n,i,!1,null,"3c685289",null),j=N.exports;v()(N,{VBtn:m.Z,VCard:g.Z,VCardText:b.ZB,VCardTitle:b.EB,VCol:y.Z,VCombobox:w.Z,VContainer:k.Z,VDataTable:x.Z,VDialog:S.Z,VForm:$.Z,VIcon:D.Z,VRow:_.Z,VSelect:C.Z,VSnackbar:T.Z,VSpacer:P.Z,VTab:O.Z,VTabItem:A.Z,VTabs:Z.Z,VTabsItems:I.Z,VTabsSlider:R.Z,VTextField:L.Z,VToolbar:E.Z,VToolbarTitle:V.qW})},31453:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return _}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(" "+t._s(t.$t("Firewalls"))+" ")]),a("v-data-table",{staticClass:"ma-4 bg",attrs:{headers:t.headers,items:t.rows,"items-per-page":10,search:t.search},on:{"click:row":t.rowClick},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"bg"}},[a("v-btn",{staticClass:"ma-4",attrs:{color:"primary"},on:{click:function(e){t.dialogNew=!0}}},[t._v(t._s(t.$t("New Firewall")))]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]},proxy:!0},{key:"item.actions",fn:function(e){var n=e.item;return[a("v-icon",{staticClass:"mx-2",attrs:{small:""},on:{click:function(e){return t.deleteFirewall(n,e)}}},[t._v(" mdi-delete ")])]}}],null,!0)}),a("v-dialog",{attrs:{"max-width":"500px","overlay-color":"bg"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(t._s(t.$t("Remove Firewall")))]),a("v-card-subtitle",{staticClass:"mt-4"},[t._v(t._s(t.$t("Are you sure you want to remove the selected firewall? \n All resules will be deleted.")))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"warning"},on:{click:function(e){t.dialogDelete=!1}}},[t._v(t._s(t.$t("Cancel")))]),a("v-btn",{attrs:{color:"primary"},on:{click:function(e){t.dialogDelete=!1|t.removeFirewall()}}},[t._v(t._s(t.$t("Remove Firewall")))]),a("v-spacer")],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px","overlay-color":"bg"},model:{value:t.dialogNew,callback:function(e){t.dialogNew=e},expression:"dialogNew"}},[a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(t._s(t.$t("New Firewall")))]),a("v-container",{staticClass:"ma-4"},[a("v-form",{ref:"addForm",model:{value:t.addValid,callback:function(e){t.addValid=e},expression:"addValid"}},[a("v-text-field",{attrs:{label:t.$t("Firewall Name"),rules:t.requiredRules},model:{value:t.addFirewallName,callback:function(e){t.addFirewallName=e},expression:"addFirewallName"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"warning"},on:{click:function(e){t.dialogNew=!1}}},[t._v(t._s(t.$t("Cancel")))]),a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.addFirewall()}}},[t._v(t._s(t.$t("Add Firewall")))]),a("v-spacer")],1)],1)],1),a("v-snackbar",{attrs:{timeout:2e3},scopedSlots:t._u([{key:"action",fn:function(e){var n=e.attrs;return[a("v-btn",t._b({attrs:{color:"primary",text:""},on:{click:function(e){t.snackbarSave=!1}}},"v-btn",n,!1),[t._v(" "+t._s(t.$t("Close"))+" ")])]}}]),model:{value:t.snackbarSave,callback:function(e){t.snackbarSave=e},expression:"snackbarSave"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},i=[],o=(a(92222),a(41539),a(13888)),r=a(23144),s={name:"Groups",data:function(){return{headers:[],rows:[],search:"",totalItems:0,loading:!0,options:{},dialogDelete:!1,removeItem:null,snackbarSave:!1,snackbarText:"",addFirewallName:"",dialogNew:!1,requiredRules:[],addValid:!0,appData:o.Z}},methods:{rowClick:function(t){console.log("rowClick: ".concat(t.firewall_id)),this.$router.push("/Firewall/"+t.firewall_id)},addFirewall:function(){var t=this,e=this.$refs.addForm.validate();this.addValid?(this.dialogNew=!1,r.Z.put({url:"api/firewall",data:{firewall_name:this.addFirewallName}}).then((function(e){console.log(e.data),1==e.data.status?(t.snackbarText=t.$t("Firewall Added"),t.snackbarSave=!0,t.addFirewallName="",t.refresh(),t.$router.push("/Firewall/"+e.data.firewall.firewall_id)):(console.log("status: ".concat(e.data.status)),t.snackbarText=t.$t("Error"),t.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))):console.log("addValid: ".concat(this.addValid,", v: ").concat(e))},deleteFirewall:function(t,e){return console.log("deleteFirewall: ".concat(t.firewall_id)),e.stopPropagation(),this.dialogDelete=!0,this.removeItem=t,!1},removeFirewall:function(){var t=this,e=this.removeItem.firewall_id;console.log("firewall_id: "+e),r.Z["delete"]({url:"api/firewall/".concat(encodeURIComponent(e))}).then((function(e){console.log(e.data),1==e.data.status?(t.snackbarText=t.$t("Firewall removed"),t.snackbarSave=!0,t.dialogDelete=!1,t.refresh()):(console.log("status: ".concat(e.data.status)),t.snackbarText=t.$t("Error"),t.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},refresh:function(){var t=this;r.Z.get({url:"api/firewall"}).then((function(e){console.log(e.data),1==e.data.status?t.rows=e.data.results:(console.log("status: ".concat(e.data.status)),t.$router.push("/Login"))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))}},created:function(){var t=this,e=[{text:this.$t("control-panel"),to:"/",disabled:!1},{text:this.$t("Firewalls"),to:"/Firewalls",disabled:!1}];this.$emit("updatePage",e),this.requiredRules=[function(e){return!!e||t.$t("Field is required")}],this.headers=[{text:this.$t("Name"),value:"firewall_name"},{text:this.$t("Actions"),value:"actions",sortable:!1}],this.refresh()}},l=s,c=l,u=a(1001),d=a(43453),p=a.n(d),h=a(63150),f=a(32371),v=a(37118),m=a(4228),g=a(76277),b=a(4497),y=a(46232),w=a(96428),k=a(13202),x=a(99762),S=a(55978),$=a(36656),D=(0,u.Z)(c,n,i,!1,null,null,null),_=D.exports;p()(D,{VBtn:h.Z,VCard:f.Z,VCardActions:v.h7,VCardSubtitle:v.Qq,VCardTitle:v.EB,VContainer:m.Z,VDataTable:g.Z,VDialog:b.Z,VForm:y.Z,VIcon:w.Z,VSnackbar:k.Z,VSpacer:x.Z,VTextField:S.Z,VToolbar:$.Z})},77672:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return $}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[a("v-text-field",{attrs:{label:t.$t("Group Name"),readonly:!t.newgroup,rules:[t.checkGroupName]},model:{value:t.groupName,callback:function(e){t.groupName=e},expression:"groupName"}}),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-data-table",{staticClass:"ma-4 bg",attrs:{headers:t.headers,items:t.rows,"items-per-page":10,loading:t.loading,search:t.search,"multi-sort":"","show-select":"","item-key":"email"},on:{"click:row":t.rowClick},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"bg"}},[t.appData.checkPermission("/groups","w")?a("v-btn",{staticClass:"ma-4",attrs:{color:"primary",disabled:t.readonly||""==t.groupName||!0!==t.checkGroupName(t.groupName)},on:{click:t.openAddProfiles}},[t._v(t._s(t.$t("Add Profiles")))]):t._e(),t.appData.checkPermission("/groups","w")?a("v-btn",{staticClass:"ma-4",attrs:{color:"primary",disabled:t.removeSelectedDisable||t.readonly},on:{click:function(e){t.dialogDelete=!0}}},[t._v(t._s(t.$t("Remove Selected Profiles")))]):t._e()],1)]},proxy:!0}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),a("v-dialog",{attrs:{"max-width":"800px","overlay-color":"bg"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(" "+t._s(t.$t("Add Profiles"))+" "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.searchProfiles,callback:function(e){t.searchProfiles=e},expression:"searchProfiles"}})],1),a("v-data-table",{staticClass:"ma-4 bg",attrs:{headers:t.profilesHeaders,items:t.profilesRows,loading:t.profilesLoading,"server-items-length":t.totalItems,"items-per-page":5,options:t.options,search:t.searchProfiles,"show-select":"","multi-sort":"","item-key":"email"},on:{"update:options":[function(e){t.options=e},t.updateOptions]},scopedSlots:t._u([{key:"header.data-table-select",fn:function(){return[t._v("   ")]},proxy:!0},{key:"item.data-table-select",fn:function(e){var n=e.isSelected,i=e.select,o=e.item;return[a("v-simple-checkbox",{attrs:{disabled:!t.isItemExists(o),value:n},on:{input:function(t){return i(t)}}})]}},{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"bg"}},[a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",disabled:t.addSelectedDisabled,loading:t.addSelectedLoading},on:{click:t.addSelected}},[t._v(" "+t._s(t.$t("Assign Selected Profiles"))+" ")])],1)]},proxy:!0}],null,!0),model:{value:t.profilesSelected,callback:function(e){t.profilesSelected=e},expression:"profilesSelected"}})],1)],1),a("v-dialog",{attrs:{"max-width":"500px","overlay-color":"bg"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(t._s(t.$t("Remove Selected Profiles")))]),a("v-card-subtitle",{staticClass:"mt-4"},[t._v(t._s(t.$t("Are you sure you want to remove the selected profiles?")))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"warning"},on:{click:function(e){t.dialogDelete=!1}}},[t._v(t._s(t.$t("Cancel")))]),a("v-btn",{attrs:{color:"primary"},on:{click:function(e){t.dialogDelete=!1|t.removeProfiles(t.selected)}}},[t._v(t._s(t.$t("Remove Profiles")))]),a("v-spacer")],1)],1)],1),a("v-snackbar",{attrs:{timeout:2e3},scopedSlots:t._u([{key:"action",fn:function(e){var n=e.attrs;return[a("v-btn",t._b({attrs:{color:"primary",text:""},on:{click:function(e){t.snackbarSave=!1}}},"v-btn",n,!1),[t._v(" "+t._s(t.$t("Close"))+" ")])]}}]),model:{value:t.snackbarSave,callback:function(e){t.snackbarSave=e},expression:"snackbarSave"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},i=[],o=(a(41539),a(74916),a(64765),a(54747),a(92222),a(38862),a(13888)),r=a(23144),s={name:"Group",data:function(){return{headers:[],rows:[],search:"",totalItems:0,loading:!0,options:{},groupName:{},adDomain:{},appData:o.Z,groupParam:"",selected:[],removeSelectedDisable:!0,dialogDelete:!1,dialog:!1,profilesHeaders:[],profilesRows:[],profilesLoading:!0,profilesSelected:[],searchProfiles:"",addSelectedDisabled:!0,addSelectedLoading:!1,readonly:!1,newgroup:!0,snackbarSave:!1,snackbarText:"",groupNames:{}}},methods:{openAddProfiles:function(){console.log("openAddProfiles"),this.dialog=!0,this.profilesSelected=[],this.refreshProfiles()},addSelected:function(){this.addSelectedLoading=!0,this.addProfiles(this.profilesSelected)},refreshProfiles:function(){var t=this;this.profilesLoading=!0;var e=this.options.itemsPerPage>0?this.options.itemsPerPage:1e4,a=(this.options.page-1)*e;r.Z.post({url:"api/profiles",data:{offset:a,limit:e,sortBy:this.options.sortBy,sortDesc:this.options.sortDesc,search:this.search}}).then((function(e){t.profilesLoading=!1,console.log(e.data),1==e.data.status?(t.profilesRows=e.data.profiles,t.totalItems=e.data.totalItems):console.log("status: ".concat(e.data.status))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},isItemExists:function(t){return!this.emailMap[t.email]},updateOptions:function(t){console.log("update:options",t),this.refreshProfiles()},rowClick:function(t){console.log("rowClick: ".concat(t.email)),this.$router.push("/Profile/"+t.email)},refresh:function(){var t=this;console.log("groupParam: ".concat(this.groupParam)),r.Z.get({url:"api/groups/"+encodeURIComponent(this.groupParam)}).then((function(e){console.log(e.data),1==e.data.status?(t.rows=e.data.profiles,t.emailMap={},t.rows.forEach((function(e){t.emailMap[e.email]=1}))):(console.log("status: ".concat(e.data.status)),t.$router.push("/Login"))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},loadGroupNames:function(){var t=this;r.Z.get({url:"api/groups"}).then((function(e){console.log(e.data),1==e.data.status?e.data.groups.forEach((function(e){t.groupNames[e.groupName]="1"})):console.log("status: ".concat(e.data.status))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},addProfiles:function(t){var e=this;Array.isArray(t)||(t=[t]);var a,n,i=[];t.forEach((function(t){var e;e="string"===typeof t?t:t.email,i.push(e)})),console.log("addProfiles: ".concat(i)),this.newgroup?(a="put",n="",this.groupParam=this.groupName):(a="post",n="addProfiles"),r.Z.req({method:a,url:"api/groups/".concat(encodeURIComponent(this.groupParam),"/").concat(n),data:{email:i}}).then((function(t){console.log(t.data),1==t.data.status?(console.log("status: ".concat(t.data.status)),e.addSelectedLoading=!1,e.dialog=!1,e.newgroup?(e.newgroup=!1,e.updatePageHead(),e.snackbarText=e.$t("Group Added")):e.snackbarText=e.$t("Profiles Added"),e.snackbarSave=!0,e.refresh()):(console.log("status: ".concat(t.data.status)),e.addSelectedLoading=!1,e.snackbarText=e.$t("Error")+" - "+t.data.message,e.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){return e.loading=!1}))},removeProfiles:function(t){var e=this;Array.isArray(t)||(t=[t]);var a="";t.forEach((function(t){var e;e="string"===typeof t?t:t.email,a+="&email="+encodeURIComponent(e)})),r.Z.get({url:"api/groups/".concat(encodeURIComponent(this.groupParam),"/removeProfiles?").concat(a)}).then((function(t){console.log(t.data),1==t.data.status?(console.log("status: ".concat(t.data.status)),e.refresh()):console.log("status: ".concat(t.data.status))})).catch((function(t){return console.log(t)})).finally((function(){return e.loading=!1}))},updatePageHead:function(){var t=[{text:this.$t("control-panel"),to:"/",disabled:!1},{text:this.$t("Groups"),to:"/Groups",disabled:!1},{text:this.newgroup?this.$t("New Group"):this.groupName,to:"/Group/"+this.groupName+"/"+this.adDomain,disabled:!1}];this.$emit("updatePage",t)},checkGroupName:function(t){return t&&""!=t?!this.groupNames[t]||this.$t("Group name already exists"):this.$t("Enter group name")}},created:function(){this.groupName=this.$route.params.groupName,"All"==this.groupName?this.readonly=!0:this.readonly=!1,this.groupName||(this.groupName=""),""==this.groupName?(this.newgroup=!0,this.adDomain="",this.loadGroupNames()):(this.newgroup=!1,this.adDomain=this.$route.params.adDomain?this.$route.params.adDomain:""),this.adDomain&&""!=this.adDomain?this.groupParam="".concat(this.groupName,"#").concat(this.adDomain):this.groupParam=this.groupName,this.updatePageHead(),this.headers=[{text:this.$t("First Name"),value:"firstName"},{text:this.$t("Last Name"),value:"lastName"},{text:this.$t("Email"),value:"email"}],this.profilesHeaders=[{text:this.$t("Last Name"),value:"lastName"},{text:this.$t("First Name"),value:"firstName"},{text:this.$t("Email"),value:"email"}],this.refresh()},watch:{selected:function(t){console.log("selected: ".concat(JSON.stringify(t,null,2))),this.removeSelectedDisable=0==t.length},profilesSelected:function(t){console.log("profilesSelected: ".concat(JSON.stringify(t,null,2))),this.addSelectedDisabled=0==t.length},searchProfiles:function(t){console.log("searchProfiles: ".concat(JSON.stringify(t,null,2))),this.refreshProfiles()}}},l=s,c=l,u=a(1001),d=a(43453),p=a.n(d),h=a(63150),f=a(32371),v=a(37118),m=a(76277),g=a(4497),b=a(70128),y=a(13202),w=a(99762),k=a(55978),x=a(36656),S=(0,u.Z)(c,n,i,!1,null,null,null),$=S.exports;p()(S,{VBtn:h.Z,VCard:f.Z,VCardActions:v.h7,VCardSubtitle:v.Qq,VCardTitle:v.EB,VDataTable:m.Z,VDialog:g.Z,VSimpleCheckbox:b.Z,VSnackbar:y.Z,VSpacer:w.Z,VTextField:k.Z,VToolbar:x.Z})},99296:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return $}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(" "+t._s(t.$t("Groups"))+" ")]),a("v-data-table",{staticClass:"ma-4 bg",attrs:{headers:t.headers,items:t.rows,"items-per-page":10,search:t.search},on:{"click:row":t.rowClick},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"bg"}},[t.appData.checkPermission("/groups","w")?a("v-btn",{staticClass:"ma-4",attrs:{color:"primary"},on:{click:function(e){return t.$router.push("/Group/")}}},[t._v(t._s(t.$t("New Group")))]):t._e(),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]},proxy:!0},{key:"item.adDomain",fn:function(e){var n=e.item;return["All"==n.groupName?a("div",[t._v(t._s(t.$t("Automatic")))]):""==n.adDomain?a("div",[t._v(t._s(t.$t("Manual")))]):a("div",[t._v(t._s(t.$t("Active Directory")))])]}},{key:"item.actions",fn:function(e){var n=e.item;return["All"!=n.groupName&&t.appData.checkPermission("/groups","w")?a("v-icon",{staticClass:"mx-2",attrs:{small:""},on:{click:function(e){return t.deleteGroup(n,e)}}},[t._v(" mdi-delete ")]):t._e()]}}],null,!0)}),a("v-dialog",{attrs:{"max-width":"500px","overlay-color":"bg"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(t._s(t.$t("Remove Group")))]),a("v-card-subtitle",{staticClass:"mt-4"},[t._v(t._s(t.$t("Are you sure you want to remove the selected group?")))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"warning"},on:{click:function(e){t.dialogDelete=!1}}},[t._v(t._s(t.$t("Cancel")))]),a("v-btn",{attrs:{color:"primary"},on:{click:function(e){t.dialogDelete=!1|t.removeGroup()}}},[t._v(t._s(t.$t("Remove Group")))]),a("v-spacer")],1)],1)],1),a("v-snackbar",{attrs:{timeout:2e3},scopedSlots:t._u([{key:"action",fn:function(e){var n=e.attrs;return[a("v-btn",t._b({attrs:{color:"primary",text:""},on:{click:function(e){t.snackbarSave=!1}}},"v-btn",n,!1),[t._v(" "+t._s(t.$t("Close"))+" ")])]}}]),model:{value:t.snackbarSave,callback:function(e){t.snackbarSave=e},expression:"snackbarSave"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},i=[],o=(a(92222),a(41539),a(13888)),r=a(23144),s={name:"Groups",data:function(){return{headers:[],rows:[],search:"",totalItems:0,loading:!0,options:{},dialogDelete:!1,removeItem:null,snackbarSave:!1,snackbarText:"",appData:o.Z}},methods:{rowClick:function(t){console.log("rowClick: ".concat(t.groupName)),this.$router.push("/Group/"+t.groupName+"/"+t.adDomain)},deleteGroup:function(t,e){return console.log("deleteGroup: ".concat(t.groupName," ").concat(t.adDomain)),e.stopPropagation(),this.dialogDelete=!0,this.removeItem=t,!1},removeGroup:function(){var t,e=this;t=this.removeItem.adDomain&&""!=this.removeItem.adDomain?"".concat(this.removeItem.groupName,"#").concat(this.removeItem.adDomain):this.removeItem.groupName,console.log("groupParam: "+t),r.Z["delete"]({url:"api/groups/".concat(encodeURIComponent(t))}).then((function(t){console.log(t.data),1==t.data.status?(e.snackbarText=e.$t("Group removed"),e.snackbarSave=!0,e.dialogDelete=!1,e.refresh()):(console.log("status: ".concat(t.data.status)),e.snackbarText=e.$t("Error"),e.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){return e.loading=!1}))},refresh:function(){var t=this;r.Z.get({url:"api/groups"}).then((function(e){console.log(e.data),1==e.data.status?t.rows=e.data.groups:(console.log("status: ".concat(e.data.status)),t.$router.push("/Login"))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))}},created:function(){var t=[{text:this.$t("control-panel"),to:"/",disabled:!1},{text:this.$t("Groups"),to:"/Groups",disabled:!1}];this.$emit("updatePage",t),this.headers=[{text:this.$t("Name"),value:"groupName"},{text:this.$t("Group Type"),value:"adDomain"},{text:this.$t("Actions"),value:"actions",sortable:!1}],this.refresh()}},l=s,c=l,u=a(1001),d=a(43453),p=a.n(d),h=a(63150),f=a(32371),v=a(37118),m=a(76277),g=a(4497),b=a(96428),y=a(13202),w=a(99762),k=a(55978),x=a(36656),S=(0,u.Z)(c,n,i,!1,null,null,null),$=S.exports;p()(S,{VBtn:h.Z,VCard:f.Z,VCardActions:v.h7,VCardSubtitle:v.Qq,VCardTitle:v.EB,VDataTable:m.Z,VDialog:g.Z,VIcon:b.Z,VSnackbar:y.Z,VSpacer:w.Z,VTextField:k.Z,VToolbar:x.Z})},46661:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return S}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(t._s(t.$t("LDAP Domains")))]),a("v-data-table",{staticClass:"elevation-1 ma-4 bg",attrs:{headers:t.headers,items:t.rows,"items-per-page":20,loading:t.loading},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"bg"}},[a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:t.addLDAP}},[t._v(" "+t._s(t.$t("Add LDAP Domain"))+" ")])],1)]},proxy:!0},{key:"item.actions",fn:function(e){var n=e.item;return[a("v-icon",{staticClass:"mx-2",attrs:{small:""},on:{click:function(e){return t.rowClick(n)}}},[t._v(" mdi-pencil ")]),a("v-icon",{staticClass:"mx-2",attrs:{small:""},on:{click:function(e){return t.deleteLDAP(n)}}},[t._v(" mdi-delete ")])]}}],null,!0)}),a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[t._v(" Delete "+t._s(t.deleteDomain)+" LDAP Domain? ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Cancel ")]),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:t.deleteOK}},[t._v(" OK ")])],1)],1)],1),a("v-snackbar",{attrs:{timeout:2e3},scopedSlots:t._u([{key:"action",fn:function(e){var n=e.attrs;return[a("v-btn",t._b({attrs:{color:"info",text:""},on:{click:function(e){t.snackbarSave=!1}}},"v-btn",n,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbarSave,callback:function(e){t.snackbarSave=e},expression:"snackbarSave"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},i=[],o=(a(41539),a(13888)),r=a(23144),s={name:"LDAP",data:function(){return{headers:[],rows:[],search:"",totalItems:0,loading:!0,options:{},dialog:!1,deleteObj:null,deleteDomain:"",snackbarSave:!1,snackbarText:"",appData:o.Z}},methods:{rowClick:function(t){console.log("rowClick: ".concat(t.addomain)),this.$router.push("/LDAP/"+t.addomain)},deleteLDAP:function(t){this.deleteObj=t,this.deleteDomain=t.addomain,this.dialog=!0},deleteOK:function(){var t=this;console.log("deleteLDAP: ".concat(this.deleteDomain)),this.dialog=!1,r.Z["delete"]({url:"api/ldap/"+encodeURIComponent(this.deleteDomain)}).then((function(e){console.log(e.data),1==e.data.status?(t.snackbarText=t.$t("Saved"),t.snackbarSave=!0,t.refresh()):(console.log("status: ".concat(e.data.status)),t.snackbarText=t.$t("Error"),t.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},addLDAP:function(){this.$router.push("/LDAP/CREATELDAP")},refresh:function(){var t=this;r.Z.get({url:"api/ldap"}).then((function(e){console.log(e.data),1==e.data.status?t.rows=e.data.ldapDomains:(console.log("status: ".concat(e.data.status)),t.rows=[])})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))}},created:function(){var t=[{text:this.$t("control-panel"),to:"/",disabled:!1},{text:this.$t("LDAP"),to:"/LDAP",disabled:!1}];this.$emit("updatePage",t),this.headers=[{text:this.$t("LDAP Domain"),value:"addomain"},{text:this.$t("URL"),value:"connectionurl"},{text:this.$t("Base DN"),value:"basedn"},{text:"Actions",value:"actions",sortable:!1}],this.refresh()}},l=s,c=l,u=a(1001),d=a(43453),p=a.n(d),h=a(63150),f=a(32371),v=a(37118),m=a(76277),g=a(4497),b=a(96428),y=a(13202),w=a(99762),k=a(36656),x=(0,u.Z)(c,n,i,!1,null,null,null),S=x.exports;p()(x,{VBtn:h.Z,VCard:f.Z,VCardActions:v.h7,VCardTitle:v.EB,VDataTable:m.Z,VDialog:g.Z,VIcon:b.Z,VSnackbar:y.Z,VSpacer:w.Z,VToolbar:k.Z})},33056:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return J}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:"bg"}},[a("v-toolbar",{attrs:{color:"secondary",dark:"",flat:""},scopedSlots:t._u([{key:"extension",fn:function(){return[a("v-tabs",{attrs:{"align-with-title":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tabs-slider",{attrs:{color:"primary"}}),a("v-tab",{key:"setup"},[t._v(" Setup ")]),a("v-tab",{key:"ous",attrs:{disabled:t.disableOUs}},[t._v(" Organization Units ")])],1)]},proxy:!0}])},[a("v-toolbar-title",[t._v(t._s(t.$t("LDAP Domain"))+": "+t._s(t.addomain))]),a("v-spacer")],1),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",{key:"setup"},[a("v-card",{attrs:{flat:"",color:"bg"}},[a("v-form",{ref:"form",model:{value:t.formValid,callback:function(e){t.formValid=e},expression:"formValid"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("LDAP Domain"),disabled:t.addominReadonly,rules:[function(e){return!!e||t.$t("Required")}]},on:{change:t.addomainChanged},model:{value:t.ldapDetails.addomain,callback:function(e){t.$set(t.ldapDetails,"addomain",e)},expression:"ldapDetails.addomain"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("Host"),rules:[function(e){return!!e||t.$t("Required")}]},model:{value:t.ldapDetails.host,callback:function(e){t.$set(t.ldapDetails,"host",e)},expression:"ldapDetails.host"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("Port"),disabled:t.portReadonly,rules:[function(e){return!!e||t.$t("Required")},function(t){return/^[0-9]{1,5}$/.test(t)||"Port must be a number"}]},model:{value:t.ldapDetails.port,callback:function(e){t.$set(t.ldapDetails,"port",e)},expression:"ldapDetails.port"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-select",{attrs:{items:t.connectionTypeItems,label:t.$t("Connection Type"),value:t.connectionType,rules:[function(e){return!!e||t.$t("Required")}]},on:{change:t.connectionTypeChanged}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("User Name"),rules:[function(e){return!!e||t.$t("Required")}]},model:{value:t.ldapDetails.username,callback:function(e){t.$set(t.ldapDetails,"username",e)},expression:"ldapDetails.username"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("Password"),rules:[function(e){return!!e||t.$t("Password is required")}],type:t.showPass?"text":"password","append-icon":t.showPass?"mdi-eye":"mdi-eye-off"},on:{"click:append":function(e){t.showPass=!t.showPass}},model:{value:t.ldapDetails.password,callback:function(e){t.$set(t.ldapDetails,"password",e)},expression:"ldapDetails.password"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("Base DN"),rules:[function(e){return!!e||t.$t("Required")}]},model:{value:t.ldapDetails.basedn,callback:function(e){t.$set(t.ldapDetails,"basedn",e)},expression:"ldapDetails.basedn"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-btn",{staticClass:"mr-4",attrs:{disabled:!t.formValid,color:"primary",loading:t.saveLoading},on:{click:t.saveForm}},[t._v(" "+t._s(t.$t("Save"))+" ")])],1)],1)],1)],1)],1)],1),a("v-tab-item",{key:"ous"},[a("v-card",{attrs:{flat:"",color:"bg"}},[a("v-treeview",{staticClass:"bg",attrs:{selectable:"","item-disabled":"locked","selection-type":"independent",items:t.items,value:t.value,"open-all":""},on:{input:t.input}}),a("v-btn",{staticClass:"ma-4",attrs:{color:"primary",loading:t.saveOULoading,disabled:t.disableOUs},on:{click:t.saveOUs}},[t._v(" Save OUs ")])],1)],1)],1),a("v-snackbar",{attrs:{timeout:2e3},scopedSlots:t._u([{key:"action",fn:function(e){var n=e.attrs;return[a("v-btn",t._b({attrs:{color:"info",text:""},on:{click:function(e){t.snackbarSave=!1}}},"v-btn",n,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbarSave,callback:function(e){t.snackbarSave=e},expression:"snackbarSave"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},i=[],o=(a(74916),a(23123),a(69600),a(41539),a(68309),a(92222),a(38862),a(54747),a(13888)),r=a(23144),s={name:"LDAP",data:function(){return{createLDAP:!1,tab:{},addomain:{},ldapDetails:{},items:[],ousList:[],value:[],inputValues:[],formValid:!0,showPass:!1,connectionTypeItems:[],connectionType:"auto",snackbarSave:!1,snackbarText:"",saveLoading:!1,saveOULoading:!1,portReadonly:!1,addominReadonly:!1,disableOUs:!0,appData:o.Z}},watch:{"ldapDetails.addomain":function(t){if(console.log("ldapDetails.addomain: "+t),this.createLDAP&&t.length>0){for(var e=t.split("."),a=0;a<e.length;a++)e[a]="DC="+e[a];this.ldapDetails.basedn=e.join(",")}}},methods:{input:function(t){console.log("input: ".concat(t)),this.inputValues=t},connectionTypeChanged:function(t){console.log("connectionTypeChanged: ".concat(t)),"auto"==t?this.portReadonly=!0:(this.portReadonly=!1,"ldaps://"==t?(console.log("Change port to 636"),this.ldapDetails.port="636"):(console.log("Change port to 389"),this.ldapDetails.port="389"),this.$forceUpdate())},saveForm:function(){var t=this;this.$refs.form.validate(),this.formValid?(this.saveLoading=!0,r.Z.put({url:"api/ldap/"+encodeURIComponent(this.ldapDetails.addomain),data:{host:this.ldapDetails.host,user:this.ldapDetails.username,password:this.ldapDetails.password,port:this.ldapDetails.port,baseDN:this.ldapDetails.basedn,sync:!0,SSL:this.connectionType}}).then((function(e){console.log(e.data),1==e.data.status?(console.log("Success"),t.saveLoading=!1,t.snackbarText="Saved",t.snackbarSave=!0,t.addomain=t.ldapDetails.addomain,t.createLDAP=!1,t.addominReadonly=!0,t.refresh()):(console.log("status: ".concat(e.data.status)),t.saveLoading=!1,e.data.message?e.data.message.message&&e.data.message.name?t.snackbarText="".concat(t.$t("Error"),": ").concat(e.data.message.name," - ").concat(e.data.message.message):t.snackbarText="".concat(t.$t("Error"),": ").concat(e.data.message):t.snackbarText="Error",t.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))):console.log("Invalid!")},addomainChanged:function(t){console.log("addomainChanged: ".concat(t))},saveOUs:function(){for(var t=this,e=[],a=0;a<this.inputValues.length;a++){var n=this.inputValues[a];e.push(this.ousList[n].key)}console.log("Selected orgUnits: "+JSON.stringify(e)),0!=e.length&&(this.saveOULoading=!0,r.Z.post({url:"api/ldap/"+encodeURIComponent(this.addomain),data:{orgUnits:e}}).then((function(e){console.log(e.data),1==e.data.status?(console.log("Success"),t.saveOULoading=!1,t.snackbarText="Saved",t.snackbarSave=!0):(console.log("status: ".concat(e.data.status)),t.snackbarText="Error",t.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1})))},refresh:function(){var t=this;this.disableOUs=!0,r.Z.get({url:"api/ldap"}).then((function(e){console.log(e.data),1==e.data.status?e.data.ldapDomains.forEach((function(e){if(e.addomain==t.addomain){t.addominReadonly=!0;var a=e.connectionurl.split("://");if(2==a.length){var n=a[1].split(":");t.ldapDetails.host=n[0],t.ldapDetails.port=n[1],"ldaps"!=a[0]&&"ldap"!=a[0]||(t.connectionType=a[0]+"://")}t.ldapDetails.password=e.password,t.ldapDetails.addomain=e.addomain,t.ldapDetails.username=e.username,t.ldapDetails.basedn=e.basedn}})):(console.log("status: ".concat(e.data.status)),t.rows=[])})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1})),r.Z.get({url:"api/ldap/"+encodeURIComponent(this.addomain)}).then((function(e){if(console.log(e.data),1==e.data.status){console.log("status: ".concat(e.data.status)),t.ousList=e.data.ousList;var a={};t.items=[],t.value=[];for(var n=0;n<t.ousList.length;n++){var i=t.ousList[n],o={id:n,name:i.ouName,children:[]};if(a[i.key]=o,i.checked&&t.value.push(n),0==i.level)t.items.push(o),t.disableOUs=!1;else{var r=i.key.split(",");r.shift();var s=r.join(","),l=a[s];l?l.children.push(o):console.log("Parent not found: "+s)}}console.log("values: ".concat(t.value)),t.inputValues=t.value}else console.log("status: ".concat(e.data.status))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))}},created:function(){"CREATELDAP"!=this.$route.params.addomain?this.addomain=this.$route.params.addomain:(this.addomain="",this.createLDAP=!0,this.addominReadonly=!1,this.ldapDetails={addomain:"",port:"389",host:"",username:"",basedn:""});var t=[{text:this.$t("control-panel"),to:"/",disabled:!1},{text:this.$t("LDAP"),to:"/LDAP",disabled:!1},{text:this.addomain,to:"/LDAP/"+encodeURIComponent(this.addomain),disabled:!1}];this.$emit("updatePage",t),this.connectionTypeItems=[{text:this.$t("Automatic"),value:"auto"},{text:this.$t("LDAP Over SSL"),value:"ldaps://"},{text:this.$t("LDAP"),value:"ldap://"}],this.createLDAP||this.refresh()}},l=s,c=l,u=a(1001),d=a(43453),p=a.n(d),h=a(63150),f=a(32371),v=a(82102),m=a(4228),g=a(46232),b=a(62877),y=a(47032),w=a(13202),k=a(99762),x=a(94227),S=a(71759),$=a(38697),D=a(51954),_=a(21208),C=a(55978),T=a(36656),P=a(27921),O=a(75200),A=a(62032),Z=a(68932),I=a(4367),R=(a(70189),a(78783),a(33948),a(64765),a(57327),a(21249),a(47941),a(51532),a(23796)),L=(a(26699),a(9653),a(85827)),E=a(96428),V=a(96257),N=a(46952),j=a(73325),F=a(4589),B=(0,j.Z)(N.Z,(0,V.f)("treeview")),M={activatable:Boolean,activeClass:{type:String,default:"v-treeview-node--active"},color:{type:String,default:"primary"},disablePerNode:Boolean,expandIcon:{type:String,default:"$subgroup"},indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},itemChildren:{type:String,default:"children"},itemDisabled:{type:String,default:"disabled"},itemKey:{type:String,default:"id"},itemText:{type:String,default:"name"},loadChildren:Function,loadingIcon:{type:String,default:"$loading"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"},openOnClick:Boolean,rounded:Boolean,selectable:Boolean,selectedColor:{type:String,default:"accent"},shaped:Boolean,transition:Boolean,selectionType:{type:String,default:"leaf",validator:function(t){return["leaf","independent"].includes(t)}}},U=B.extend().extend({name:"v-treeview-node",inject:{treeview:{default:null}},props:(0,I.Z)({level:Number,item:{type:Object,default:function(){return null}},parentIsDisabled:Boolean},M),data:function(){return{hasLoaded:!1,isActive:!1,isIndeterminate:!1,isLoading:!1,isOpen:!1,isSelected:!1}},computed:{disabled:function(){return(0,F.vO)(this.item,this.itemDisabled)||!this.disablePerNode&&this.parentIsDisabled&&"leaf"===this.selectionType},key:function(){return(0,F.vO)(this.item,this.itemKey)},children:function(){var t=this,e=(0,F.vO)(this.item,this.itemChildren);return e&&e.filter((function(e){return!t.treeview.isExcluded((0,F.vO)(e,t.itemKey))}))},text:function(){return(0,F.vO)(this.item,this.itemText)},scopedProps:function(){return{item:this.item,leaf:!this.children,selected:this.isSelected,indeterminate:this.isIndeterminate,active:this.isActive,open:this.isOpen}},computedIcon:function(){return this.isIndeterminate?this.indeterminateIcon:this.isSelected?this.onIcon:this.offIcon},hasChildren:function(){return!!this.children&&(!!this.children.length||!!this.loadChildren)}},created:function(){this.treeview.register(this)},beforeDestroy:function(){this.treeview.unregister(this)},methods:{checkChildren:function(){var t=this;return new Promise((function(e){if(!t.children||t.children.length||!t.loadChildren||t.hasLoaded)return e();t.isLoading=!0,e(t.loadChildren(t.item))})).then((function(){t.isLoading=!1,t.hasLoaded=!0}))},open:function(){this.isOpen=!this.isOpen,this.treeview.updateOpen(this.key,this.isOpen),this.treeview.emitOpen()},genLabel:function(){var t=[];return this.$scopedSlots.label?t.push(this.$scopedSlots.label(this.scopedProps)):t.push(this.text),this.$createElement("div",{slot:"label",staticClass:"v-treeview-node__label"},t)},genPrependSlot:function(){return this.$scopedSlots.prepend?this.$createElement("div",{staticClass:"v-treeview-node__prepend"},this.$scopedSlots.prepend(this.scopedProps)):null},genAppendSlot:function(){return this.$scopedSlots.append?this.$createElement("div",{staticClass:"v-treeview-node__append"},this.$scopedSlots.append(this.scopedProps)):null},genContent:function(){var t=[this.genPrependSlot(),this.genLabel(),this.genAppendSlot()];return this.$createElement("div",{staticClass:"v-treeview-node__content"},t)},genToggle:function(){var t=this;return this.$createElement(E.Z,{staticClass:"v-treeview-node__toggle",class:{"v-treeview-node__toggle--open":this.isOpen,"v-treeview-node__toggle--loading":this.isLoading},slot:"prepend",on:{click:function(e){e.stopPropagation(),t.isLoading||t.checkChildren().then((function(){return t.open()}))}}},[this.isLoading?this.loadingIcon:this.expandIcon])},genCheckbox:function(){var t=this;return this.$createElement(E.Z,{staticClass:"v-treeview-node__checkbox",props:{color:this.isSelected||this.isIndeterminate?this.selectedColor:void 0,disabled:this.disabled},on:{click:function(e){e.stopPropagation(),t.isLoading||t.checkChildren().then((function(){t.$nextTick((function(){t.isSelected=!t.isSelected,t.isIndeterminate=!1,t.treeview.updateSelected(t.key,t.isSelected),t.treeview.emitSelected()}))}))}}},[this.computedIcon])},genLevel:function(t){var e=this;return(0,F.MT)(t).map((function(){return e.$createElement("div",{staticClass:"v-treeview-node__level"})}))},genNode:function(){var t=this,e=[this.genContent()];return this.selectable&&e.unshift(this.genCheckbox()),this.hasChildren?e.unshift(this.genToggle()):e.unshift.apply(e,(0,Z.Z)(this.genLevel(1))),e.unshift.apply(e,(0,Z.Z)(this.genLevel(this.level))),this.$createElement("div",this.setTextColor(this.isActive&&this.color,{staticClass:"v-treeview-node__root",class:(0,R.Z)({},this.activeClass,this.isActive),on:{click:function(){t.openOnClick&&t.hasChildren?t.checkChildren().then(t.open):t.activatable&&!t.disabled&&(t.isActive=!t.isActive,t.treeview.updateActive(t.key,t.isActive),t.treeview.emitActive())}}}),e)},genChild:function(t,e){return this.$createElement(U,{key:(0,F.vO)(t,this.itemKey),props:{activatable:this.activatable,activeClass:this.activeClass,item:t,selectable:this.selectable,selectedColor:this.selectedColor,color:this.color,disablePerNode:this.disablePerNode,expandIcon:this.expandIcon,indeterminateIcon:this.indeterminateIcon,offIcon:this.offIcon,onIcon:this.onIcon,loadingIcon:this.loadingIcon,itemKey:this.itemKey,itemText:this.itemText,itemDisabled:this.itemDisabled,itemChildren:this.itemChildren,loadChildren:this.loadChildren,transition:this.transition,openOnClick:this.openOnClick,rounded:this.rounded,shaped:this.shaped,level:this.level+1,selectionType:this.selectionType,parentIsDisabled:e},scopedSlots:this.$scopedSlots})},genChildrenWrapper:function(){var t=this;if(!this.isOpen||!this.children)return null;var e=[this.children.map((function(e){return t.genChild(e,t.disabled)}))];return this.$createElement("div",{staticClass:"v-treeview-node__children"},e)},genTransition:function(){return this.$createElement(L.Fx,[this.genChildrenWrapper()])}},render:function(t){var e=[this.genNode()];return this.transition?e.push(this.genTransition()):e.push(this.genChildrenWrapper()),t("div",{staticClass:"v-treeview-node",class:{"v-treeview-node--leaf":!this.hasChildren,"v-treeview-node--click":this.openOnClick,"v-treeview-node--disabled":this.disabled,"v-treeview-node--rounded":this.rounded,"v-treeview-node--shaped":this.shaped,"v-treeview-node--selected":this.isSelected},attrs:{"aria-expanded":String(this.isOpen)}},e)}}),z=U,H=a(48085),q=a(71824);function W(t,e,a){var n=(0,F.vO)(t,a);return n.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())>-1}function G(t,e,a,n,i,o,r){if(t(e,a,i))return!0;var s=(0,F.vO)(e,o);if(s){for(var l=!1,c=0;c<s.length;c++)G(t,s[c],a,n,i,o,r)&&(l=!0);if(l)return!0}return r.add((0,F.vO)(e,n)),!1}var Y=(0,j.Z)((0,V.J)("treeview"),H.Z).extend({name:"v-treeview",provide:function(){return{treeview:this}},props:(0,I.Z)({active:{type:Array,default:function(){return[]}},dense:Boolean,disabled:Boolean,filter:Function,hoverable:Boolean,items:{type:Array,default:function(){return[]}},multipleActive:Boolean,open:{type:Array,default:function(){return[]}},openAll:Boolean,returnObject:{type:Boolean,default:!1},search:String,value:{type:Array,default:function(){return[]}}},M),data:function(){return{level:-1,activeCache:new Set,nodes:{},openCache:new Set,selectedCache:new Set}},computed:{excludedItems:function(){var t=new Set;if(!this.search)return t;for(var e=0;e<this.items.length;e++)G(this.filter||W,this.items[e],this.search,this.itemKey,this.itemText,this.itemChildren,t);return t}},watch:{items:{handler:function(){var t=this,e=Object.keys(this.nodes).map((function(e){return(0,F.vO)(t.nodes[e].item,t.itemKey)})),a=this.getKeys(this.items),n=(0,F.tX)(a,e);if(n.length||!(a.length<e.length)){n.forEach((function(e){return delete t.nodes[e]}));var i=(0,Z.Z)(this.selectedCache);this.selectedCache=new Set,this.activeCache=new Set,this.openCache=new Set,this.buildTree(this.items),(0,F.vZ)(i,(0,Z.Z)(this.selectedCache))||this.emitSelected()}},deep:!0},active:function(t){this.handleNodeCacheWatcher(t,this.activeCache,this.updateActive,this.emitActive)},value:function(t){this.handleNodeCacheWatcher(t,this.selectedCache,this.updateSelected,this.emitSelected)},open:function(t){this.handleNodeCacheWatcher(t,this.openCache,this.updateOpen,this.emitOpen)}},created:function(){var t=this,e=function(e){return t.returnObject?(0,F.vO)(e,t.itemKey):e};this.buildTree(this.items);var a,n=(0,A.Z)(this.value.map(e));try{for(n.s();!(a=n.n()).done;){var i=a.value;this.updateSelected(i,!0,!0)}}catch(l){n.e(l)}finally{n.f()}var o,r=(0,A.Z)(this.active.map(e));try{for(r.s();!(o=r.n()).done;){var s=o.value;this.updateActive(s,!0)}}catch(l){r.e(l)}finally{r.f()}},mounted:function(){var t=this;(this.$slots.prepend||this.$slots.append)&&(0,q.Kd)("The prepend and append slots require a slot-scope attribute",this),this.openAll?this.updateAll(!0):(this.open.forEach((function(e){return t.updateOpen(t.returnObject?(0,F.vO)(e,t.itemKey):e,!0)})),this.emitOpen())},methods:{updateAll:function(t){var e=this;Object.keys(this.nodes).forEach((function(a){return e.updateOpen((0,F.vO)(e.nodes[a].item,e.itemKey),t)})),this.emitOpen()},getKeys:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=0;a<t.length;a++){var n=(0,F.vO)(t[a],this.itemKey);e.push(n);var i=(0,F.vO)(t[a],this.itemChildren);i&&e.push.apply(e,(0,Z.Z)(this.getKeys(i)))}return e},buildTree:function(t){for(var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=0;n<t.length;n++){var i,o=t[n],r=(0,F.vO)(o,this.itemKey),s=null!=(i=(0,F.vO)(o,this.itemChildren))?i:[],l=this.nodes.hasOwnProperty(r)?this.nodes[r]:{isSelected:!1,isIndeterminate:!1,isActive:!1,isOpen:!1,vnode:null},c={vnode:l.vnode,parent:a,children:s.map((function(t){return(0,F.vO)(t,e.itemKey)})),item:o};if(this.buildTree(s,r),!this.nodes.hasOwnProperty(r)&&null!==a&&this.nodes.hasOwnProperty(a)?c.isSelected=this.nodes[a].isSelected:(c.isSelected=l.isSelected,c.isIndeterminate=l.isIndeterminate),c.isActive=l.isActive,c.isOpen=l.isOpen,this.nodes[r]=c,s.length&&"independent"!==this.selectionType){var u=this.calculateState(r,this.nodes),d=u.isSelected,p=u.isIndeterminate;c.isSelected=d,c.isIndeterminate=p}!this.nodes[r].isSelected||"independent"!==this.selectionType&&0!==c.children.length||this.selectedCache.add(r),this.nodes[r].isActive&&this.activeCache.add(r),this.nodes[r].isOpen&&this.openCache.add(r),this.updateVnodeState(r)}},calculateState:function(t,e){var a=e[t].children,n=a.reduce((function(t,a){return t[0]+=+Boolean(e[a].isSelected),t[1]+=+Boolean(e[a].isIndeterminate),t}),[0,0]),i=!!a.length&&n[0]===a.length,o=!i&&(n[0]>0||n[1]>0);return{isSelected:i,isIndeterminate:o}},emitOpen:function(){this.emitNodeCache("update:open",this.openCache)},emitSelected:function(){this.emitNodeCache("input",this.selectedCache)},emitActive:function(){this.emitNodeCache("update:active",this.activeCache)},emitNodeCache:function(t,e){var a=this;this.$emit(t,this.returnObject?(0,Z.Z)(e).map((function(t){return a.nodes[t].item})):(0,Z.Z)(e))},handleNodeCacheWatcher:function(t,e,a,n){var i=this;t=this.returnObject?t.map((function(t){return(0,F.vO)(t,i.itemKey)})):t;var o=(0,Z.Z)(e);(0,F.vZ)(o,t)||(o.forEach((function(t){return a(t,!1)})),t.forEach((function(t){return a(t,!0)})),n())},getDescendants:function(t){var e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.nodes[t].children;(e=a).push.apply(e,(0,Z.Z)(n));for(var i=0;i<n.length;i++)a=this.getDescendants(n[i],a);return a},getParents:function(t){var e=this.nodes[t].parent,a=[];while(null!==e)a.push(e),e=this.nodes[e].parent;return a},register:function(t){var e=(0,F.vO)(t.item,this.itemKey);this.nodes[e].vnode=t,this.updateVnodeState(e)},unregister:function(t){var e=(0,F.vO)(t.item,this.itemKey);this.nodes[e]&&(this.nodes[e].vnode=null)},isParent:function(t){return this.nodes[t].children&&this.nodes[t].children.length},updateActive:function(t,e){var a=this;if(this.nodes.hasOwnProperty(t)){this.multipleActive||this.activeCache.forEach((function(t){a.nodes[t].isActive=!1,a.updateVnodeState(t),a.activeCache.delete(t)}));var n=this.nodes[t];n&&(e?this.activeCache.add(t):this.activeCache.delete(t),n.isActive=e,this.updateVnodeState(t))}},updateSelected:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.nodes.hasOwnProperty(t)){var n=new Map;if("independent"!==this.selectionType){var i,o=(0,A.Z)(this.getDescendants(t));try{for(o.s();!(i=o.n()).done;){var r=i.value;(0,F.vO)(this.nodes[r].item,this.itemDisabled)&&!a||(this.nodes[r].isSelected=e,this.nodes[r].isIndeterminate=!1,n.set(r,e))}}catch(g){o.e(g)}finally{o.f()}var s=this.calculateState(t,this.nodes);this.nodes[t].isSelected=e,this.nodes[t].isIndeterminate=s.isIndeterminate,n.set(t,e);var l,c=(0,A.Z)(this.getParents(t));try{for(c.s();!(l=c.n()).done;){var u=l.value,d=this.calculateState(u,this.nodes);this.nodes[u].isSelected=d.isSelected,this.nodes[u].isIndeterminate=d.isIndeterminate,n.set(u,d.isSelected)}}catch(g){c.e(g)}finally{c.f()}}else this.nodes[t].isSelected=e,this.nodes[t].isIndeterminate=!1,n.set(t,e);var p,h=(0,A.Z)(n.entries());try{for(h.s();!(p=h.n()).done;){var f=(0,O.Z)(p.value,2),v=f[0],m=f[1];this.updateVnodeState(v),"leaf"===this.selectionType&&this.isParent(v)||(!0===m?this.selectedCache.add(v):this.selectedCache.delete(v))}}catch(g){h.e(g)}finally{h.f()}}},updateOpen:function(t,e){var a=this;if(this.nodes.hasOwnProperty(t)){var n=this.nodes[t],i=(0,F.vO)(n.item,this.itemChildren);i&&!i.length&&n.vnode&&!n.vnode.hasLoaded?n.vnode.checkChildren().then((function(){return a.updateOpen(t,e)})):i&&i.length&&(n.isOpen=e,n.isOpen?this.openCache.add(t):this.openCache.delete(t),this.updateVnodeState(t))}},updateVnodeState:function(t){var e=this.nodes[t];e&&e.vnode&&(e.vnode.isSelected=e.isSelected,e.vnode.isIndeterminate=e.isIndeterminate,e.vnode.isActive=e.isActive,e.vnode.isOpen=e.isOpen)},isExcluded:function(t){return!!this.search&&this.excludedItems.has(t)}},render:function(t){var e=this,a=this.items.length?this.items.filter((function(t){return!e.isExcluded((0,F.vO)(t,e.itemKey))})).map((function(t){var a=z.options.methods.genChild.bind(e);return a(t,e.disabled||(0,F.vO)(t,e.itemDisabled))})):this.$slots.default;return t("div",{staticClass:"v-treeview",class:(0,I.Z)({"v-treeview--hoverable":this.hoverable,"v-treeview--dense":this.dense},this.themeClasses)},a)}}),K=(0,u.Z)(c,n,i,!1,null,null,null),J=K.exports;p()(K,{VBtn:h.Z,VCard:f.Z,VCol:v.Z,VContainer:m.Z,VForm:g.Z,VRow:b.Z,VSelect:y.Z,VSnackbar:w.Z,VSpacer:k.Z,VTab:x.Z,VTabItem:S.Z,VTabs:$.Z,VTabsItems:D.Z,VTabsSlider:_.Z,VTextField:C.Z,VToolbar:T.Z,VToolbarTitle:P.qW,VTreeview:Y})},31522:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return S}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"bg",attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{flex:"","align-center":"","justify-center":"",color:"bg"}},[a("v-flex",{attrs:{xs12:"",sm4:"","elevation-6":"",color:"bg"}},[a("v-card",{attrs:{color:"bg"}},[a("v-card-text",{staticClass:"pt-4"},[""!=t.messageText?a("div",[a("v-alert",{attrs:{type:t.msgType}},[t._v(" "+t._s(t.messageText)+" ")])],1):t._e(),a("div",[t.validationWait?a("v-layout",{attrs:{"justify-space-between":""}},[a("v-btn",{attrs:{color:"warning"},on:{click:function(e){t.validationWait=!1}}},[t._v(t._s(t.$t("Cancel")))])],1):a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[t.setPassword?t._e():a("v-text-field",{attrs:{label:t.$t("Enter your email address"),rules:t.emailRules,required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t.resetPassword?t._e():a("v-text-field",{attrs:{label:t.$t("Enter your password"),min:"8","append-icon":t.e1?"mdi-eye ":"mdi-eye-off","append-icon-cb":function(){return t.e1=!t.e1},type:t.e1?"password":"text",rules:t.passwordRules,counter:"",required:""},on:{"click:append":function(){return t.e1=!t.e1}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),!t.resetPassword&&t.setPassword?a("v-text-field",{attrs:{label:t.$t("Re-enter your password"),min:"8","append-icon":t.e2?"eye":"mdi-eye-off","append-icon-cb":function(){return t.e2=!t.e2},type:t.e2?"password":"text",rules:t.checkPasswordRules,counter:"",required:""},on:{"click:append":function(){return t.e2=!t.e2}},model:{value:t.passwordCheck,callback:function(e){t.passwordCheck=e},expression:"passwordCheck"}}):t._e(),t.resetPassword?t._e():a("v-layout",{attrs:{"justify-space-between":""}},[a("v-btn",{class:{"blue darken-4 white--text":t.valid,disabled:!t.valid},on:{click:t.submit}},[t._v(t._s(t.$t("login")))]),a("a",{attrs:{href:"#"},on:{click:t.resetPasswordClick}},[t._v(t._s(t.$t("Forgot Password")))])],1),t.resetPassword?a("v-layout",[a("v-btn",{staticClass:"ma-4",attrs:{color:"primary"},on:{click:t.resetPasswordSubmit}},[t._v(t._s(t.$t("Reset Password")))]),a("v-btn",{staticClass:"ma-4",attrs:{color:"warning"},on:{click:function(e){t.resetPassword=!1}}},[t._v(t._s(t.$t("Cancel")))])],1):t._e()],1)],1)])],1)],1)],1)],1)},i=[],o=(a(74916),a(77601),a(41539),a(38862),a(13888)),r=a(23144),s={name:"LoginPage",data:function(){return{validationWait:!1,resetPassword:!1,setPassword:!1,messageText:"",msgType:"info",valid:!1,e1:!0,e2:!0,password:"",passwordCheck:"",passwordRules:[function(t){return!!t||"Password is required"}],checkPasswordRules:[function(t){return!!t||"Password is required"}],email:"",emailRules:[function(t){return!!t||"Email is required"},function(t){return/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,10})+$/.test(t)||"Email must be valid"}],appData:o.Z}},methods:{checkValidationLoop:function(){var t=this;setTimeout((function(){t.validationWait&&r.Z.post({url:"api/auth/validate",data:{email:t.email,deviceid:o.Z.deviceid,activationkey:o.Z.activationkey}}).then((function(e){console.log(e.data),200==e.data.status||202==e.data.status?(console.log("Pending..."),t.validationWait&&t.checkValidationLoop()):201==e.data.status?(console.log("Validatd!"),1!=e.data.resetpasscode?(t.validationWait=!1,t.messageText=t.$t("Validated!"),t.submit()):(console.log("Reset passcode"),t.messageText=t.$t("Please select new password"),t.password="",t.passwordCheck="",t.validationWait=!1,t.setPassword=!0)):(console.log("Error"),t.validationWait=!1,t.messageText=t.$t("Log in to the Admin Control Panel"))})).catch((function(e){console.log(e),t.validationWait&&t.checkValidationLoop()}))}),1e3)},resetPasswordClick:function(){this.resetPassword=!0,this.messageText=this.$t("Reset password")},resetPasswordSubmit:function(){var t=this;console.log("resetPasswordSubmit.."),r.Z.post({url:"api/auth/reset",data:{userName:this.email,deviceid:o.Z.deviceid,deviceName:o.Z.deviceName,activationkey:o.Z.activationkey}}).then((function(e){console.log(e.data),t.resetPassword=!1,200==e.data.status?(o.Z.activationkey=e.data.activationkey,o.Z.email=t.email,t.validationWait=!0,t.messageText=t.$t("A verification messaage has been sent to your email address. Please click the verification link in that email."),t.checkValidationLoop()):(t.messageText=t.$t("Reset password error"),t.msgType="error",console.log("Error"))})).catch((function(t){return console.log(t)}))},submit:function(){var t=this;console.log("submit"),this.messageText=this.$t("Checking login information"),this.msgType="info";var e={userName:this.email,password:this.password,deviceid:o.Z.deviceid,deviceName:o.Z.deviceName,activationkey:o.Z.activationkey,selectedDomain:o.Z.mainDomain};this.setPassword&&(e.setPassword=this.passwordCheck),setTimeout((function(){r.Z.post({url:"api/auth",data:e}).then((function(e){if(console.log(e.data),t.setPassword=!1,200==e.data.status)o.Z.activationkey=e.data.activationkey,o.Z.email=t.email,t.validationWait=!0,t.messageText=t.$t("A verification messaage has been sent to your email address. Please click the verification link in that email."),t.checkValidationLoop();else if(1!=e.data.status)t.messageText=t.$t("Incorrect email address or password"),t.msgType="error",console.log("Error");else{t.messageText=t.$t("Login successful"),t.msgType="success",o.Z.isAuthenticated=!0,o.Z.adminLoginToken=e.data.loginToken,o.Z.mainDomain=e.data.mainDomain,o.Z.firstname=e.data.firstname,o.Z.lastname=e.data.lastname,o.Z.imageurl=e.data.imageurl,o.Z.email=t.email,o.Z.resetOrgs(e.data.orgs),o.Z.siteAdmin=e.data.siteAdmin,o.Z.siteAdminDomain=e.data.siteAdminDomain;try{o.Z.permissions=JSON.parse(e.data.permissions)}catch(a){console.log("Error parse permissions",a),o.Z.permissions={}}console.log("appData.permissions: "+JSON.stringify(o.Z.permissions,null,2)),o.Z.orgname=e.data.orgname&&""!=e.data.orgname?e.data.orgname:e.data.mainDomain,o.Z.edition=e.data.edition,o.Z.edition||(o.Z.edition="enterprise"),o.Z.deviceTypes=e.data.deviceTypes,o.Z.deviceTypes||(o.Z.deviceTypes=["mobile"]),o.Z.commit(),t.$emit("checkLoginLoop",e.data.loginToken),t.$emit("updatePermissions"),t.$router.push("/")}})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))}),100)}},watch:{validationWait:function(t){console.log("validationWait: ".concat(t)),o.Z.validationWait=t}},created:function(){var t=this;this.validationWait=o.Z.validationWait,this.email=o.Z.email,this.validationWait?(this.messageText=this.$t("A verification messaage has been sent to your email address. Please click the verification link in that email."),this.checkValidationLoop()):this.messageText=this.$t("Log in to the Admin Control Panel"),this.passwordRules=[function(e){return!!e||t.$t("Password is required")}],this.checkPasswordRules=[function(e){return!!e||t.$t("Password is required")},function(e){return e===t.password||"Passwords do not match"}],this.emailRules=[function(e){return!!e||t.$t("Email is required")},function(e){return/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,10})+$/.test(e)||t.$t("Email must be valid")}],this.$emit("updatePage","Login")}},l=s,c=a(1001),u=a(43453),d=a.n(u),p=a(51234),h=a(63150),f=a(32371),v=a(37118),m=a(4228),g=(a(68582),a(88006)),b=(0,g.Z)("flex"),y=a(46232),w=(0,g.Z)("layout"),k=a(55978),x=(0,c.Z)(l,n,i,!1,null,null,null),S=x.exports;d()(x,{VAlert:p.Z,VBtn:h.Z,VCard:f.Z,VCardText:v.ZB,VContainer:m.Z,VFlex:b,VForm:y.Z,VLayout:w,VTextField:k.Z})},17371:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return T}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:"bg"}},[a("v-toolbar",{attrs:{color:"secondary",dark:"",flat:""},scopedSlots:t._u([{key:"extension",fn:function(){return[a("v-tabs",{attrs:{"align-with-title":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tabs-slider",{attrs:{color:"primary"}}),a("v-tab",{key:"events"},[t._v(" "+t._s(t.$t("Events"))+" ")]),t.appData.checkPermission("@/","r")?a("v-tab",{key:"list"},[t._v(" "+t._s(t.$t("Syslog"))+" ")]):t._e()],1)]},proxy:!0}])},[a("v-toolbar-title",[t._v(" "+t._s(t.$t("Logs")))]),a("v-spacer")],1),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",{key:"events",staticClass:"bg"},[a("v-data-table",{staticClass:"elevation-1 ma-4 bg",attrs:{headers:t.eventsHeaders,items:t.eventsRows,"items-per-page":20,loading:t.eventsLoading,search:t.eventsSearch},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"bg"}},[a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:t.$t("Search"),"single-line":"","hide-details":""},model:{value:t.eventsSearch,callback:function(e){t.eventsSearch=e},expression:"eventsSearch"}})],1)]},proxy:!0},{key:"item.time",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.moment(a.time).format("LLL"))+" ")]}}],null,!0)})],1),a("v-tab-item",{key:"list",staticClass:"bg"},[a("v-data-table",{staticClass:"ma-4 bg",attrs:{color:"bg",headers:t.headers,items:t.rows,"server-items-length":t.totalItems,"items-per-page":10,loading:t.loading,options:t.options,search:t.search,"multi-sort":""},on:{"update:options":[function(e){t.options=e},t.updateOptions],"click:row":t.rowClick},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"bg"}},[a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]},proxy:!0},{key:"header.ComponentType",fn:function(e){var n=e.header;return[a("v-combobox",{staticClass:"input-combobox",attrs:{items:t.itemsComponentType,label:n.text},on:{change:t.compChanged},model:{value:t.selectComponentType,callback:function(e){t.selectComponentType=e},expression:"selectComponentType"}})]}},{key:"header.ServerName",fn:function(e){var n=e.header;return[a("v-combobox",{staticClass:"input-combobox",attrs:{items:t.itemsServerName,label:n.text},on:{change:t.serverNameChanged},model:{value:t.selectServerName,callback:function(e){t.selectServerName=e},expression:"selectServerName"}})]}},{key:"header.LogLevel",fn:function(e){var n=e.header;return[a("v-combobox",{staticClass:"input-combobox",attrs:{items:t.itemsLogLevel,label:n.text},on:{change:t.logLevelChanged},model:{value:t.selectLogLevel,callback:function(e){t.selectLogLevel=e},expression:"selectLogLevel"}})]}},{key:"item.LogLevel",fn:function(e){var n=e.item;return[n.LogLevel<=3?a("v-chip",{staticClass:"ma-2",attrs:{color:"error","text-color":"white"}},[t._v(" "+t._s(t.$t("Error"))+" ")]):4==n.LogLevel?a("v-chip",{staticClass:"ma-2",attrs:{color:"warning","text-color":"white"}},[t._v(" "+t._s(t.$t("Warning"))+" ")]):n.LogLevel<=6?a("v-chip",{staticClass:"ma-2"},[t._v(" "+t._s(t.$t("Information"))+" ")]):a("v-chip",{staticClass:"ma-2"},[t._v(" "+t._s(t.$t("Debug"))+" ")])]}},{key:"item.Time",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.moment(a.Time).format("LLL"))+" ")]}}],null,!0)})],1)],1)],1)},i=[],o=(a(41539),a(74916),a(64765),a(54747),a(13888)),r=a(23144),s=a(30381),l={name:"Logs",data:function(){return{tab:{},headers:[],rows:[],search:"",totalItems:0,loading:!0,options:{},selectComponentType:[],itemsComponentType:[],selectServerName:[],itemsServerName:[],selectLogLevel:[],itemsLogLevel:[],logLevel:1e3,comp:null,serverName:null,eventsHeaders:[],eventsRows:[],eventsSearch:"",eventsLoading:!1,moment:s,appData:o.Z}},methods:{updateOptions:function(t){console.log("update:options",t),this.refresh()},rowClick:function(t){console.log("rowClick: ".concat(t.email))},refresh:function(){var t=this,e=this.options.itemsPerPage>0?this.options.itemsPerPage:1e4,a=(this.options.page-1)*e,n=Math.round((new Date).getTime()/1e3-432e3);console.log("refresh.."),r.Z.post({url:"api/logs",data:{s:n,offset:a,limit:e,sortBy:this.options.sortBy,sortDesc:this.options.sortDesc,search:this.search,level:this.logLevel,comp:this.comp,serverName:this.serverName}}).then((function(e){console.log("refresh reponse.."),console.log(e.data),1==e.data.status?(t.rows=e.data.logs,t.totalItems=e.data.count):console.log("status: ".concat(e.data.status))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},logLevelChanged:function(t){console.log(t),this.logLevel=t.value,this.refresh()},compChanged:function(t){console.log(t),this.comp=t,this.refresh()},serverNameChanged:function(t){console.log(t),this.serverName=t,this.refresh()},getFilters:function(){var t=this;console.log("getFilters"),r.Z.get({url:"api/logs/getFilters"}).then((function(e){console.log(e.data),1==e.data.status?(console.log("status: ".concat(e.data.status)),t.itemsComponentType=[],e.data.ComponentType.forEach((function(e){""!=e.ComponentType&&t.itemsComponentType.push(e.ComponentType)})),t.itemsServerName=[],e.data.ServerName.forEach((function(e){""!=e.ServerName&&t.itemsServerName.push(e.ServerName)})),t.itemsLogLevel=[{value:"3",text:t.$t("Error")},{value:"4",text:t.$t("Warning")},{value:"6",text:t.$t("Info")},{value:"7",text:t.$t("Debug")}]):console.log("status: ".concat(e.data.status))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},refreshEvents:function(){var t=this;this.eventsLoading=!0,r.Z.get({url:"api/events"}).then((function(e){t.eventsLoading=!1,console.log(e.data),1==e.data.status?(console.log("status: ".concat(e.data.status)),t.eventsRows=e.data.events):console.log("status: ".concat(e.data.status))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1})),this.eventsHeaders=[{text:this.$t("Time"),value:"time"},{text:this.$t("Event Type"),value:"eventTypeStr"},{text:this.$t("User"),value:"email"},{text:this.$t("Information"),value:"extrainfo"}]}},created:function(){var t=[{text:this.$t("control-panel"),to:"/",disabled:!1},{text:this.$t("Logs"),to:"/Logs",disabled:!1}];this.$emit("updatePage",t),this.headers=[{text:this.$t("Time"),value:"Time"},{text:this.$t("Log Level"),value:"LogLevel"},{text:this.$t("Server Name"),value:"ServerName"},{text:this.$t("Component Type"),value:"ComponentType"},{text:this.$t("Message"),value:"Message"}],this.getFilters()},watch:{tab:function(t){0==t&&this.refreshEvents()},search:function(t){console.log("search: ".concat(t)),(t.length>1||0==t.length)&&this.refresh()}}},c=l,u=c,d=a(1001),p=a(43453),h=a.n(p),f=a(32371),v=a(95424),m=a(15359),g=a(76277),b=a(99762),y=a(94227),w=a(71759),k=a(38697),x=a(51954),S=a(21208),$=a(55978),D=a(36656),_=a(27921),C=(0,d.Z)(u,n,i,!1,null,null,null),T=C.exports;h()(C,{VCard:f.Z,VChip:v.Z,VCombobox:m.Z,VDataTable:g.Z,VSpacer:b.Z,VTab:y.Z,VTabItem:w.Z,VTabs:k.Z,VTabsItems:x.Z,VTabsSlider:S.Z,VTextField:$.Z,VToolbar:D.Z,VToolbarTitle:_.qW})},89717:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return S}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(" "+t._s(t.$t("Organization"))+" ")]),a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",[a("v-row",[a("v-col",{staticClass:"py-2"},[a("v-text-field",{attrs:{label:t.$t("Domain"),readonly:!t.newOrg,rules:t.requiredRules},model:{value:t.details.maindomain,callback:function(e){t.$set(t.details,"maindomain",e)},expression:"details.maindomain"}})],1)],1),a("v-row",[a("v-col",{staticClass:"py-2"},[a("v-text-field",{attrs:{label:t.$t("Organization Name")},model:{value:t.details.orgname,callback:function(e){t.$set(t.details,"orgname",e)},expression:"details.orgname"}})],1)],1),a("v-row",[a("v-col",{staticClass:"py-2"},[a("v-text-field",{attrs:{label:t.$t("Invite Profile URL")},model:{value:t.details.inviteurl,callback:function(e){t.$set(t.details,"inviteurl",e)},expression:"details.inviteurl"}})],1)],1),a("v-row",[a("v-col",{staticClass:"py-2"},[a("v-text-field",{attrs:{label:t.$t("Watermark")},model:{value:t.details.watermark,callback:function(e){t.$set(t.details,"watermark",e)},expression:"details.watermark"}})],1)],1)],1),a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-btn",{staticClass:"mr-4",attrs:{color:"primary",loading:t.saveLoading},on:{click:t.saveDetails}},[t._v(" "+t._s(t.$t("Save"))+" ")])],1)],1)],1)],1),a("v-snackbar",{attrs:{timeout:2e3},scopedSlots:t._u([{key:"action",fn:function(e){var n=e.attrs;return[a("v-btn",t._b({attrs:{color:"primary",text:""},on:{click:function(e){t.snackbarSave=!1}}},"v-btn",n,!1),[t._v(" "+t._s(t.$t("Close"))+" ")])]}}]),model:{value:t.snackbarSave,callback:function(e){t.snackbarSave=e},expression:"snackbarSave"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},i=[],o=(a(74916),a(15306),a(41539),a(13888)),r=a(23144),s={name:"Org",data:function(){return{domain:"",newOrg:!0,snackbarSave:!1,snackbarText:"",details:{},valid:!0,appData:o.Z}},methods:{saveDetails:function(){var t=this;if(this.$refs.form.validate(),this.valid){this.newOrg&&(this.domain=this.details.maindomain);var e=this.details;this.saveLoading=!0,console.log(e),r.Z.post({url:"api/orgs/"+encodeURIComponent(this.domain),data:e}).then((function(e){t.saveLoading=!1,console.log(e.data),1==e.data.status?(t.snackbarText=t.$t("Saved"),t.newOrg&&(t.newOrg=!1,t.snackbarText=t.$t("Domain added"),t.snackbarSave=!0,t.updatePageHead(),t.$router.replace("/Org/"+encodeURIComponent(t.domain)),t.refreshAppDataOrgs()),t.snackbarSave=!0,t.refresh()):(console.log("status: ".concat(e.data.status)),t.snackbarSave=!0,t.snackbarText=t.$t("Error"))})).catch((function(t){return console.log(t)}))}},refresh:function(){var t=this;this.newOrg||(console.log("domain: ".concat(this.domain)),r.Z.get({url:"api/orgs/"+encodeURIComponent(this.domain)}).then((function(e){console.log(e.data),1==e.data.status?(console.log("status: ".concat(e.data.status)),e.data.orgs&&1==e.data.orgs.length?t.details=e.data.orgs[0]:t.details={}):console.log("status: ".concat(e.data.status))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1})))},refreshAppDataOrgs:function(){var t=this;r.Z.get({url:"api/orgs"}).then((function(e){console.log(e.data),1==e.data.status?(t.rows=e.data.orgs,t.rows&&o.Z.resetOrgs(t.rows)):console.log("status: ".concat(e.data.status))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},updatePageHead:function(){var t=[{text:this.$t("control-panel"),to:"/",disabled:!1},{text:this.$t("Organizations"),to:"/Orgs",disabled:!1},{text:this.domain,to:"/Org/"+this.domain,disabled:!1}];this.$emit("updatePage",t)}},created:function(){var t=this;this.domain=this.$route.params.domain,this.domain||(this.domain=""),""==this.domain?this.newOrg=!0:this.newOrg=!1,this.requiredRules=[function(e){return!!e||t.$t("Field is required")}],this.updatePageHead(),this.refresh()},watch:{}},l=s,c=l,u=a(1001),d=a(43453),p=a.n(d),h=a(63150),f=a(32371),v=a(37118),m=a(82102),g=a(4228),b=a(46232),y=a(62877),w=a(13202),k=a(55978),x=(0,u.Z)(c,n,i,!1,null,null,null),S=x.exports;p()(x,{VBtn:h.Z,VCard:f.Z,VCardTitle:v.EB,VCol:m.Z,VContainer:g.Z,VForm:b.Z,VRow:y.Z,VSnackbar:w.Z,VTextField:k.Z})},34121:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return S}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(" "+t._s(t.$t("Organization List"))+" "),a("v-spacer")],1),a("v-data-table",{staticClass:"elevation-1 ma-4 bg",attrs:{headers:t.headers,items:t.rows,loading:t.loading},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"bg"}},[a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:t.addOrg}},[t._v(" "+t._s(t.$t("Add Organization"))+" ")])],1)]},proxy:!0},{key:"item.actions",fn:function(e){var n=e.item;return[a("v-icon",{staticClass:"mx-2",attrs:{small:""},on:{click:function(e){return t.$router.push("/Org/"+n.maindomain)}}},[t._v(" mdi-pencil ")]),n.maindomain!=t.appData.mainDomain?a("v-icon",{staticClass:"mx-2",attrs:{small:""},on:{click:function(e){return t.deleteOrgDialog(n)}}},[t._v(" mdi-delete ")]):t._e()]}}],null,!0)}),a("v-dialog",{attrs:{"max-width":"500px",color:"bg"},model:{value:t.dialogDeleteOrg,callback:function(e){t.dialogDeleteOrg=e},expression:"dialogDeleteOrg"}},[a("v-card",{attrs:{color:"bg"}},[a("v-card-subtitle",{staticClass:"headline"},[t._v(t._s(t.$t("Are you sure you want to delete organization",{domain:t.deleteItem.maindomain})))]),a("v-card-text",[t._v(t._s(t.$t("Warning: All data including profiles, apps, and configuration data will be deleted!")))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"warning"},on:{click:function(e){t.dialogDeleteOrg=!1}}},[t._v(t._s(t.$t("Cancel")))]),a("v-btn",{attrs:{color:"error"},on:{click:function(e){return t.deleteOrg()}}},[t._v(t._s(t.$t("OK")))]),a("v-spacer")],1)],1)],1),a("v-snackbar",{attrs:{timeout:2e3},scopedSlots:t._u([{key:"action",fn:function(e){var n=e.attrs;return[a("v-btn",t._b({attrs:{color:"info",text:""},on:{click:function(e){t.snackbarSave=!1}}},"v-btn",n,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbarSave,callback:function(e){t.snackbarSave=e},expression:"snackbarSave"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},i=[],o=(a(41539),a(13888)),r=a(23144),s={name:"Orgs",data:function(){return{headers:[],rows:[],dialog:!1,search:"",totalItems:0,loading:!0,options:{},snackbarSave:!1,snackbarText:"",dialogDeleteOrg:!1,deleteItem:{},resetOrgsInAppData:!1,appData:o.Z}},methods:{addOrg:function(){this.$router.push("/Org/")},rowClick:function(t){console.log("rowClick: ".concat(t.maindomain)),this.$router.push("/Admin/"+t.maindomain)},deleteOrgDialog:function(t){this.deleteItem=t,this.dialogDeleteOrg=!0},deleteOrg:function(){var t=this;console.log("Delete org: ".concat(this.deleteItem.maindomain)),this.dialogDeleteOrg=!1,r.Z["delete"]({url:"api/orgs/"+encodeURIComponent(this.deleteItem.maindomain)}).then((function(e){console.log(e.data),1==e.data.status?(t.snackbarText=t.$t("Organization removed"),t.snackbarSave=!0,t.resetOrgsInAppData=!0,t.refresh()):(console.log("status: ".concat(e.data.status)),t.snackbarText=t.$t("Error")+" - ".concat(e.data.message),t.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},refresh:function(){var t=this;r.Z.get({url:"api/orgs"}).then((function(e){console.log(e.data),1==e.data.status?(t.rows=e.data.orgs,t.resetOrgsInAppData&&o.Z.resetOrgs(t.rows)):(console.log("status: ".concat(e.data.status)),t.$router.push("/Login"))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))}},created:function(){var t=[{text:this.$t("control-panel"),to:"/",disabled:!1},{text:this.$t("Organizations"),to:"/Orgs",disabled:!1}];this.$emit("updatePage",t),this.headers=[{text:this.$t("Domain"),value:"maindomain"},{text:this.$t("Organization Name"),value:"orgname"},{text:this.$t("Actions"),value:"actions",sortable:!1}],this.refresh()},watch:{}},l=s,c=l,u=a(1001),d=a(43453),p=a.n(d),h=a(63150),f=a(32371),v=a(37118),m=a(76277),g=a(4497),b=a(96428),y=a(13202),w=a(99762),k=a(36656),x=(0,u.Z)(c,n,i,!1,null,null,null),S=x.exports;p()(x,{VBtn:h.Z,VCard:f.Z,VCardActions:v.h7,VCardSubtitle:v.Qq,VCardText:v.ZB,VCardTitle:v.EB,VDataTable:m.Z,VDialog:g.Z,VIcon:b.Z,VSnackbar:y.Z,VSpacer:w.Z,VToolbar:k.Z})},5424:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return _}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(t._s(t.$t("Platforms")))]),a("v-data-table",{staticClass:"elevation-1 ma-4 bg",attrs:{headers:t.headers,items:t.rows,"items-per-page":20,loading:t.loading},on:{"click:row":t.rowClick},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"bg"}},[a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:t.startNew}},[t._v(" "+t._s(t.$t("Start New Platform"))+" ")])],1)]},proxy:!0},{key:"item.status",fn:function(e){var n=e.item;return["running"==n.status?a("v-chip",{staticClass:"ma-2",attrs:{color:"success","text-color":"white"}},[t._v(" "+t._s(t.$t("Running"))+" ")]):t._e(),"error"==n.status?a("v-chip",{staticClass:"ma-2",attrs:{color:"error","text-color":"white"}},[t._v(" "+t._s(t.$t("Error"))+" ")]):t._e(),"revive"==n.status?a("v-chip",{staticClass:"ma-2",attrs:{color:"warning","text-color":"white"}},[t._v(" "+t._s(t.$t("Revive"))+" ")]):t._e(),"starting"==n.status?a("v-chip",{staticClass:"ma-2",attrs:{color:"warning","text-color":"white"}},[t._v(" "+t._s(t.$t("Starting"))+" ")]):t._e(),"stopping"==n.status?a("v-chip",{staticClass:"ma-2",attrs:{color:"warning","text-color":"white"}},[t._v(" "+t._s(t.$t("Stopping"))+" ")]):t._e(),"available"==n.status?a("v-chip",{staticClass:"ma-2",attrs:{"text-color":"white"}},[t._v(" "+t._s(t.$t("Available"))+" ")]):t._e(),"not_available"==n.status?a("v-chip",{staticClass:"ma-2",attrs:{"text-color":"white"}},[t._v(" "+t._s(t.$t("Not Available"))+" ")]):t._e()]}},{key:"item.actions",fn:function(e){var n=e.item;return["running"==n.status||"error"==n.status||"revive"==n.status?a("v-icon",{staticClass:"mx-2",attrs:{small:""},on:{click:function(e){return t.stopCheck(n,e)}}},[t._v(" mdi-stop ")]):t._e(),"available"==n.status?a("v-icon",{staticClass:"mx-2",attrs:{small:""},on:{click:function(e){return t.start(n,e)}}},[t._v(" mdi-play ")]):t._e()]}}],null,!0)}),a("v-dialog",{attrs:{persistent:"","max-width":"590"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[t._v(" "+t._s(t.$t("Stop platform",{stopPlatID:t.stopPlatID}))+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" "+t._s(t.$t("Cancel"))+" ")]),"running"==t.stopStatus?a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:t.stopGracefully}},[t._v(" "+t._s(t.$t("Stop Gracefully"))+" ")]):t._e(),a("v-btn",{attrs:{color:"orange darken-1",text:""},on:{click:t.stopNow}},[t._v(" "+t._s(t.$t("Stop Now"))+" ")])],1)],1)],1),a("v-snackbar",{attrs:{timeout:2e3},scopedSlots:t._u([{key:"action",fn:function(e){var n=e.attrs;return[a("v-btn",t._b({attrs:{color:"info",text:""},on:{click:function(e){t.snackbarSave=!1}}},"v-btn",n,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbarSave,callback:function(e){t.snackbarSave=e},expression:"snackbarSave"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},i=[],o=a(62032),r=(a(92222),a(41539),a(54747),a(56977),a(68309),a(13888)),s=a(23144),l=a(30381),c={name:"Platforms",data:function(){return{headers:[],rows:[],search:"",totalItems:0,loading:!0,options:{},dialog:!1,stopPlatID:0,stopStatus:"",snackbarSave:!1,snackbarText:"",appData:r.Z}},methods:{rowClick:function(t){console.log("rowClick: ".concat(t.platID)),this.$router.push("/Platform/"+t.platID)},stopCheck:function(t,e){e.stopPropagation(),this.stopStatus=t.status,this.stopPlatID=t.platID,this.dialog=!0},scheduleLongOperCheck:function(t,e){var a=this;console.log("scheduleLongOperCheck: "+t),s.Z.get({url:"api/longOperations/"+t}).then((function(n){console.log(n.data),50==n.data.status?setTimeout(a.scheduleLongOperCheck,5e3,t,e):1==n.data.status?(console.log("response.data.status == 1"),a.$notification.success(n.data.message,{title:e,infiniteTimer:!0,showCloseIcn:!0})):(console.log("response.data.status != 1"),a.$notification.error(n.data.message,{title:e,infiniteTimer:!0,showCloseIcn:!0}))})).catch((function(t){return console.log(t)}))},stopGracefully:function(){this.stop(!0)},stopNow:function(){this.stop(!1)},stop:function(t){var e=this;this.dialog=!1;var a=t?"?gracefully=Y":"?gracefully=N";console.log("stop: ".concat(this.stopPlatID,", gracefully: ").concat(t)),s.Z["delete"]({url:"api/platforms/"+this.stopPlatID+a}).then((function(t){console.log(t.data),1==t.data.status?(e.snackbarText=e.$t("Stopping platform")+" "+e.stopPlatID,e.snackbarSave=!0,t.data.notifToken&&e.scheduleLongOperCheck(t.data.notifToken,e.$t("Stopping platform")+" "+e.stopPlatID)):(console.log("status: ".concat(t.data.status)),e.snackbarText=e.$t("Error"),e.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){return e.loading=!1}))},startNew:function(){var t=this,e=!1;this.rows.forEach((function(a){e||"available"!=a.status||(e=!0,t.start(a))})),e||(this.snackbarText=this.$t("Cannot find available platform"),this.snackbarSave=!0)},start:function(t,e){var a=this;e.stopPropagation(),s.Z.put({url:"api/platforms/"+t.platID}).then((function(e){console.log(e.data),1==e.data.status?(a.snackbarText=a.$t("Starting platform")+" "+t.platID,a.snackbarSave=!0,e.data.notifToken&&a.scheduleLongOperCheck(e.data.notifToken,a.$t("Starting platform")+" "+t.platID)):(console.log("status: ".concat(e.data.status)),a.snackbarText=a.$t("Error"),a.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){return a.loading=!1}))},printMem:function(t){if(isNaN(t))return"";var e=t/1024;if(e<1)return"".concat(t," bytes");var a=e/1024;if(a<1)return"".concat(e.toFixed(1)," kb");var n=a/1024;return n<1?"".concat(a.toFixed(1)," mb"):"".concat(n.toFixed(1)," gb")},refresh:function(){var t=this;console.log("Platforms refresh. route: "+this.$route.name),"Platforms"==this.$route.name&&s.Z.get({url:"api/platforms"}).then((function(e){if(console.log(e.data),1==e.data.status){var a,n=(0,o.Z)(e.data.platforms);try{for(n.s();!(a=n.n()).done;){var i=a.value;i.availMem=i.params?"".concat(t.printMem(i.params.memAvailable)):"",i.cpuLoad=i.params&&!isNaN(i.params.currentLoad)?"".concat((1*i.params.currentLoad).toFixed(1),"%"):"",i.uptime=i.params&&i.params.startTime?l(i.params.startTime).fromNow():""}}catch(r){n.e(r)}finally{n.f()}t.rows=e.data.platforms,setTimeout(t.refresh,5e3)}else console.log("status: ".concat(e.data.status)),t.rows=[]})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))}},created:function(){var t=[{text:this.$t("control-panel"),to:"/",disabled:!1},{text:this.$t("Platforms"),to:"/Platforms",disabled:!1}];this.$emit("updatePage",t),this.headers=[{text:this.$t("Platform ID"),value:"platID"},{text:this.$t("Status"),value:"status"},{text:this.$t("Current Sessions"),value:"sessions"},{text:this.$t("Created Sessions"),value:"params.created_sessions_cnt"},{text:this.$t("Available Memory"),value:"availMem"},{text:this.$t("CPU Load"),value:"cpuLoad"},{text:this.$t("Up Time"),value:"uptime"},{text:this.$t("IP Address"),value:"platform_ip"},{text:"Actions",value:"actions",sortable:!1}],this.refresh()}},u=c,d=u,p=a(1001),h=a(43453),f=a.n(h),v=a(63150),m=a(32371),g=a(37118),b=a(95424),y=a(76277),w=a(4497),k=a(96428),x=a(13202),S=a(99762),$=a(36656),D=(0,p.Z)(d,n,i,!1,null,null,null),_=D.exports;f()(D,{VBtn:v.Z,VCard:m.Z,VCardActions:g.h7,VCardTitle:g.EB,VChip:b.Z,VDataTable:y.Z,VDialog:w.Z,VIcon:k.Z,VSnackbar:x.Z,VSpacer:S.Z,VToolbar:$.Z})},25276:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return F}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:"bg"}},[a("v-toolbar",{attrs:{color:"secondary",dark:"",flat:""},scopedSlots:t._u([{key:"extension",fn:function(){return[a("v-tabs",{attrs:{"align-with-title":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tabs-slider",{attrs:{color:"primary"}}),a("v-tab",{key:"details"},[t._v(" "+t._s(t.$t("Details"))+" ")]),t.newProfile?t._e():a("v-tab",{key:"activity"},[t._v(" "+t._s(t.$t("Activity"))+" ")]),t.newProfile?t._e():a("v-tab",{key:"apps"},[t._v(" "+t._s(t.$t("Apps"))+" ")]),t.newProfile?t._e():a("v-tab",{key:"devices"},[t._v(" "+t._s(t.$t("Devices"))+" ")]),t.newProfile?t._e():a("v-tab",{key:"groups"},[t._v(" "+t._s(t.$t("Groups"))+" ")])],1)]},proxy:!0}])},[t.newProfile?a("v-toolbar-title",[t._v(t._s(t.$t("New Profile")))]):a("v-toolbar-title",[t._v(t._s(t.details.firstname)+" "+t._s(t.details.lastname))]),a("v-spacer"),!t.newProfile&&t.appData.checkPermission("/profiles","w")?a("v-menu",{attrs:{bottom:"",left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({attrs:{dark:"",icon:""}},"v-btn",i,!1),n),[a("v-icon",[t._v("mdi-dots-vertical")])],1)]}}],null,!1,1510716892)},[a("v-list",[a("v-list-item",{on:{click:function(e){return t.sendInvitation()}}},[a("v-list-item-title",[t._v(t._s(t.$t("Send invitation")))])],1),a("v-list-item",{on:{click:function(e){t.dialogDeleteProfile=!0}}},[a("v-list-item-title",[t._v(t._s(t.$t("Delete profile")))])],1)],1)],1):t._e(),a("v-dialog",{attrs:{"max-width":"500px",color:"bg"},model:{value:t.dialogDeleteProfile,callback:function(e){t.dialogDeleteProfile=e},expression:"dialogDeleteProfile"}},[a("v-card",{attrs:{color:"bg"}},[a("v-card-subtitle",{staticClass:"headline"},[t._v(t._s(t.$t("Are you sure you want to delete profile",{profileName:t.details.firstname+" "+t.details.lastname})))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"warning"},on:{click:function(e){t.dialogDeleteProfile=!1}}},[t._v(t._s(t.$t("Cancel")))]),a("v-btn",{attrs:{color:"error"},on:{click:function(e){return t.deleteProfile()}}},[t._v(t._s(t.$t("OK")))]),a("v-spacer")],1)],1)],1)],1),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",{key:"details"},[a("v-card",{staticClass:"ma-0",attrs:{flat:"",color:"bg"}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("First Name"),rules:t.requiredRules},model:{value:t.details.firstname,callback:function(e){t.$set(t.details,"firstname",e)},expression:"details.firstname"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("Last Name"),rules:t.requiredRules},model:{value:t.details.lastname,callback:function(e){t.$set(t.details,"lastname",e)},expression:"details.lastname"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("Office Phone")},model:{value:t.details.officePhone,callback:function(e){t.$set(t.details,"officePhone",e)},expression:"details.officePhone"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("Mobile Phone")},model:{value:t.details.mobilePhone,callback:function(e){t.$set(t.details,"mobilePhone",e)},expression:"details.mobilePhone"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("Manager")},model:{value:t.details.manager,callback:function(e){t.$set(t.details,"manager",e)},expression:"details.manager"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("Country")},model:{value:t.details.country,callback:function(e){t.$set(t.details,"country",e)},expression:"details.country"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("Email"),readonly:!t.newProfile,rules:t.emailRules},model:{value:t.details.email,callback:function(e){t.$set(t.details,"email",e)},expression:"details.email"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("User Name"),readonly:""},model:{value:t.details.userName,callback:function(e){t.$set(t.details,"userName",e)},expression:"details.userName"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[t.appData.checkPermission("/profiles","w")?a("v-btn",{staticClass:"mr-4",attrs:{color:"primary",loading:t.saveLoading},on:{click:t.saveDetails}},[t._v(" "+t._s(t.$t("Save"))+" ")]):t._e()],1)],1)],1)],1)],1)],1),a("v-tab-item",{key:"activity"},[a("v-card",{staticClass:"ma-0",attrs:{flat:"",color:"bg"}},[a("v-form",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("Last Login"),readonly:""},model:{value:t.details.lastActivityTimeFormat,callback:function(e){t.$set(t.details,"lastActivityTimeFormat",e)},expression:"details.lastActivityTimeFormat"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("Data Center"),readonly:""},model:{value:t.details.dataCenter,callback:function(e){t.$set(t.details,"dataCenter",e)},expression:"details.dataCenter"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("Storage Usage"),readonly:""},model:{value:t.details.storageUsage,callback:function(e){t.$set(t.details,"storageUsage",e)},expression:"details.storageUsage"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("EWS Subscription"),readonly:""},model:{value:t.details.subscriptionUpdateDateFormat,callback:function(e){t.$set(t.details,"subscriptionUpdateDateFormat",e)},expression:"details.subscriptionUpdateDateFormat"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[t.appData.checkPermission("/profiles","w")?a("v-btn",{attrs:{color:"primary"},on:{click:t.notificationTest}},[t._v(t._s(t.$t("Notification Test")))]):t._e()],1)],1),a("v-row",[a("v-card",{staticClass:"mt-6",attrs:{color:"bg"}},[a("v-card-title",[t._v(t._s(t.$t("Activity Log")))]),a("v-data-table",{staticClass:"elevation-1 ma-4 bg",attrs:{headers:t.logsHead,items:t.logsRows,"items-per-page":20,loading:t.logsLoading,"sort-by":t.logsSort,"sort-desc":t.logsSortDesc},on:{"update:sortBy":function(e){t.logsSort=e},"update:sort-by":function(e){t.logsSort=e},"update:sortDesc":function(e){t.logsSortDesc=e},"update:sort-desc":function(e){t.logsSortDesc=e}},scopedSlots:t._u([{key:"item.Time",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.moment(a.Time).format("LLL"))+" ")]}}],null,!0)})],1)],1)],1)],1)],1)],1),a("v-tab-item",{key:"apps"},[a("v-card",{attrs:{flat:"",color:"bg"}},[a("v-card-title",[t._v(t._s(t.$t("App List")))]),a("v-dialog",{attrs:{"max-width":"500px",color:"bg"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[a("v-card",{attrs:{color:"bg"}},[a("v-card-title",{staticClass:"headline"},[t._v(t._s(t.$t("Are you sure you want to delete",{deleteAppName:t.deleteAppItem.appName})))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"warning"},on:{click:t.closeDelete}},[t._v(t._s(t.$t("Cancel")))]),a("v-btn",{attrs:{color:"primary"},on:{click:t.deleteAppConfirm}},[t._v(t._s(t.$t("OK")))]),a("v-spacer")],1)],1)],1),a("v-data-table",{staticClass:"elevation-1 ma-4 bg",attrs:{headers:t.appsHead,items:t.apps,"items-per-page":10,loading:t.appsLoading,"sort-by":t.appsSort,"sort-desc":t.appsSortDesc},on:{"update:sortBy":function(e){t.appsSort=e},"update:sort-by":function(e){t.appsSort=e},"update:sortDesc":function(e){t.appsSortDesc=e},"update:sort-desc":function(e){t.appsSortDesc=e}},scopedSlots:t._u([{key:"item.imageUrl",fn:function(t){var e=t.item;return[a("v-img",{attrs:{"max-height":"40","max-width":"40",src:e.imageUrl}})]}},{key:"item.actions",fn:function(e){var n=e.item;return[t.appData.checkPermission("/apps","i")?a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.reinstallItem(n)}}},[t._v(" mdi-refresh ")]):t._e(),1==n.privateApp&&t.appData.checkPermission("/apps","i")?a("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteApp(n)}}},[t._v(" mdi-delete ")]):t._e()]}}],null,!0)})],1)],1),a("v-tab-item",{key:"devices"},[a("v-card",{attrs:{flat:"",color:"bg"}},[a("v-card-title",[t._v(t._s(t.$t("Devices")))]),a("v-data-table",{staticClass:"elevation-1 ma-4 bg",attrs:{headers:t.devicesHead,items:t.devices,"items-per-page":10},scopedSlots:t._u([{key:"item.isOnline",fn:function(e){var n=e.item;return[n.isOnline?a("v-chip",{staticClass:"ma-2",attrs:{color:"success","text-color":"white"}},[t._v(" "+t._s(t.$t("Online"))+" ")]):t._e(),!n.isOnline&&n.isActive?a("v-chip",{staticClass:"ma-2",attrs:{color:"warning"}},[t._v(" "+t._s(t.$t("Offline"))+" ")]):t._e(),n.isActive?t._e():a("v-chip",{staticClass:"ma-2",attrs:{color:"error","text-color":"white"}},[t._v(" "+t._s(t.$t("Disabled"))+" ")])]}},{key:"item.actions",fn:function(e){var n=e.item;return[n.isOnline&&t.appData.checkPermission("/profiles","w")?a("v-btn",{staticClass:"ma-1",attrs:{small:"",color:"primary",dark:""},on:{click:function(e){return t.endSession(n)}}},[t._v(" "+t._s(t.$t("End Session"))+" ")]):n.isActive&&t.appData.checkPermission("/profiles","w")?a("v-btn",{staticClass:"ma-1",attrs:{small:"",color:"primary",dark:""},on:{click:function(e){return t.disableDevice(n)}}},[t._v(" "+t._s(t.$t("Disable"))+" ")]):t.appData.checkPermission("/profiles","w")?a("v-btn",{staticClass:"ma-1",attrs:{small:"",color:"primary",dark:""},on:{click:function(e){return t.enableDevice(n)}}},[t._v(" "+t._s(t.$t("Enable"))+" ")]):t._e()]}}],null,!0)})],1)],1),a("v-tab-item",{key:"groups"},[a("v-card",{attrs:{flat:"",color:"bg"}},[a("v-card-title",[t._v(t._s(t.$t("Groups")))]),a("v-data-table",{staticClass:"elevation-1 ma-4 bg",attrs:{headers:t.groupHeaders,items:t.groupRows},scopedSlots:t._u([{key:"item.adDomain",fn:function(e){var n=e.item;return["All"==n.groupName?a("div",[t._v(t._s(t.$t("Automatic")))]):""==n.adDomain?a("div",[t._v(t._s(t.$t("Manual")))]):a("div",[t._v(t._s(t.$t("Active Directory")))])]}}],null,!0)})],1)],1)],1),a("v-snackbar",{attrs:{timeout:2e3},scopedSlots:t._u([{key:"action",fn:function(e){var n=e.attrs;return[a("v-btn",t._b({attrs:{color:"blue",text:""},on:{click:function(e){t.snackbarSave=!1}}},"v-btn",n,!1),[t._v(" "+t._s(t.$t("Close"))+" ")])]}}]),model:{value:t.snackbarSave,callback:function(e){t.snackbarSave=e},expression:"snackbarSave"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},i=[],o=(a(41539),a(92222),a(74916),a(15306),a(77601),a(13888)),r=a(23144),s=a(30381),l={name:"ProfilePage",components:{},data:function(){return{details:{},tab:{},appData:o.Z,saveLoading:!1,snackbarSave:!1,snackbarText:"",moment:s,logsHead:[],logsRows:[],logsLoading:!0,logsSort:"Time",logsSortDesc:!0,appsHead:[],apps:[],appsLoading:!0,appsSort:"appName",appsSortDesc:!1,dialogDelete:!1,deleteAppItem:{},devicesHead:[],devices:[],groupHeaders:[],groupRows:[],newProfile:!1,profileID:null,emailRules:[],requiredRules:[],dialogDeleteProfile:!1,valid:!0}},methods:{deleteApp:function(t){this.deleteAppItem=t,this.dialogDelete=!0},deleteAppConfirm:function(){var t=this;console.log(this.deleteAppItem),this.dialogDelete=!1,r.Z.get({url:"api/apps/".concat(encodeURIComponent(this.deleteAppItem.packageName),"/deleteFromProfiles?email=").concat(encodeURIComponent(this.details.email))}).then((function(e){console.log(e.data),1==e.data.status?(console.log("Success"),t.snackbarText="App deleted",t.snackbarSave=!0,t.loadDetails()):(console.log("status: ".concat(e.data.status)),t.snackbarText="Error",t.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){}))},closeDelete:function(){this.dialogDelete=!1},reinstallItem:function(t){var e=this;console.log("reinstallItem.."),r.Z.get({url:"api/apps/".concat(encodeURIComponent(t.packageName),"/install?email=").concat(encodeURIComponent(this.details.email))+"&privateApp=".concat(encodeURIComponent(t.privateApp))+"&appStoreOnly=0"}).then((function(t){console.log(t.data),1==t.data.status?(console.log("Success"),e.snackbarText="App re-installed",e.snackbarSave=!0):(console.log("status: ".concat(t.data.status)),e.snackbarText="Error",e.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){}))},endSession:function(t){var e=this;r.Z.post({url:"api/devices/".concat(encodeURIComponent(this.details.email),"/").concat(encodeURIComponent(t.IMEI)),data:{action:"endSession"}}).then((function(t){console.log(t.data),1==t.data.status?(console.log("Success"),e.snackbarText=e.$t("Session closed"),e.snackbarSave=!0,e.loadDetails()):(console.log("status: ".concat(t.data.status)),e.snackbarText=e.$t("Error"),e.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){}))},disableDevice:function(t){var e=this;r.Z.post({url:"api/devices/".concat(encodeURIComponent(this.details.email),"/").concat(encodeURIComponent(t.IMEI)),data:{action:"disable"}}).then((function(t){console.log(t.data),1==t.data.status||0==t.data.status?(console.log("Success"),e.snackbarText=e.$t("Device disabled"),e.snackbarSave=!0,e.loadDetails()):(console.log("status: ".concat(t.data.status)),e.snackbarText=e.$t("Error"),e.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){}))},enableDevice:function(t){var e=this;r.Z.post({url:"api/devices/".concat(encodeURIComponent(this.details.email),"/").concat(encodeURIComponent(t.IMEI)),data:{action:"enable"}}).then((function(t){console.log(t.data),1==t.data.status?(console.log("Success"),e.snackbarText=e.$t("Device enabled"),e.snackbarSave=!0,e.loadDetails()):(console.log("status: ".concat(t.data.status)),e.snackbarText=e.$t("Error"),e.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){}))},loadDetails:function(){var t=this;this.newProfile?console.log("loadDetails new profile.."):r.Z.get({url:"api/profiles/"+encodeURIComponent(this.profileID)}).then((function(e){if(console.log(e.data),1==e.data.status){t.details=e.data.details,t.details.email=t.profileID;var a=s(t.details.lastActivityTime);a.isValid()?t.details.lastActivityTimeFormat=a.format("LLL"):t.details.lastActivityTimeFormat="",a=s(t.details.subscriptionUpdateDate),a.isValid()?t.details.subscriptionUpdateDateFormat=a.format("LLL"):t.details.subscriptionUpdateDateFormat="",t.apps=e.data.apps,t.appsHead=[{text:t.$t("Icon"),value:"imageUrl",sortable:!1},{text:t.$t("Name"),value:"appName"},{text:t.$t("Package"),value:"packageName"},{text:"Actions",value:"actions",sortable:!1}],t.appsLoading=!1,t.devices=e.data.devices,t.devicesHead=[{text:t.$t("Name"),value:"deviceName"},{text:t.$t("ID"),value:"IMEI"},{text:t.$t("Created"),value:"insertTime"},{text:t.$t("Online"),value:"isOnline"},{text:t.$t("Platform"),value:"platform"},{text:t.$t("Gateway"),value:"gateway"},{text:"Actions",value:"actions",sortable:!1}],t.groupRows=e.data.groups,t.groupHeaders=[{text:t.$t("Group Name"),value:"groupName"},{text:t.$t("Group Type"),value:"adDomain"}]}else console.log("status: ".concat(e.data.status))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},sendInvitation:function(){var t=this;console.log("sendInvitation"),r.Z.put({url:"api/profiles/"+encodeURIComponent(this.profileID)+"/invite"}).then((function(e){console.log(e.data),1==e.data.status?(t.saveLoading=!1,t.snackbarText=t.$t("Invitation sent"),t.snackbarSave=!0):(t.snackbarText="Error",t.snackbarSave=!0)})).catch((function(e){t.snackbarText="Error",t.snackbarSave=!0,console.log(e)}))},deleteProfile:function(){var t=this;console.log("deleteProfile"),r.Z["delete"]({url:"api/profiles/"+encodeURIComponent(this.profileID)}).then((function(e){console.log(e.data),1==e.data.status?(t.saveLoading=!1,t.snackbarText=t.$t("Profile deleted"),t.snackbarSave=!0,t.$router.push("/Profiles")):(t.snackbarText="Error",t.snackbarSave=!0)})).catch((function(e){t.snackbarText="Error",t.snackbarSave=!0,console.log(e)}))},saveDetails:function(){var t,e=this;(this.$refs.form.validate(),this.valid)&&(this.newProfile?(this.profileID=this.details.email,t="put"):t="post",this.saveLoading=!0,r.Z.req({method:t,url:"api/profiles/"+encodeURIComponent(this.profileID),data:{first:this.details.firstname,last:this.details.lastname,manager:this.details.manager,country:this.details.country,officePhone:this.details.officePhone,mobilePhone:this.details.mobilePhone}}).then((function(t){console.log(t.data),1==t.data.status?(console.log("Success"),e.saveLoading=!1,e.snackbarText=e.$t("Profile saved"),e.snackbarSave=!0,e.newProfile&&(e.newProfile=!1,e.snackbarText=e.$t("Profile added"),e.updatePageHead(),e.$router.replace("/Profile/"+encodeURIComponent(e.profileID)),e.loadDetails())):(console.log("status: ".concat(t.data.status)),e.snackbarText="Error",e.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){return e.saveLoading=!1})))},notificationTest:function(){var t=this;console.log("notificationTest"),r.Z.put({url:"api/notifications",data:{email:this.details.email,titleText:"Test",notifyTime:"Test Notification",notifyLocation:"Test Notification",appName:"test",authKey:"test"}}).then((function(e){console.log(e.data),1==e.data.status?(console.log("Success"),t.snackbarText="Notification Sent",t.snackbarSave=!0):(console.log("status: ".concat(e.data.status)),t.snackbarText="Notification Error",t.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},resetLogin:function(){console.log("resetLogin")},updatePageHead:function(){var t=[{text:this.$t("control-panel"),to:"/",disabled:!1},{text:this.$t("Profiles"),to:"/Profiles",disabled:!1},{text:""!=this.profileID?this.profileID:this.$t("New Profile"),to:"/Profile/"+this.profileID,disabled:!1}];this.$emit("updatePage",t)}},created:function(){var t=this;this.profileID=this.$route.params.id,this.profileID&&""!=this.profileID?this.newProfile=!1:(this.profileID="",this.newProfile=!0),this.updatePageHead(),this.emailRules=[function(e){return!!e||t.$t("Field is required")},function(e){return/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,10})+$/.test(e)||t.$t("Email must be valid")}],this.requiredRules=[function(e){return!!e||t.$t("Field is required")}],this.loadDetails()},watch:{tab:function(t){var e=this;if(1==t){this.logsHead=[{text:this.$t("Time"),value:"Time"},{text:this.$t("Component"),value:"ComponentType"},{text:this.$t("Message"),value:"Message"}];var a=Math.round((new Date).getTime()/1e3-432e3);this.logsLoading=!0,r.Z.get({url:"api/logs?u="+encodeURIComponent(this.details.email)+"&mtype=important&limit=200"+"&s=".concat(a)}).then((function(t){console.log(t.data),1==t.data.status?(console.log("Success"),t.data.logs&&(e.logsRows=t.data.logs,e.logsLoading=!1)):(console.log("status: ".concat(t.data.status)),e.snackbarText="Error",e.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){return e.saveLoading=!1}))}}}},c=l,u=a(1001),d=a(43453),p=a.n(d),h=a(63150),f=a(32371),v=a(37118),m=a(95424),g=a(82102),b=a(4228),y=a(76277),w=a(4497),k=a(46232),x=a(96428),S=a(97047),$=a(16816),D=a(97620),_=a(80413),C=a(76768),T=a(62877),P=a(13202),O=a(99762),A=a(94227),Z=a(71759),I=a(38697),R=a(51954),L=a(21208),E=a(55978),V=a(36656),N=a(27921),j=(0,u.Z)(c,n,i,!1,null,null,null),F=j.exports;p()(j,{VBtn:h.Z,VCard:f.Z,VCardActions:v.h7,VCardSubtitle:v.Qq,VCardTitle:v.EB,VChip:m.Z,VCol:g.Z,VContainer:b.Z,VDataTable:y.Z,VDialog:w.Z,VForm:k.Z,VIcon:x.Z,VImg:S.Z,VList:$.Z,VListItem:D.Z,VListItemTitle:_.V9,VMenu:C.Z,VRow:T.Z,VSnackbar:P.Z,VSpacer:O.Z,VTab:A.Z,VTabItem:Z.Z,VTabs:I.Z,VTabsItems:R.Z,VTabsSlider:L.Z,VTextField:E.Z,VToolbar:V.Z,VToolbarTitle:N.qW})},15932:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return T}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:"bg"}},[a("v-toolbar",{attrs:{color:"secondary",dark:"",flat:""},scopedSlots:t._u([{key:"extension",fn:function(){return[a("v-tabs",{attrs:{"align-with-title":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tabs-slider",{attrs:{color:"primary"}}),a("v-tab",{key:"list"},[t._v(" "+t._s(t.$t("Profile List"))+" ")]),a("v-tab",{key:"online"},[t._v(" "+t._s(t.$t("Online Profiles"))+" ")]),a("v-tab",{key:"approvals"},[t._v(" "+t._s(t.$t("Approvals"))+" ")])],1)]},proxy:!0}])},[a("v-toolbar-title",[t._v(" "+t._s(t.$t("Profiles")))]),a("v-spacer")],1),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",{key:"list",staticClass:"bg"},[a("v-data-table",{staticClass:"ma-4 bg",attrs:{color:"bg",headers:t.headers,items:t.rows,"server-items-length":t.totalItems,"items-per-page":5,loading:t.loading,options:t.options,search:t.search,"multi-sort":""},on:{"update:options":[function(e){t.options=e},t.updateOptions],"click:row":t.rowClick},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"bg"}},[t.appData.checkPermission("/profiles","w")?a("v-btn",{staticClass:"ma-4",attrs:{color:"primary"},on:{click:function(e){return t.$router.push("/Profile/")}}},[t._v(t._s(t.$t("New Profile")))]):t._e(),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]},proxy:!0}])})],1),a("v-tab-item",{key:"online",staticClass:"bg"},[a("v-data-table",{staticClass:"elevation-1 ma-4 bg",attrs:{headers:t.onlineHeads,items:t.onlineRows,"items-per-page":10,loading:t.onlineLoad,expanded:t.onlineExpanded,"item-key":"email","show-expand":"",options:t.onlineOptions},on:{"update:expanded":function(e){t.onlineExpanded=e},"click:row":t.rowClick,"update:options":[function(e){t.onlineOptions=e},t.updateOnlineOptions]},scopedSlots:t._u([{key:"expanded-item",fn:function(e){var n=e.headers,i=e.item;return[a("td",{attrs:{colspan:n.length}},[a("v-data-table",{staticClass:"ma-4 bg",attrs:{headers:t.devicesHeads,items:i.user_devices,"items-per-page":10}})],1)]}}])})],1),a("v-tab-item",{key:"approvals",staticClass:"bg"},[a("v-data-table",{staticClass:"elevation-1 ma-4 bg",attrs:{headers:t.approvalHeads,items:t.approvalRows,"items-per-page":10,loading:t.approvalLoad,expanded:t.approvalsExpanded,"group-by":"Profile","show-expand":"","show-select":"","item-key":"item_key",options:t.approvalOptions},on:{"update:expanded":function(e){t.approvalsExpanded=e},"update:options":[function(e){t.approvalOptions=e},t.updateApprovalOptions]},scopedSlots:t._u([{key:"top",fn:function(){return[t.selectedApprovals.length>0?a("v-toolbar",{attrs:{flat:"",color:"bg"}},[t.appData.checkPermission("/profiles","w")?a("v-btn",{staticClass:"ma-4",attrs:{color:"success"},on:{click:function(e){return t.approveSelected(!0)}}},[t._v(t._s(t.$t("Approve Selected")))]):t._e(),t.appData.checkPermission("/profiles","w")?a("v-btn",{staticClass:"ma-4",attrs:{color:"error"},on:{click:function(e){return t.approveSelected(!1)}}},[t._v(t._s(t.$t("Disapprove Selected")))]):t._e()],1):t._e()]},proxy:!0},{key:"group.header",fn:function(e){var n=e.isOpen,i=e.toggle,o=e.group,r=e.headers;return[a("td",{staticClass:"accent",attrs:{colspan:r.length}},[a("v-btn",{attrs:{icon:""},on:{click:i}},[a("v-icon",[t._v(" "+t._s(n?"$minus":"$plus")+" ")])],1),t._v(" "+t._s(o)+" ")],1)]}},{key:"expanded-item",fn:function(e){var n=e.headers,i=e.item;return[a("td",{attrs:{colspan:n.length}},[t._v(" "+t._s(t.$t("Device ID"))+": "+t._s(i.deviceid)+" ")])]}},{key:"item.approvalType",fn:function(e){var n=e.item;return["activate"==n.approvalType?a("v-chip",[t._v(t._s(t.$t("Activate Device")))]):t._e(),"unlock passcode"==n.approvalType?a("v-chip",[t._v(t._s(t.$t("Unlock Device")))]):t._e(),"reset passcode"==n.approvalType?a("v-chip",[t._v(t._s(t.$t("Reset Password")))]):t._e(),"reset biometric"==n.approvalType?a("v-chip",[t._v(t._s(t.$t("Reset Biometric Key")))]):t._e(),"admin"==n.approvalType?a("v-chip",[t._v(t._s(t.$t("Activate Control Panel")))]):t._e(),"admin reset"==n.approvalType?a("v-chip",[t._v(t._s(t.$t("Reset Admin Password")))]):t._e(),"reset otp"==n.approvalType?a("v-chip",[t._v(t._s(t.$t("Reset OTP Code")))]):t._e()]}},{key:"item.actions",fn:function(e){var n=e.item;return[t.appData.checkPermission("/profiles","w")?a("v-icon",{staticClass:"mx-2",attrs:{color:"success"},on:{click:function(e){return t.approveItem(n,!0)}}},[t._v(" mdi-check-bold ")]):t._e(),t.appData.checkPermission("/profiles","w")?a("v-icon",{staticClass:"mx-2",attrs:{color:"error"},on:{click:function(e){return t.approveItem(n,!1)}}},[t._v(" mdi-close-thick ")]):t._e()]}}],null,!0),model:{value:t.selectedApprovals,callback:function(e){t.selectedApprovals=e},expression:"selectedApprovals"}})],1)],1)],1)},i=[],o=(a(68309),a(41539),a(54747),a(92222),a(40561),a(74916),a(64765),a(38862),a(13888)),r=a(23144),s={name:"ProfilesPage",data:function(){return{tab:{},headers:[],rows:[],search:"",totalItems:0,loading:!0,options:{},approvalLoad:!1,approvalRows:[],approvalHeads:[],approvalsExpanded:[],approvalOptions:{},selectedApprovals:[],onlineLoad:!1,onlineRows:[],onlineHeads:[],onlineExpanded:[],onlineOptions:{},devicesHeads:[],appData:o.Z}},methods:{savePage:function(){r.Z.savePageData("".concat(s.name),this,["options","search","approvalOptions","onlineOptions","tab"])},updateOptions:function(){this.savePage(),this.refresh()},updateOnlineOptions:function(){this.savePage()},updateApprovalOptions:function(){this.savePage()},rowClick:function(t){console.log("rowClick: ".concat(t.email)),this.$router.push("/Profile/"+t.email)},approveSelected:function(t){var e=this;console.log("approveSelected"),this.selectedApprovals.forEach((function(a){e.approveItem(a,t)})),this.selectedApprovals=[]},approveItem:function(t,e){var a,n=this;a=e?"put":"delete",r.Z.req({method:a,url:"api/approvals/".concat(encodeURIComponent(t.email),"/").concat(encodeURIComponent(t.deviceid),"/").concat(encodeURIComponent(t.approvalType))}).then((function(e){if(1==e.data.status){console.log("status: ".concat(e.data.status));for(var a=0;a<n.approvalRows.length;a++)n.approvalRows[a].deviceid==t.deviceid&&n.approvalRows[a].email==t.email&&n.approvalRows.splice(a,1)}else console.log("status: ".concat(e.data.status))})).catch((function(t){console.log(t)}))},loadApprovals:function(){var t=this;console.log("loadApprovals"),this.approvalLoad=!0,r.Z.get({url:"api/approvals"}).then((function(e){if(t.approvalLoad=!1,1==e.data.status){console.log("status: ".concat(e.data.status));var a=[];e.data.profiles.forEach((function(t){t.devices.forEach((function(e){a.push({Profile:"".concat(t.firstName," ").concat(t.lastName," <").concat(t.email,">"),deviceid:e.deviceid,devicetype:e.devicetype,approvalType:e.type,email:t.email,item_key:"".concat(t.email,"_").concat(e.deviceid)})}))})),t.approvalRows=a,t.approvalHeads=[{text:t.$t("Profile"),value:"Profile"},{text:t.$t("Device Type"),value:"devicetype"},{text:t.$t("Approval Type"),value:"approvalType"},{text:t.$t("Actions"),value:"actions",sortable:!1}]}else console.log("status: ".concat(e.data.status))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},loadOnline:function(){var t=this;this.onlineLoad=!0,r.Z.get({url:"api/onlineProfiles"}).then((function(e){t.onlineLoad=!1,1==e.data.status?(t.onlineRows=e.data.profiles,t.onlineHeads=[{text:t.$t("Last Name"),value:"lastname"},{text:t.$t("First Name"),value:"firstname"},{text:t.$t("Email"),value:"email"}],t.devicesHeads=[{text:t.$t("Device Name"),value:"devicename"},{text:t.$t("Device ID"),value:"imei"},{text:t.$t("Gateway"),value:"gateway"},{text:t.$t("Platform"),value:"platform"}]):console.log("status: ".concat(e.data.status))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},refresh:function(){var t=this,e=this.options.itemsPerPage>0?this.options.itemsPerPage:1e4,a=(this.options.page-1)*e;r.Z.post({url:"api/profiles",data:{offset:a,limit:e,sortBy:this.options.sortBy,sortDesc:this.options.sortDesc,search:this.search}}).then((function(e){1==e.data.status?(t.rows=e.data.profiles,t.totalItems=e.data.totalItems):(console.log("status: ".concat(e.data.status)),t.$router.push("/Login"))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))}},created:function(){var t=[{text:this.$t("control-panel"),to:"/",disabled:!1},{text:this.$t("Profiles"),to:"/Profiles",disabled:!1}];this.$emit("updatePage",t),this.headers=[{text:this.$t("Last Name"),value:"lastName"},{text:this.$t("First Name"),value:"firstName"},{text:this.$t("Email"),value:"email"}],r.Z.loadPageData("".concat(s.name),this)},watch:{tab:function(t){this.savePage(),1==t?this.loadOnline():2==t&&this.loadApprovals()},selectedApprovals:function(t){console.log("selectedApprovals: ".concat(JSON.stringify(t)))},search:function(t){console.log("search: ".concat(t)),this.savePage(),(t.length>1||0==t.length)&&this.refresh()}}},l=s,c=l,u=a(1001),d=a(43453),p=a.n(d),h=a(63150),f=a(32371),v=a(95424),m=a(76277),g=a(96428),b=a(99762),y=a(94227),w=a(71759),k=a(38697),x=a(51954),S=a(21208),$=a(55978),D=a(36656),_=a(27921),C=(0,u.Z)(c,n,i,!1,null,null,null),T=C.exports;p()(C,{VBtn:h.Z,VCard:f.Z,VChip:v.Z,VDataTable:m.Z,VIcon:g.Z,VSpacer:b.Z,VTab:y.Z,VTabItem:w.Z,VTabs:k.Z,VTabsItems:x.Z,VTabsSlider:S.Z,VTextField:$.Z,VToolbar:D.Z,VToolbarTitle:_.qW})},97285:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return z}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:"bg"}},[a("v-toolbar",{attrs:{color:"secondary",dark:"",flat:""},scopedSlots:t._u([{key:"extension",fn:function(){return[a("v-tabs",{attrs:{"align-with-title":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tabs-slider",{attrs:{color:"primary"}}),a("v-tab",{key:"settings"},[t._v(" "+t._s(t.$t("Settings"))+" ")]),a("v-tab",{key:"view"},[t._v(" "+t._s(t.$t("View Recordings"))+" ")])],1)]},proxy:!0}])},[a("v-toolbar-title",[t._v(" "+t._s(t.$t("Recordings")))]),a("v-spacer")],1),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",{key:"settings",staticClass:"bg"},[a("v-card",{staticClass:"ma-0",attrs:{flat:"",color:"bg"}},[a("v-form",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-checkbox",{staticClass:"py-0 my-0",attrs:{label:t.$t("Record all users")},model:{value:t.recordingall,callback:function(e){t.recordingall=e},expression:"recordingall"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{staticClass:"shrink>",attrs:{rules:t.numberRules,required:"",label:t.$t("Retention days")},model:{value:t.details.recordingretentiondays,callback:function(e){t.$set(t.details,"recordingretentiondays",e)},expression:"details.recordingretentiondays"}})],1)],1)],1),a("v-btn",{staticClass:"ma-4",attrs:{color:"primary"},on:{click:t.saveSettings}},[t._v("Save ")])],1)],1),t.recordingall?t._e():a("v-card",{staticClass:"ma-0",attrs:{flat:"",color:"bg"}},[a("v-card-title",[t._v(t._s(t.$t("Profiles")))]),a("v-data-table",{staticClass:"elevation-1 ma-4 bg",attrs:{headers:t.recProfilesHeaders,items:t.recProfilesRows},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"bg"}},[a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:t.addProfile}},[t._v(" "+t._s(t.$t("Add Profiles"))+" ")])],1)]},proxy:!0},{key:"item.actions",fn:function(e){var n=e.item;return[a("v-icon",{staticClass:"mx-2",attrs:{small:""},on:{click:function(e){return t.deleteProfile(n)}}},[t._v(" mdi-delete ")])]}}],null,!0)}),a("v-dialog",{attrs:{"max-width":"800px","overlay-color":"bg"},model:{value:t.profilesDialog,callback:function(e){t.profilesDialog=e},expression:"profilesDialog"}},[a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(" "+t._s(t.$t("Add Profiles"))+" "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.profileSearch,callback:function(e){t.profileSearch=e},expression:"profileSearch"}})],1),a("v-data-table",{staticClass:"elevation-1 ma-4 bg",attrs:{headers:t.profilesHeaders,items:t.profilesRows,loading:t.profilesLoading,"server-items-length":t.profilesTotalItems,"items-per-page":5,options:t.profileOptions,search:t.profileSearch,"show-select":"","multi-sort":""},on:{"update:options":[function(e){t.profileOptions=e},t.updateProfileOptions],"click:row":t.profileRowClick},scopedSlots:t._u([{key:"header.data-table-select",fn:function(){return[t._v("   ")]},proxy:!0},{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"bg"}},[a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",disabled:t.addSelectedDisabled,loading:t.addSelectedLoading},on:{click:t.addSelected}},[t._v(" "+t._s(t.$t("Assign Selected Profiles"))+" ")])],1)]},proxy:!0}],null,!0),model:{value:t.profilesSelected,callback:function(e){t.profilesSelected=e},expression:"profilesSelected"}})],1)],1)],1)],1),a("v-tab-item",{key:"view",staticClass:"bg"},[a("v-card",{staticClass:"ma-0",attrs:{flat:"",color:"bg"}},[a("v-card-title",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:t.dateRanges,label:t.$t("Time Period"),value:t.selectedDateRange},on:{change:t.dateRangeChanged}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[t.customdDateRange?a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"From","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}},"v-text-field",i,!1),n))]}}],null,!1,3323294146),model:{value:t.fromMenu,callback:function(e){t.fromMenu=e},expression:"fromMenu"}},[a("v-date-picker",{on:{input:function(e){t.fromMenu=!1}},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}})],1):t._e()],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[t.customdDateRange?a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"To","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}},"v-text-field",i,!1),n))]}}],null,!1,1337146914),model:{value:t.toMenu,callback:function(e){t.toMenu=e},expression:"toMenu"}},[a("v-date-picker",{on:{input:function(e){t.toMenu=!1}},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}})],1):t._e()],1)],1)],1),a("v-card-title",[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-data-table",{staticClass:"ma-4 bg",attrs:{headers:t.headers,items:t.rows,loading:t.loading,"server-items-length":t.totalItems,search:t.search,options:t.options,"multi-sort":""},on:{"update:options":[function(e){t.options=e},t.updateOptions]},scopedSlots:t._u([{key:"item.start_time",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.moment(a.start_time).format("LLL"))+" ")]}},{key:"item.end_time",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.moment(a.end_time).format("LLL"))+" ")]}},{key:"item.actions",fn:function(e){var n=e.item;return[a("v-icon",{staticClass:"mx-2",attrs:{small:""},on:{click:function(e){return t.prepare(n,e)}}},[t._v(" mdi-play ")])]}}],null,!0)})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"660","overlay-color":"primary"},model:{value:t.playDialog,callback:function(e){t.playDialog=e},expression:"playDialog"}},[a("v-card",{attrs:{color:"primary"}},[a("v-container",[a("div",{attrs:{id:"artplayer-app"}},[t._v(" ")])])],1)],1),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.prepDialog,callback:function(e){t.prepDialog=e},expression:"prepDialog"}},[a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[t._v(" Preparing recording video "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1),a("v-snackbar",{attrs:{timeout:2e3},scopedSlots:t._u([{key:"action",fn:function(e){var n=e.attrs;return[a("v-btn",t._b({attrs:{color:"primary",text:""},on:{click:function(e){t.snackbarSave=!1}}},"v-btn",n,!1),[t._v(" "+t._s(t.$t("Close"))+" ")])]}}]),model:{value:t.snackbarSave,callback:function(e){t.snackbarSave=e},expression:"snackbarSave"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},i=[],o=a(62032),r=a(75200),s=(a(68309),a(41539),a(69720),a(54747),a(92222),a(74916),a(64765),a(38862),a(78783),a(33948),a(60285),a(41637),a(47941),a(13888)),l=a(23144),c=a(88755),u=a.n(c),d=a(30381),p={name:"Recordings",data:function(){return{tab:{},headers:[],rows:[],search:"",totalItems:0,loading:!0,options:{},details:{},hasDateRange:!1,dateRanges:[],selectedDateRange:"",customdDateRange:!1,fromDate:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),fromMenu:!1,toDate:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),toMenu:!1,numberRules:[],snackbarSave:!1,snackbarText:"",recordingall:!1,prepDialog:!1,playDialog:!1,playItem:{},playerOption:{url:"https://artplayer.org/assets/sample/video.mp4"},playerStyle:{width:"640px",height:"480px",margin:"0 auto 0"},recProfilesHeaders:[],recProfilesRows:[],profilesDialog:!1,profilesHeaders:[],profilesRows:[],profilesLoading:!0,profilesSelected:[],profileOptions:{},profileSearch:"",profilesTotalItems:0,allSelected:[],moment:d,appData:s.Z}},methods:{getInstance:function(t){console.log(t)},savePage:function(){l.Z.savePageData("".concat(p.name),this,["options","search","selectedDateRange","fromDate","toDate","tab"])},saveSettings:function(){var t=this;console.log(this.details),this.recordingall?this.details.recordingall="1":this.details.recordingall="0",l.Z.post({url:"api/orgs/"+encodeURIComponent(s.Z.mainDomain),data:this.details}).then((function(e){console.log(e.data),1==e.data.status?(t.snackbarText=t.$t("Saved"),t.snackbarSave=!0,t.loadSettings()):(console.log("status: ".concat(e.data.status)),t.snackbarSave=!0,t.snackbarText=t.$t("Error"))})).catch((function(t){return console.log(t)}))},loadSettings:function(){var t=this;console.log("loadSettings: ".concat(s.Z.mainDomain)),this.recProfilesHeaders=[{text:this.$t("Last Name"),value:"lastname"},{text:this.$t("First Name"),value:"firstname"},{text:this.$t("Email"),value:"email"},{text:"Actions",value:"actions",sortable:!1}],l.Z.get({url:"api/orgs/"+encodeURIComponent(s.Z.mainDomain)}).then((function(e){console.log(e.data),1==e.data.status?(console.log("status: ".concat(e.data.status)),e.data.orgs&&1==e.data.orgs.length?(t.details=e.data.orgs[0],t.recordingall=!!t.details.recordingall):t.details={}):console.log("status: ".concat(e.data.status))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1})),l.Z.get({url:"api/recordings/profiles"}).then((function(e){console.log(e.data),1==e.data.status?(console.log("status: ".concat(e.data.status)),t.recProfilesRows=e.data.results):console.log("api/recordings/profiles status: ".concat(e.data.status))})).catch((function(t){return console.log(t)}))},deleteProfile:function(t){var e=this;console.log("deleteProfile: ".concat(t.email));var a=[t.email];l.Z["delete"]({url:"api/recordings/profiles",data:{emails:a}}).then((function(t){console.log(t.data),1==t.data.status?(console.log("Deleted"),e.snackbarSave=!0,e.snackbarText=e.$t("Deleted"),e.loadSettings()):(console.log("deleteProfile status: ".concat(t.data.status)),e.snackbarSave=!0,e.snackbarText=e.$t("Error"))})).catch((function(t){console.log(t),e.snackbarSave=!0,e.snackbarText=e.$t("Error")}))},addProfile:function(){this.profilesHeaders=[{text:this.$t("Last Name"),value:"lastName"},{text:this.$t("First Name"),value:"firstName"},{text:this.$t("Email"),value:"email"}],this.profilesDialog=!0,this.addSelectedDisabled=!0,this.allSelected=[]},updateProfileOptions:function(){console.log("updateProfileOptions"),this.savePage(),this.refreshProfiles()},addSelected:function(){var t=this;console.log("addSelected");for(var e=[],a=0,n=Object.entries(this.allSelected);a<n.length;a++){var i=(0,r.Z)(n[a],1),o=i[0];e.push(o)}l.Z.put({url:"api/recordings/profiles",data:{emails:e}}).then((function(e){console.log(e.data),1==e.data.status?(console.log("Added"),t.snackbarSave=!0,t.snackbarText=t.$t("Added"),t.profilesDialog=!1,t.loadSettings()):(console.log("addSelected status: ".concat(e.data.status)),t.snackbarSave=!0,t.snackbarText=t.$t("Error"))})).catch((function(e){console.log(e),t.snackbarSave=!0,t.snackbarText=t.$t("Error")}))},refreshProfiles:function(){var t=this;this.profilesLoading=!0;var e=this.profileOptions.itemsPerPage>0?this.profileOptions.itemsPerPage:1e4,a=(this.profileOptions.page-1)*e;l.Z.post({url:"api/profiles",data:{offset:a,limit:e,sortBy:this.profileOptions.sortBy,sortDesc:this.profileOptions.sortDesc,search:this.profileSearch}}).then((function(e){if(t.profilesLoading=!1,console.log(e.data),1==e.data.status){t.profilesRows=e.data.profiles,t.profilesTotalItems=e.data.totalItems;var a=[];t.profilesRows.forEach((function(e){t.allSelected[e.email]&&a.push(e)})),t.profilesSelected=a}else console.log("status: ".concat(e.data.status)),t.$router.push("/Login")})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},applyDateRange:function(t){var e,a,n=(0,o.Z)(this.dateRanges);try{for(n.s();!(a=n.n()).done;){var i=a.value;if(i.value==t){e=i;break}}}catch(r){n.e(r)}finally{n.f()}e?(e.dvalue?(this.fromDate=e.dvalue.from,this.toDate=e.dvalue.to,this.customdDateRange=!1):this.customdDateRange=!0,this.selectedDateRange=t,console.log("applyDateRange. from ".concat(this.fromDate,", to: ").concat(this.toDate,", val: ").concat(t,", selectedDateRange: ").concat(this.selectedDateRange))):console.error("Error date range not found for value: ".concat(t))},dateRangeChanged:function(t){this.applyDateRange(t),this.loadRecordings()},dateChanged:function(){this.customdDateRange&&this.loadRecordings()},loadRecordings:function(){var t=this;this.headers=[{text:this.$t("Start"),value:"start_time"},{text:this.$t("End"),value:"end_time"},{text:this.$t("Seconds"),value:"active_seconds"},{text:this.$t("Email"),value:"session_history.email"},{text:this.$t("First Name"),value:"session_history.user.firstname",sortable:!1},{text:this.$t("Last Name"),value:"session_history.user.lastname",sortable:!1},{text:this.$t("Device ID"),value:"session_history.device_id"},{text:this.$t("Device Name"),value:"session_history.devicename"},{text:"Actions",value:"actions",sortable:!1}];var e=d().format("YYYY-MM-DD");this.dateRanges=[{value:"this_day",text:"Today",dvalue:{from:e,to:e}},{value:"last_7_days",text:"Last 7 days",dvalue:{from:d().subtract(7,"days").format("YYYY-MM-DD"),to:e}},{value:"this_month",text:"This month",dvalue:{from:d().startOf("month").format("YYYY-MM-DD"),to:e}},{value:"last_month",text:"Last month",dvalue:{from:d().subtract(1,"months").format("YYYY-MM-DD"),to:e}},{value:"this_year",text:"This year",dvalue:{from:d().startOf("year").format("YYYY-MM-DD"),to:e}},{value:"last_12_months",text:"Last 12 months",dvalue:{from:d().subtract(12,"months").format("YYYY-MM-DD"),to:e}},{value:"custom",text:"Custom"}],console.log("loadRecordings: ".concat(s.Z.mainDomain)),this.selectedDateRange||(this.selectedDateRange=this.dateRanges[3].value),this.applyDateRange(this.selectedDateRange);var a=this.options.itemsPerPage>0?this.options.itemsPerPage:1e4,n=(this.options.page-1)*a,i={from:this.fromDate,to:this.toDate,offset:n,limit:a,sortBy:this.options.sortBy,sortDesc:this.options.sortDesc,search:this.search};l.Z.get({url:"api/recordings",params:i}).then((function(e){console.log(e.data),1==e.data.status?(console.log("status: ".concat(e.data.status)),t.rows=e.data.results,t.totalItems=e.data.count,t.savePage()):console.log("status: ".concat(e.data.status))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},updateOptions:function(t){console.log("updateOptions: ".concat(t)),this.savePage(),this.loadRecordings()},prepare:function(t){var e=this;console.log("prepare: ".concat(JSON.stringify(t,null,2))),this.prepDialog=!0,this.playItem=t,l.Z.post({url:"api/recordings/".concat(t.session_id,"/").concat(t.start_time)}).then((function(t){if(console.log(t.data),1==t.data.status)console.log("File is ready!"),e.prepDialog=!1,e.play();else if(2==t.data.status){console.log("Preparing file...");var a=t.data.notifToken;e.scheduleLongOperCheck(a)}else console.log("status: ".concat(t.data.status)),e.prepDialog=!1,e.snackbarSave=!0,e.snackbarText=e.$t("Error")})).catch((function(t){console.log(t),e.snackbarSave=!0,e.snackbarText=e.$t("Error")}))},scheduleLongOperCheck:function(t){var e=this;console.log("scheduleLongOperCheck: "+t),l.Z.get({url:"api/longOperations/"+t}).then((function(a){console.log(a.data),50==a.data.status||2==a.data.status?setTimeout(e.scheduleLongOperCheck,1e3,t):1==a.data.status?(console.log("response.data.status == 1"),e.prepDialog=!1,e.play()):(console.log("response.data.status != 1"),e.prepDialog=!1,e.snackbarSave=!0,e.snackbarText=e.$t("Error"))})).catch((function(t){console.log(t),e.prepDialog=!1,e.snackbarSave=!0,e.snackbarText=e.$t("Error")}))},downloadVideo:function(){var t=this,e="api/recordings/".concat(this.playItem.session_id,"/").concat(this.playItem.start_time,"?download=Y");console.log("downloadVideo: ".concat(e)),l.Z.get({url:e,responseType:"blob"}).then((function(e){var a=window.URL.createObjectURL(new Blob([e.data])),n=document.createElement("a");n.href=a,n.setAttribute("download","recording_".concat(t.playItem.session_history.email,"_").concat(t.playItem.start_time,".mp4")),document.body.appendChild(n),n.click()})).catch((function(e){console.log(e),t.snackbarSave=!0,t.snackbarText=t.$t("Download Error")}))},play:function(){var t=this,e="api/recordings/".concat(this.playItem.session_id,"/").concat(this.playItem.start_time,"?adminLoginToken=").concat(s.Z.adminLoginToken);s.Z.postURL&&(e=s.Z.postURL+e),this.playDialog=!0,this.art&&(this.art.destroy(),this.art=null);var a=this;setTimeout((function(){t.art=new(u())({container:"#artplayer-app",url:e,autoplay:!0,autoSize:!0,fullscreen:!0,screenshot:!0,layers:[{index:1,name:"timestamp",disable:!1,html:'<div id="vidts">'.concat(t.playItem.start_time,"</div>"),style:{position:"absolute",top:"20px",right:"20px",opacity:".9",backgroundColor:"#000000"}}],controls:[{position:"right",html:'<i class="art-icon mdi mdi-download player-icon" />',click:function(){console.log("Download!"),a.downloadVideo()}}]});var n=new Date(t.playItem.start_time).getTime()/1e3;t.art.on("video:timeupdate",(function(){var e=d(new Date(1e3*(n+t.art.currentTime))).format("LL LTS");document.getElementById("vidts").textContent="".concat(e)})),console.log("url: ".concat(e))}),1e3)}},created:function(){var t=this,e=[{text:this.$t("control-panel"),to:"/",disabled:!1},{text:this.$t("Recordings"),to:"/Recordings",disabled:!1}];this.$emit("updatePage",e),this.numberRules=[function(e){return!isNaN(e)||t.$t("Please enter a valid number")}],l.Z.loadPageData("".concat(p.name),this)},watch:{tab:function(t){console.log("tab: ".concat(t)),this.savePage(),0==t?this.loadSettings():1==t&&this.loadRecordings()},search:function(t){console.log("search: ".concat(t)),this.savePage(),(t.length>1||0==t.length)&&this.loadRecordings()},toDate:function(t){this.customdDateRange&&(console.log("toDate watch: ".concat(t)),this.loadRecordings())},fromDate:function(t){this.customdDateRange&&(console.log("fromDate watch: ".concat(t)),this.loadRecordings())},profileSearch:function(t){console.log("profileSearch: ".concat(t)),this.savePage(),(t.length>1||0==t.length)&&this.refreshProfiles()},profilesSelected:function(t){var e=this;console.log("profilesSelected: ".concat(JSON.stringify(t,null,2)));var a={};t.forEach((function(t){a[t.email]=t.email})),Object.assign(this.allSelected,a),this.profilesRows.forEach((function(t){a[t.email]||delete e.allSelected[t.email]})),Object.keys(this.allSelected).length>0?this.addSelectedDisabled=!1:this.addSelectedDisabled=!0}}},h=p,f=h,v=a(1001),m=a(43453),g=a.n(m),b=a(63150),y=a(32371),w=a(37118),k=a(83702),x=a(82102),S=a(4228),$=a(76277),D=a(64484),_=a(4497),C=a(46232),T=a(96428),P=a(76768),O=a(57003),A=a(62877),Z=a(47032),I=a(13202),R=a(99762),L=a(94227),E=a(71759),V=a(38697),N=a(51954),j=a(21208),F=a(55978),B=a(36656),M=a(27921),U=(0,v.Z)(f,n,i,!1,null,null,null),z=U.exports;g()(U,{VBtn:b.Z,VCard:y.Z,VCardText:w.ZB,VCardTitle:w.EB,VCheckbox:k.Z,VCol:x.Z,VContainer:S.Z,VDataTable:$.Z,VDatePicker:D.Z,VDialog:_.Z,VForm:C.Z,VIcon:T.Z,VMenu:P.Z,VProgressLinear:O.Z,VRow:A.Z,VSelect:Z.Z,VSnackbar:I.Z,VSpacer:R.Z,VTab:L.Z,VTabItem:E.Z,VTabs:V.Z,VTabsItems:N.Z,VTabsSlider:j.Z,VTextField:F.Z,VToolbar:B.Z,VToolbarTitle:M.qW})},57864:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return A}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:"bg"}},[t.reportCode&&""!=t.reportCode?a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(" "+t._s(t.reportName)+" ")]),t.hasDateRange?a("v-card-title",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:t.dateRanges,label:t.$t("Time Period"),value:t.selectedDateRange},on:{change:t.dateRangeChanged}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[t.customdDateRange?a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"From","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}},"v-text-field",i,!1),n))]}}],null,!1,3323294146),model:{value:t.fromMenu,callback:function(e){t.fromMenu=e},expression:"fromMenu"}},[a("v-date-picker",{on:{input:function(e){t.fromMenu=!1}},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}})],1):t._e()],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[t.customdDateRange?a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"To","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}},"v-text-field",i,!1),n))]}}],null,!1,1337146914),model:{value:t.toMenu,callback:function(e){t.toMenu=e},expression:"toMenu"}},[a("v-date-picker",{on:{input:function(e){t.toMenu=!1}},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}})],1):t._e()],1)],1)],1):t._e(),a("v-card-title",[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-btn",{attrs:{color:"secondary"},on:{click:function(e){return t.downloadCSV()}}},[t._v(" "+t._s(t.$t("Download CSV"))+" "),a("v-icon",{attrs:{right:"",dark:""}},[t._v(" mdi-microsoft-excel ")])],1)],1),t.hasChart?a("v-card-title",[a("bar-chart",{attrs:{"chart-data":t.chartData,options:t.chartOptions,width:1e3,height:300}})],1):t._e(),a("v-data-table",{staticClass:"ma-4 bg",attrs:{headers:t.headers,items:t.rows,loading:t.loading,search:t.search,options:t.options,"multi-sort":""},on:{"update:options":[function(e){t.options=e},t.updateOptions],"current-items":t.getFiltered},scopedSlots:t._u([{key:"item.Insert_Time",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.moment(a.Insert_Time).format("LLL"))+" ")]}},{key:"item.Start_Time",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.moment(a.Start_Time).format("LLL"))+" ")]}},{key:"item.End_Time",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.moment(a.End_Time).format("LLL"))+" ")]}},{key:"item.Session_Duration",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.getHHMM(a.Session_Duration))+" ")]}},{key:"item.Event_Time",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.moment(a.Event_Time).format("LLL"))+" ")]}}],null,!0)})],1):a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(" "+t._s(t.$t("Reports"))+" ")]),a("v-data-table",{staticClass:"ma-4 bg",attrs:{color:"bg",headers:t.reportsHeaders,items:t.items,"sort-by":t.sortBy,"sort-desc":t.sortDesc},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},"click:row":t.openReport},scopedSlots:t._u([{key:"item.text",fn:function(e){var n=e.item;return[a("v-icon",{domProps:{textContent:t._s(n.icon)}}),t._v("   "+t._s(n.text)+" ")]}},{key:"item.icon",fn:function(e){var n=e.item;return[a("v-icon",{domProps:{textContent:t._s(n.icon)}})]}}],null,!0)})],1),a("v-snackbar",{attrs:{timeout:2e3},scopedSlots:t._u([{key:"action",fn:function(e){var n=e.attrs;return[a("v-btn",t._b({attrs:{color:"info",text:""},on:{click:function(e){t.snackbarSave=!1}}},"v-btn",n,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbarSave,callback:function(e){t.snackbarSave=e},expression:"snackbarSave"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},i=[],o=a(62032),r=(a(92222),a(38862),a(41539),a(54747),a(47941),a(74916),a(15306),a(33948),a(21249),a(13888)),s=a(23144),l=a(56663),c=l.tA.reactiveProp,u={extends:l.$Q,mixins:[c],props:["options"],mounted:function(){this.renderChart(this.chartData,this.options)}},d=a(30381),p={name:"ReportsPage",components:{BarChart:u},data:function(){return{selectedItem:-1,items:[],reportsHeaders:[],sortBy:"text",sortDesc:!1,headers:[],rows:[],options:{},loading:!0,snackbarSave:!1,snackbarText:"",reportCode:null,search:"",moment:d,appData:r.Z,filteredItems:"",hasDateRange:!1,dateRanges:[],selectedDateRange:"",customdDateRange:!1,fromDate:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),fromMenu:!1,toDate:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),toMenu:!1,hasChart:!1,chartData:{},chartOptions:{responsive:!0,aspectRatio:2}}},methods:{openReport:function(t){console.log("Open report: "+t),this.$router.push("/Report/"+t.reportCode)},applyDateRange:function(t){var e,a,n=(0,o.Z)(this.dateRanges);try{for(n.s();!(a=n.n()).done;){var i=a.value;if(i.value==t){e=i;break}}}catch(r){n.e(r)}finally{n.f()}e?(e.dvalue?(this.fromDate=e.dvalue.from,this.toDate=e.dvalue.to,this.customdDateRange=!1):this.customdDateRange=!0,this.selectedDateRange=t,console.log("applyDateRange. from ".concat(this.fromDate,", to: ").concat(this.toDate,", val: ").concat(t,", selectedDateRange: ").concat(this.selectedDateRange))):console.error("Error date range not found for value: ".concat(t))},dateRangeChanged:function(t){this.applyDateRange(t),this.refresh()},dateChanged:function(){this.customdDateRange&&this.refresh()},updateOptions:function(){console.log("Update options: ".concat(JSON.stringify(this.options,null,2))),this.savePage()},getFiltered:function(t){this.filteredItems=t},downloadCSV:function(){var t=this;console.log("downloadCSV..");var e=document.querySelector("#download-csv");e&&document.body.removeChild(e);var a="",n=this.headers.length,i=0;this.headers.forEach((function(t){a+=t.text+(i+1<n?",":""),i++})),a+="\r\n";for(var o=function(e){var n=Object.keys(t.filteredItems[e]).length,i=0;t.headers.forEach((function(o){var r=t.rows[e][o.value];console.log("head.value: "+o.value),"Insert_Time"==o.value&&(r=d(r).format("LLL")),a+='"'+r+'"'+(i+1<n?",":"\r\n"),i++})),i=0},r=0;r<this.filteredItems.length;r++)o(r);var s=document.createElement("a");s.id="download-csv",s.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(a)),s.setAttribute("download",this.reportName+".csv"),document.body.appendChild(s),document.querySelector("#download-csv").click()},getHHMM:function(t){return"".concat(parseInt(t/60),":").concat((t%60).toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}))},savePage:function(){s.Z.savePageData("report_".concat(this.reportCode),this,["options","search","selectedDateRange","fromDate","toDate"])},refresh:function(){var t=this,e=[{text:this.$t("control-panel"),to:"/",disabled:!1},{text:this.$t("Reports"),to:"/Reports",disabled:!1}];if(this.reportCode&&""!=this.reportCode){this.items.forEach((function(e){e.reportCode==t.reportCode&&(t.reportName=e.text,t.hasDateRange=e.hasDateRange,t.hasChart=e.hasChart)}));var a={};this.hasDateRange&&(this.selectedDateRange||(this.selectedDateRange=this.dateRanges[3].value,this.applyDateRange(this.selectedDateRange)),a={from:this.fromDate,to:this.toDate}),e.push({text:this.reportName,to:"/Report/"+this.reportCode,disabled:!1}),this.$emit("updatePage",e),this.loading=!0,s.Z.get({url:"api/reports/"+this.reportCode,params:a}).then((function(e){if(console.log(e.data),1==e.data.status){if(console.log("status: ".concat(e.data.status)),t.loading=!1,t.rows=[],t.headers=[],e.data.headers.forEach((function(e){var a=e.replace(/ /g,"_"),n={text:e,value:a};t.headers.push(n)})),e.data.values.forEach((function(a){var n={};a.forEach((function(t,a){var i=e.data.headers[a].replace(/ /g,"_");n[i]=t})),t.rows.push(n)})),t.hasChart){t.chartOptions={scales:{yAxes:[{ticks:{suggestedMin:0}}]}};var a=e.data.values.map((function(t){return t[1]})),n=e.data.values.map((function(t){return t[0]})),i=t.$vuetify.theme.themes.light;t.chartData={datasets:[{data:a,backgroundColor:i.primary,label:t.headers[1].text,fill:!1}],labels:n},t.height=100}t.savePage()}else console.log("status: ".concat(e.data.status)),t.$router.push("/Login")})).catch((function(e){console.log(e),t.$router.push("/Login")}))}else this.$emit("updatePage",e)}},watch:{$route:function(t){console.log(t),this.reportCode=t.params.reportCode,this.reportCode&&(s.Z.loadPageData("report_".concat(this.reportCode),this),this.selectedDateRange&&this.applyDateRange(this.selectedDateRange)),this.refresh()},toDate:function(t){this.customdDateRange&&(console.log("toDate watch: ".concat(t)),this.refresh())},fromDate:function(t){this.customdDateRange&&(console.log("fromDate watch: ".concat(t)),this.refresh())},search:function(t){console.log("search watch: ".concat(t)),this.savePage()}},created:function(){this.reportCode=this.$route.params.reportCode;var t=d().format("YYYY-MM-DD");this.dateRanges=[{value:"this_day",text:"Today",dvalue:{from:t,to:t}},{value:"last_7_days",text:"Last 7 days",dvalue:{from:d().subtract(7,"days").format("YYYY-MM-DD"),to:t}},{value:"this_month",text:"This month",dvalue:{from:d().startOf("month").format("YYYY-MM-DD"),to:t}},{value:"last_month",text:"Last month",dvalue:{from:d().subtract(1,"months").format("YYYY-MM-DD"),to:t}},{value:"this_year",text:"This year",dvalue:{from:d().startOf("year").format("YYYY-MM-DD"),to:t}},{value:"last_12_months",text:"Last 12 months",dvalue:{from:d().subtract(12,"months").format("YYYY-MM-DD"),to:t}},{value:"custom",text:"Custom"}],this.reportCode&&(s.Z.loadPageData("report_".concat(this.reportCode),this),this.selectedDateRange&&this.applyDateRange(this.selectedDateRange)),this.reportsHeaders=[{text:this.$t("Report"),value:"text"}],this.items=[{text:this.$t("Blocked/Disabled Logins"),icon:"mdi-account-off",reportCode:"8",hasDateRange:!0,hasChart:!1},{text:this.$t("Active users"),icon:"mdi-account-check",reportCode:"3",hasDateRange:!1},{text:this.$t("App list by user"),icon:"mdi-apps",reportCode:"1"},{text:this.$t("Number of users per platform"),icon:"mdi-account-multiple-outline",reportCode:"2",hasDateRange:!1},{text:this.$t("App usage by user"),icon:"mdi-book-clock",reportCode:"4",hasDateRange:!1},{text:this.$t("Session Report"),icon:"mdi-clipboard-list-outline",reportCode:"5",hasDateRange:!0},{text:this.$t("Daily Active Sessions"),icon:"mdi-calendar-multiple-check",reportCode:"6",hasDateRange:!0,hasChart:!0},{text:this.$t("Daily Active Users"),icon:"mdi-account-details",reportCode:"7",hasDateRange:!0,hasChart:!0}],this.refresh()}},h=p,f=a(1001),v=a(43453),m=a.n(v),g=a(63150),b=a(32371),y=a(37118),w=a(82102),k=a(76277),x=a(64484),S=a(96428),$=a(76768),D=a(62877),_=a(47032),C=a(13202),T=a(99762),P=a(55978),O=(0,f.Z)(h,n,i,!1,null,null,null),A=O.exports;m()(O,{VBtn:g.Z,VCard:b.Z,VCardTitle:y.EB,VCol:w.Z,VDataTable:k.Z,VDatePicker:x.Z,VIcon:S.Z,VMenu:$.Z,VRow:D.Z,VSelect:_.Z,VSnackbar:C.Z,VSpacer:T.Z,VTextField:P.Z})},61946:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return at}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:"bg"}},[a("v-toolbar",{attrs:{color:"secondary",dark:"",flat:""},scopedSlots:t._u([{key:"extension",fn:function(){return[a("v-tabs",{attrs:{"align-with-title":"",flat:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tabs-slider",{attrs:{color:"primary"}}),a("v-tab",{key:"approval"},[t._v(" Device approval ")]),a("v-tab",{key:"auth"},[t._v(" Authentication ")]),t.appData.isMobile()?a("v-tab",{key:"rules"},[t._v(" Device Rules ")]):t._e()],1)]},proxy:!0}])},[a("v-toolbar-title",[t._v(" "+t._s(t.$t("Security Settings"))+" ")]),a("v-spacer")],1),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",{key:"approval"},[a("v-card",{staticClass:"ma-0",attrs:{flat:"",color:"bg",tile:""}},[a("v-card-title",[t._v(t._s(t.$t("Device approval options")))]),a("v-form",{ref:"formApproval",model:{value:t.validFormApproval,callback:function(e){t.validFormApproval=e},expression:"validFormApproval"}},[a("v-radio-group",{staticClass:"mx-4 my-0",attrs:{column:""},model:{value:t.deviceApproval.deviceApprovalType,callback:function(e){t.$set(t.deviceApproval,"deviceApprovalType",e)},expression:"deviceApproval.deviceApprovalType"}},[a("v-radio",{staticClass:"mb-4",attrs:{label:"Automatically approve/reset devices",value:"0"}}),a("v-radio",t._g({staticClass:"mb-4",attrs:{label:"Manualy approve/reset devices",value:"1"}},t.on)),a("v-radio",t._g({attrs:{label:"Both",value:"2"}},t.on))],1),"0"!=t.deviceApproval.deviceApprovalType?a("v-sheet",{attrs:{color:"bg"}},[a("v-card-title",[t._v(t._s(t.$t("Notify admins by:")))]),a("v-radio-group",{staticClass:"mx-4 my-0",attrs:{column:""},on:{change:t.notifTypeChange},model:{value:t.notifType,callback:function(e){t.notifType=e},expression:"notifType"}},[a("v-radio",{staticClass:"mb-4",attrs:{label:t.$t("Push notification to admins devices"),value:"pushnotif"}}),a("v-radio",t._g({attrs:{label:t.$t("Email to a dedicated email address"),value:"emailnotif"}},t.on))],1),"emailnotif"==t.notifType?a("v-text-field",{staticClass:"mx-8 my-0",attrs:{label:"Email",rules:t.emailRules,required:""},model:{value:t.deviceApproval.notifierAdmin,callback:function(e){t.$set(t.deviceApproval,"notifierAdmin",e)},expression:"deviceApproval.notifierAdmin"}}):t._e()],1):t._e(),a("v-btn",{staticClass:"ma-4",attrs:{color:"primary",loading:t.updateDeviceApprovalLoading},on:{click:t.updateDeviceApproval}},[t._v("Save ")])],1)],1)],1),a("v-tab-item",{key:"auth"},[a("v-card",{staticClass:"ma-0",attrs:{flat:"",color:"bg"}},[a("v-form",{ref:"formAuth",model:{value:t.validFormAuth,callback:function(e){t.validFormAuth=e},expression:"validFormAuth"}},[a("v-select",{staticClass:"ma-4",attrs:{items:t.authFactors,label:t.$t("Authentication methods")},model:{value:t.authentication.clientauthtype,callback:function(e){t.$set(t.authentication,"clientauthtype",e)},expression:"authentication.clientauthtype"}}),1==t.authentication.clientauthtype||3==t.authentication.clientauthtype||4==t.authentication.clientauthtype?a("v-container",[a("v-card-subtitle",[t._v(t._s(t.$t("Password options")))]),a("v-radio-group",{staticClass:"mx-4 my-0",attrs:{column:""},model:{value:t.authentication.passcodeType,callback:function(e){t.$set(t.authentication,"passcodeType",e)},expression:"authentication.passcodeType"}},[a("v-radio",{staticClass:"mb-4",attrs:{label:t.$t("Passcode (digits)"),value:"0"}}),a("v-radio",{staticClass:"mb-4",attrs:{label:t.$t("Password (contains characters)"),value:"1"}})],1),"1"==t.authentication.passcodeType?a("v-container",[a("v-card-subtitle",[t._v(t._s(t.$t("Password requirements")))]),a("v-card-text",{staticClass:"shrink"},[a("div",[t._v(" "+t._s(t.$t("- Use upper-case or lower-case letters (case sensitive)"))+" ")]),a("div",[t._v(t._s(t.$t("- Include one or more numerical digits")))]),a("div",[t._v(" "+t._s(t.$t("- Include one or more special characters:"))+" ><)(&$+;:=?@#|.^*_~{}%!-' ")])])],1):t._e(),a("v-sheet",{attrs:{color:"bg"}},[a("v-card-subtitle",[t._v(t._s(t.$t("Password minimum length")))]),a("v-row",{staticClass:"mx-4 my-0"},[a("v-col",{attrs:{cols:"12",sm:"3",md:"2"}},[a("v-text-field",{staticClass:"shrink",attrs:{dense:"",rules:t.passLengthRules,required:"",label:t.$t("Password length")},model:{value:t.authentication.passcodeMinChars,callback:function(e){t.$set(t.authentication,"passcodeMinChars",e)},expression:"authentication.passcodeMinChars"}})],1)],1),a("v-card-subtitle",[t._v(t._s(t.$t("Set Expiration Time")))]),a("v-card-subtitle",[t._v(t._s(t.$t("Ask users to change password every (insert 0 for unlimited)")))]),a("v-row",{staticClass:"mx-4 my-0"},[a("v-col",{attrs:{cols:"12",sm:"3",md:"2"}},[a("number-input",{attrs:{step:1,inline:"",controls:""}}),a("v-text-field",{staticClass:"shrink>",attrs:{dense:"",rules:t.numberRules,required:"",label:t.$t("Expiration days")},model:{value:t.authentication.passcodeExpirationDays,callback:function(e){t.$set(t.authentication,"passcodeExpirationDays",e)},expression:"authentication.passcodeExpirationDays"}})],1)],1)],1)],1):t._e(),2==t.authentication.clientauthtype||3==t.authentication.clientauthtype||4==t.authentication.clientauthtype?a("v-container",[a("v-select",{staticClass:"ma-4",attrs:{items:t.secondFactorMethods,label:t.$t("Second factor authentication methods")},model:{value:t.authentication.secondauthmethod,callback:function(e){t.$set(t.authentication,"secondauthmethod",e)},expression:"authentication.secondauthmethod"}})],1):t._e(),(2==t.authentication.clientauthtype||3==t.authentication.clientauthtype||4==t.authentication.clientauthtype)&&t.authentication.secondauthmethod>1?a("v-container",[a("v-select",{staticClass:"ma-4",attrs:{items:t.otpTypes,label:t.$t("OTP methods")},model:{value:t.authentication.otptype,callback:function(e){t.$set(t.authentication,"otptype",e)},expression:"authentication.otptype"}})],1):t._e(),a("v-btn",{staticClass:"ma-4",attrs:{color:"primary",loading:t.loadingUpdateAuth},on:{click:t.updateAuthentication}},[t._v("Save ")])],1)],1)],1),a("v-tab-item",{key:"rules",staticClass:"bg"},[a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(" "+t._s(t.$t("Rules List"))+" "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-data-table",{staticClass:"ma-4 bg",attrs:{color:"bg",headers:t.deviceRulesHead,items:t.deviceRules.blockedDevices,search:t.search,loading:t.loading},on:{"click:row":t.rowClick},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"bg"}},[a("v-btn",{staticClass:"ma-4",attrs:{color:"primary"},on:{click:function(e){t.ruleDialog=!0}}},[t._v(t._s(t.$t("New Rule")))])],1)]},proxy:!0},{key:"item.actions",fn:function(e){var n=e.item;return[a("v-icon",{staticClass:"mx-2",attrs:{small:""},on:{click:function(e){return t.deleteDeviceRule(n,e)}}},[t._v(" mdi-delete ")])]}}],null,!0)}),a("v-dialog",{attrs:{"overlay-color":"bg","max-width":"800px"},model:{value:t.ruleDialog,callback:function(e){t.ruleDialog=e},expression:"ruleDialog"}},[a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(t._s(t.$t("Add Rule")))]),a("v-form",{ref:"formAddRule",model:{value:t.validFormAddRule,callback:function(e){t.validFormAddRule=e},expression:"validFormAddRule"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{staticClass:"mx-8 my-0",attrs:{label:"Rule Title",rules:t.reqRules,required:""},model:{value:t.addRuleTitle,callback:function(e){t.addRuleTitle=e},expression:"addRuleTitle"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{staticClass:"mx-8 my-0",attrs:{label:"Filter",rules:t.reqRules,required:""},model:{value:t.addRuleFilter,callback:function(e){t.addRuleFilter=e},expression:"addRuleFilter"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-btn",{staticClass:"ma-4",attrs:{color:"primary",loading:t.addRuleLoading},on:{click:t.addDeviceRule}},[t._v("Save ")])],1)],1)],1)],1)],1)],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"690"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[t._v(" "+t._s(t.$t("WarningPasswordOptionChange"))+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"error darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" "+t._s(t.$t("No"))+" ")]),a("v-btn",{attrs:{color:"success darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" "+t._s(t.$t("Yes"))+" ")])],1)],1)],1),a("v-snackbar",{attrs:{timeout:2e3},scopedSlots:t._u([{key:"action",fn:function(e){var n=e.attrs;return[a("v-btn",t._b({attrs:{color:"info",text:""},on:{click:function(e){t.snackbarSave=!1}}},"v-btn",n,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbarSave,callback:function(e){t.snackbarSave=e},expression:"snackbarSave"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},i=[],o=(a(41539),a(38862),a(39714),a(74916),a(77601),a(13888)),r=a(23144),s={name:"EmailSetup",data:function(){return{tab:{},deviceApproval:{},authentication:{},deviceRules:{},loading:!0,snackbarSave:!1,snackbarText:"",approveType:"selfapprove",notifType:"pushnotif",emailRules:[],numberRules:[],passLengthRules:[],deviceRulesHead:[],search:"",ruleDialog:!1,updateDeviceApprovalLoading:!1,validFormApproval:null,loadingUpdateAuth:!1,validFormAuth:null,dialog:!1,validFormAddRule:!1,addRuleTitle:"",addRuleFilter:"",addRuleLoading:!1,reqRules:[],appData:o.Z}},methods:{notifTypeChange:function(t){"pushnotif"==t?this.deviceApproval.notifierAdmin="PUSH@nubo.local":"PUSH@nubo.local"==this.deviceApproval.notifierAdmin&&(this.deviceApproval.notifierAdmin="")},refresh:function(){var t=this;r.Z.get({url:"api/security/deviceApproval"}).then((function(e){console.log("deviceApproval: ".concat(JSON.stringify(e.data,null,2))),1==e.data.status?(console.log("status: ".concat(e.data.status)),t.deviceApproval=e.data,t.deviceApproval.deviceApprovalType=t.deviceApproval.deviceApprovalType.toString(10),"PUSH@nubo.local"==t.deviceApproval.notifierAdmin?t.notifType="pushnotif":t.notifType="emailnotif"):console.log("status: ".concat(e.data.status))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1})),r.Z.get({url:"api/security/authentication"}).then((function(e){console.log("authentication: ".concat(JSON.stringify(e.data,null,2))),1==e.data.status?(console.log("status: ".concat(e.data.status)),t.authentication=e.data,1==t.authentication.passcodeType||"1"==t.authentication.passcodeType?t.authentication.passcodeType="1":t.authentication.passcodeType="0"):console.log("status: ".concat(e.data.status))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1})),r.Z.get({url:"api/security/deviceRules"}).then((function(e){console.log("deviceRules: ".concat(JSON.stringify(e.data,null,2))),1==e.data.status?(console.log("status: ".concat(e.data.status)),t.deviceRules=e.data):console.log("status: ".concat(e.data.status))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},updateDeviceApproval:function(){var t=this;this.$refs.formApproval.validate(),this.validFormApproval&&(this.updateDeviceApprovalLoading=!0,r.Z.post({url:"api/security/deviceApproval",data:this.deviceApproval}).then((function(e){t.updateDeviceApprovalLoading=!1,console.log("updateDeviceApproval: ".concat(JSON.stringify(e.data,null,2))),1==e.data.status?(console.log("status: ".concat(e.data.status)),t.snackbarText=t.$t("Device approval updated"),t.snackbarSave=!0,t.refresh()):(console.log("status: ".concat(e.data.status)),t.snackbarText=t.$t("Error")+" - "+e.data.message,t.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1})))},updateAuthentication:function(){var t=this;if(this.$refs.formAuth.validate(),this.validFormAuth){this.loadingUpdateAuth=!0;var e={passcodeType:this.authentication.passcodeType,minChars:this.authentication.passcodeMinChars,expirationDays:this.authentication.passcodeExpirationDays.toString(10),clientauthtype:this.authentication.clientauthtype,secondauthmethod:this.authentication.secondauthmethod,otptype:this.authentication.otptype};console.log("updateAuthentication: "+JSON.stringify(e)),r.Z.post({url:"api/security/authentication",data:e}).then((function(e){t.loadingUpdateAuth=!1,console.log("updateAuthentication: ".concat(JSON.stringify(e.data,null,2))),1==e.data.status?(console.log("status: ".concat(e.data.status)),t.snackbarText=t.$t("Authentication method updated"),t.snackbarSave=!0,t.refresh()):(console.log("status: ".concat(e.data.status)),t.snackbarText=t.$t("Error")+" - "+e.data.message,t.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))}},addDeviceRule:function(){var t=this;if(this.$refs.formAddRule.validate(),this.validFormAddRule){var e={ruleName:this.addRuleTitle,filterName:this.addRuleFilter};this.addRuleLoading=!0,r.Z.put({url:"api/security/deviceRules",data:e}).then((function(e){console.log("addDeviceRule: ".concat(JSON.stringify(e.data,null,2))),t.addRuleLoading=!1,1==e.data.status?(console.log("status: ".concat(e.data.status)),t.snackbarText=t.$t("Device rule was added"),t.snackbarSave=!0,t.refresh(),t.addRuleTitle="",t.addRuleFilter="",t.ruleDialog=!1):(console.log("status: ".concat(e.data.status)),t.snackbarText=t.$t("Error")+" - "+e.data.message,t.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))}},updateDeviceRule:function(t,e){var a=this,n={ruleid:t,filterName:e};r.Z.post({url:"api/security/deviceRules",data:n}).then((function(t){console.log("updateDeviceRule: ".concat(JSON.stringify(t.data,null,2))),1==t.data.status?(console.log("status: ".concat(t.data.status)),a.snackbarText=a.$t("Device rule was updated"),a.snackbarSave=!0,a.refresh()):(console.log("status: ".concat(t.data.status)),a.snackbarText=a.$t("Error")+" - "+t.data.message,a.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){return a.loading=!1}))},deleteDeviceRule:function(t){var e=this,a={ruleid:t.ruleId,ruleName:t.ruleName,filterName:t.filterName};r.Z["delete"]({url:"api/security/deviceRules",data:a}).then((function(t){console.log("deleteDeviceRule: ".concat(JSON.stringify(t.data,null,2))),1==t.data.status?(console.log("status: ".concat(t.data.status)),e.snackbarText=e.$t("Device rule was deleted"),e.snackbarSave=!0,e.refresh()):(console.log("status: ".concat(t.data.status)),e.snackbarText=e.$t("Error")+" - "+t.data.message,e.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){return e.loading=!1}))}},created:function(){var t=this,e=[{text:this.$t("control-panel"),to:"/",disabled:!1},{text:this.$t("Security Settings"),to:"/Security",disabled:!1}];this.$emit("updatePage",e),this.reqRules=[function(e){return!!e||t.$t("Field is required")}],this.emailRules=[function(e){return!!e||t.$t("Email is required")},function(e){return/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,10})+$/.test(e)||t.$t("Email must be valid")}],this.numberRules=[function(e){return!isNaN(e)||t.$t("Please enter a valid number")}],this.passLengthRules=[function(e){return!isNaN(e)||t.$t("Please enter a valid number")},function(e){return e>=6&&e<=18||t.$t("Valid range: 6 - 18")}],this.deviceRulesHead=[{text:this.$t("Title"),value:"ruleName"},{text:this.$t("Filter"),value:"filterName"},{text:this.$t("Actions"),value:"actions",sortable:!1}],this.authFactors=[{text:this.$t("None"),value:0},{text:this.$t("Password only"),value:1},{text:this.$t("Biometric/OTP only"),value:2},{text:this.$t("Both password and biometric/OTP"),value:3},{text:this.$t("Password or biometric/OTP"),value:4}],this.secondFactorMethods=[{text:this.$t("Biometric only"),value:1},{text:this.$t("OTP only"),value:2},{text:this.$t("Biometric or OTP"),value:3}],this.otpTypes=[{text:this.$t("Time-based One-time Password (TOTP)"),value:0},{text:this.$t("SMS"),value:1}],this.refresh()}},l=s,c=l,u=a(1001),d=a(43453),p=a.n(d),h=a(63150),f=a(32371),v=a(37118),m=a(82102),g=a(4228),b=a(76277),y=a(4497),w=a(46232),k=a(96428),x=a(73274),S=a(4367),$=(a(68309),a(55097)),D=a(70172),_=a(58230),C=a(66210),T=a(46952),P=a(17352),O=a(89155),A=a(48085),Z=a(7764),I=a(4589),R=a(73325),L=a(76290),E=["title"],V=(0,R.Z)(C.Z,T.Z,O.Z,(0,P.d)("radioGroup"),A.Z),N=V.extend().extend({name:"v-radio",inheritAttrs:!1,props:{disabled:Boolean,id:String,label:String,name:String,offIcon:{type:String,default:"$radioOff"},onIcon:{type:String,default:"$radioOn"},readonly:Boolean,value:{default:null}},data:function(){return{isFocused:!1}},computed:{classes:function(){return(0,S.Z)((0,S.Z)({"v-radio--is-disabled":this.isDisabled,"v-radio--is-focused":this.isFocused},this.themeClasses),this.groupClasses)},computedColor:function(){return Z.Z.options.computed.computedColor.call(this)},computedIcon:function(){return this.isActive?this.onIcon:this.offIcon},computedId:function(){return _.Z.options.computed.computedId.call(this)},hasLabel:_.Z.options.computed.hasLabel,hasState:function(){return(this.radioGroup||{}).hasState},isDisabled:function(){return this.disabled||!!this.radioGroup&&this.radioGroup.isDisabled},isReadonly:function(){return this.readonly||!!this.radioGroup&&this.radioGroup.isReadonly},computedName:function(){return this.name||!this.radioGroup?this.name:this.radioGroup.name||"radio-".concat(this.radioGroup._uid)},rippleState:function(){return Z.Z.options.computed.rippleState.call(this)},validationState:function(){return(this.radioGroup||{}).validationState||this.computedColor}},methods:{genInput:function(t){return Z.Z.options.methods.genInput.call(this,"radio",t)},genLabel:function(){return this.hasLabel?this.$createElement($.Z,{on:{click:Z.X},attrs:{for:this.computedId},props:{color:this.validationState,focused:this.hasState}},(0,I.z9)(this,"label")||this.label):null},genRadio:function(){var t=this.attrs$,e=(t.title,(0,x.Z)(t,E));return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(D.Z,this.setTextColor(this.validationState,{props:{dense:this.radioGroup&&this.radioGroup.dense}}),this.computedIcon),this.genInput((0,S.Z)({name:this.computedName,value:this.value},e)),this.genRipple(this.setTextColor(this.rippleState))])},onFocus:function(t){this.isFocused=!0,this.$emit("focus",t)},onBlur:function(t){this.isFocused=!1,this.$emit("blur",t)},onChange:function(){this.isDisabled||this.isReadonly||this.isActive||this.toggle()},onKeydown:function(){}},render:function(t){var e={staticClass:"v-radio",class:this.classes,on:(0,L.bp)({click:this.onChange},this.listeners$),attrs:{title:this.attrs$.title}};return t("div",e,[this.genRadio(),this.genLabel()])}}),j=(a(9653),a(2245),a(24622)),F=(0,R.Z)(j.y,_.Z),B=F.extend({name:"v-radio-group",provide:function(){return{radioGroup:this}},props:{column:{type:Boolean,default:!0},height:{type:[Number,String],default:"auto"},name:String,row:Boolean,value:null},computed:{classes:function(){return(0,S.Z)((0,S.Z)({},_.Z.options.computed.classes.call(this)),{},{"v-input--selection-controls v-input--radio-group":!0,"v-input--radio-group--column":this.column&&!this.row,"v-input--radio-group--row":this.row})}},methods:{genDefaultSlot:function(){return this.$createElement("div",{staticClass:"v-input--radio-group__input",attrs:{id:this.id,role:"radiogroup","aria-labelledby":this.computedId}},_.Z.options.methods.genDefaultSlot.call(this))},genInputSlot:function(){var t=_.Z.options.methods.genInputSlot.call(this);return delete t.data.on.click,t},genLabel:function(){var t=_.Z.options.methods.genLabel.call(this);return t?(t.data.attrs.id=this.computedId,delete t.data.attrs.for,t.tag="legend",t):null},onClick:j.y.options.methods.onClick},render:function(t){var e=_.Z.options.render.call(this,t);return this._b(e.data,"div",this.attrs$),e}}),M=a(62877),U=a(47032),z=a(83385),H=a(13202),q=a(99762),W=a(94227),G=a(71759),Y=a(38697),K=a(51954),J=a(21208),X=a(55978),Q=a(36656),tt=a(27921),et=(0,u.Z)(c,n,i,!1,null,null,null),at=et.exports;p()(et,{VBtn:h.Z,VCard:f.Z,VCardActions:v.h7,VCardSubtitle:v.Qq,VCardText:v.ZB,VCardTitle:v.EB,VCol:m.Z,VContainer:g.Z,VDataTable:b.Z,VDialog:y.Z,VForm:w.Z,VIcon:k.Z,VRadio:N,VRadioGroup:B,VRow:M.Z,VSelect:U.Z,VSheet:z.Z,VSnackbar:H.Z,VSpacer:q.Z,VTab:W.Z,VTabItem:G.Z,VTabs:Y.Z,VTabsItems:K.Z,VTabsSlider:J.Z,VTextField:X.Z,VToolbar:Q.Z,VToolbarTitle:tt.qW})},46116:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return Z}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:"bg"}},[a("v-toolbar",{attrs:{color:"secondary",dark:"",flat:""},scopedSlots:t._u([{key:"extension",fn:function(){return[a("v-tabs",{attrs:{"align-with-title":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tabs-slider",{attrs:{color:"primary"}}),a("v-tab",{key:"list"},[t._v(" "+t._s(t.$t("Devices"))+" ")])],1)]},proxy:!0}])},[a("v-toolbar-title",[t._v(" "+t._s(t.$t("Telephony")))]),a("v-spacer")],1),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",{key:"list",staticClass:"bg"},[a("v-data-table",{staticClass:"ma-4 bg",attrs:{color:"bg",headers:t.headers,items:t.rows,"server-items-length":t.totalItems,"items-per-page":5,loading:t.loading,options:t.options,search:t.search,"multi-sort":"","show-select":"","item-key":"item_key"},on:{"update:options":[function(e){t.options=e},t.updateOptions],"click:row":t.rowClick},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"bg"}},[t.selectedDevices.length>0&&t.appData.checkPermission("/profiles","w")?a("v-btn",{staticClass:"ma-4",attrs:{color:"primary"},on:{click:function(e){return t.setExtension(!0)}}},[t._v(t._s(t.$t("Add Local Extension"))+" ")]):t._e(),t.selectedDevices.length>0&&t.appData.checkPermission("/profiles","w")?a("v-btn",{staticClass:"ma-4",attrs:{color:"primary"},on:{click:function(e){t.dialogRemoveExtension=!0}}},[t._v(t._s(t.$t("Remove Local Extension"))+" ")]):t._e(),1!=t.selectedDevices.length||!t.appData.checkPermission("@/","rw")||t.selectedDevices[0].assigned_phone_number&&""!=t.selectedDevices[0].assigned_phone_number?t._e():a("v-btn",{staticClass:"ma-4",attrs:{color:"primary"},on:{click:function(e){return t.addExternalNumber()}}},[t._v(t._s(t.$t("Add External Number"))+" ")]),1==t.selectedDevices.length&&t.appData.checkPermission("@/","rw")&&t.selectedDevices[0].assigned_phone_number&&""!=t.selectedDevices[0].assigned_phone_number?a("v-btn",{staticClass:"ma-4",attrs:{color:"primary"},on:{click:function(e){t.dialogRemoveExternal=!0}}},[t._v(t._s(t.$t("Remove External Number"))+" ")]):t._e(),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]},proxy:!0},{key:"item.last_login",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.last_login?t.moment(a.last_login).format("LLL"):"")+" ")]}}],null,!0),model:{value:t.selectedDevices,callback:function(e){t.selectedDevices=e},expression:"selectedDevices"}})],1),a("v-tab-item",{key:"settings",staticClass:"bg"})],1),a("v-dialog",{attrs:{"overlay-color":"bg","max-width":"800px"},model:{value:t.numberDialog,callback:function(e){t.numberDialog=e},expression:"numberDialog"}},[a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(" "+t._s(t.$t("Select Number"))+" ")]),a("v-data-table",{staticClass:"elevation-1 ma-4 bg",attrs:{headers:t.numberHeaders,items:t.numberRows,loading:t.numberLoading,"items-per-page":5},on:{"click:row":t.numberClick}})],1)],1),a("v-dialog",{attrs:{"max-width":"500px",color:"bg"},model:{value:t.dialogRemoveExternal,callback:function(e){t.dialogRemoveExternal=e},expression:"dialogRemoveExternal"}},[a("v-card",{attrs:{color:"bg"}},[a("v-card-subtitle",{staticClass:"headline"},[t._v(t._s(t.$t("Are you sure you want to remove external number?")))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"warning"},on:{click:function(e){t.dialogRemoveExternal=!1}}},[t._v(t._s(t.$t("Cancel")))]),a("v-btn",{attrs:{color:"error"},on:{click:function(e){return t.removeNumber()}}},[t._v(t._s(t.$t("OK")))]),a("v-spacer")],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px",color:"bg"},model:{value:t.dialogRemoveExtension,callback:function(e){t.dialogRemoveExtension=e},expression:"dialogRemoveExtension"}},[a("v-card",{attrs:{color:"bg"}},[a("v-card-subtitle",{staticClass:"headline"},[t._v(t._s(t.$t("Are you sure you want to remove local extensions?")))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"warning"},on:{click:function(e){t.dialogRemoveExtension=!1}}},[t._v(t._s(t.$t("Cancel")))]),a("v-btn",{attrs:{color:"error"},on:{click:function(e){return t.setExtension(!1)}}},[t._v(t._s(t.$t("OK")))]),a("v-spacer")],1)],1)],1),a("v-snackbar",{attrs:{timeout:2e3},scopedSlots:t._u([{key:"action",fn:function(e){var n=e.attrs;return[a("v-btn",t._b({attrs:{color:"info",text:""},on:{click:function(e){t.snackbarSave=!1}}},"v-btn",n,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbarSave,callback:function(e){t.snackbarSave=e},expression:"snackbarSave"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},i=[],o=a(62032),r=a(16198),s=(a(92222),a(41539),a(74916),a(64765),a(54747),a(35666),a(13888)),l=a(23144),c=a(30381),u={name:"Telephony",data:function(){return{tab:{},headers:[],rows:[],search:"",selectedDevices:[],totalItems:0,loading:!0,options:{sortBy:["last_login"],sortDesc:[!0]},numberDialog:!1,c:[],numberRows:[],numberLoading:!1,snackbarSave:!1,dialogRemoveExternal:!1,dialogRemoveExtension:!1,appData:s.Z,moment:c}},methods:{updateOptions:function(){this.refresh()},rowClick:function(t){console.log("rowClick: ".concat(t.email)),this.$router.push("/Profile/"+t.email)},setExtension:function(){var t=(0,r.Z)(regeneratorRuntime.mark((function t(e){var a,n,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e?a="assignLocalExtension":(a="removeLocalExtension",this.dialogRemoveExtension=!1),n=(0,o.Z)(this.selectedDevices),t.prev=2,n.s();case 4:if((i=n.n()).done){t.next=10;break}return r=i.value,t.next=8,this.setExtensionToDevice(r,a);case 8:t.next=4;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](2),n.e(t.t0);case 15:return t.prev=15,n.f(),t.finish(15);case 18:this.selectedDevices=[],this.refresh();case 20:case"end":return t.stop()}}),t,this,[[2,12,15,18]])})));function e(e){return t.apply(this,arguments)}return e}(),setExtensionToDevice:function(){var t=(0,r.Z)(regeneratorRuntime.mark((function t(e,a){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.Z.post({url:"api/telephony/".concat(e.email,"/").concat(e.imei),data:{action:a}});case 3:n=t.sent,console.log(n.data),1==n.data.status?(this.snackbarSave=!0,this.snackbarText=this.$t("Saved")):(console.log("status: ".concat(n.data.status)),this.snackbarSave=!0,this.snackbarText=this.$t("Error")),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(e,a){return t.apply(this,arguments)}return e}(),addExternalNumber:function(){var t=(0,r.Z)(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e=this.selectedDevices[0],this.numberLoading=!0,this.numberDialog=!0,this.numberRows=[],t.next=7,l.Z.post({url:"api/telephony/".concat(e.email,"/").concat(e.imei),data:{action:"getAvailableNumbers"}});case 7:a=t.sent,console.log(a.data),1==a.data.status?(this.numberHeaders=[{text:this.$t("Phone"),value:"phoneNumber"}],this.numberRows=a.data.availablePhoneNumbers,this.numberLoading=!1):(console.log("status: ".concat(a.data.status)),this.snackbarSave=!0,this.snackbarText=this.$t("Error")),t.next=19;break;case 12:t.prev=12,t.t0=t["catch"](0),console.error(t.t0),this.numberLoading=!1,this.numberDialog=!1,this.snackbarSave=!0,this.snackbarText=this.$t("Error");case 19:case"end":return t.stop()}}),t,this,[[0,12]])})));function e(){return t.apply(this,arguments)}return e}(),numberClick:function(){var t=(0,r.Z)(regeneratorRuntime.mark((function t(e){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a=this.selectedDevices[0],t.next=4,l.Z.post({url:"api/telephony/".concat(a.email,"/").concat(a.imei),data:{action:"subscribeToNumber",phoneNumber:e.phoneNumber}});case 4:n=t.sent,console.log(n.data),1==n.data.status?(this.selectedDevices=[],this.snackbarSave=!0,this.snackbarText=this.$t("Number Added"),this.refresh()):(console.log("status: ".concat(n.data.status)),this.snackbarSave=!0,this.snackbarText=this.$t("Error")),this.numberDialog=!1,t.next=17;break;case 10:t.prev=10,t.t0=t["catch"](0),console.error(t.t0),this.numberLoading=!1,this.numberDialog=!1,this.snackbarSave=!0,this.snackbarText=this.$t("Error");case 17:case"end":return t.stop()}}),t,this,[[0,10]])})));function e(e){return t.apply(this,arguments)}return e}(),removeNumber:function(){var t=(0,r.Z)(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.dialogRemoveExternal=!1,e=this.selectedDevices[0],t.next=5,l.Z.post({url:"api/telephony/".concat(e.email,"/").concat(e.imei),data:{action:"removeNumber"}});case 5:a=t.sent,console.log(a.data),1==a.data.status?(this.selectedDevices=[],this.snackbarSave=!0,this.snackbarText=this.$t("Number Removed"),this.refresh()):(console.log("status: ".concat(a.data.status)),this.snackbarSave=!0,this.snackbarText=this.$t("Error")),t.next=15;break;case 10:t.prev=10,t.t0=t["catch"](0),console.error(t.t0),this.snackbarSave=!0,this.snackbarText=this.$t("Error");case 15:case"end":return t.stop()}}),t,this,[[0,10]])})));function e(){return t.apply(this,arguments)}return e}(),refresh:function(){var t=this,e=this.options.itemsPerPage>0?this.options.itemsPerPage:1e4,a=(this.options.page-1)*e;console.log(this.options),l.Z.get({url:"api/devices",params:{offset:a,limit:e,sortBy:this.options.sortBy,sortDesc:this.options.sortDesc,search:this.search}}).then((function(e){console.log(e.data),1==e.data.status?(t.rows=e.data.devices,t.rows.forEach((function(t){t.item_key="".concat(t.email,":").concat(t.imei)})),t.totalItems=e.data.count):console.log("status: ".concat(e.data.status))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))}},created:function(){var t=[{text:this.$t("control-panel"),to:"/",disabled:!1},{text:this.$t("Telephony"),to:"/Telephony",disabled:!1}];this.$emit("updatePage",t),this.headers=[{text:this.$t("Connect Time"),value:"last_login"},{text:this.$t("Last Name"),value:"user.lastname"},{text:this.$t("First Name"),value:"user.firstname"},{text:this.$t("Email"),value:"email"},{text:this.$t("Device Name"),value:"devicename"},{text:this.$t("Device ID"),value:"imei"},{text:this.$t("Extension"),value:"local_extension"},{text:this.$t("External Number"),value:"assigned_phone_number"}]},watch:{tab:function(t){console.log("tab: ".concat(t))},search:function(t){console.log("search: ".concat(t)),(t.length>1||0==t.length)&&this.refresh()}}},d=u,p=d,h=a(1001),f=a(43453),v=a.n(f),m=a(63150),g=a(32371),b=a(37118),y=a(76277),w=a(4497),k=a(13202),x=a(99762),S=a(94227),$=a(71759),D=a(38697),_=a(51954),C=a(21208),T=a(55978),P=a(36656),O=a(27921),A=(0,h.Z)(p,n,i,!1,null,null,null),Z=A.exports;v()(A,{VBtn:m.Z,VCard:g.Z,VCardActions:b.h7,VCardSubtitle:b.Qq,VCardTitle:b.EB,VDataTable:y.Z,VDialog:w.Z,VSnackbar:k.Z,VSpacer:x.Z,VTab:S.Z,VTabItem:$.Z,VTabs:D.Z,VTabsItems:_.Z,VTabsSlider:C.Z,VTextField:T.Z,VToolbar:P.Z,VToolbarTitle:O.qW})},16198:function(t,e,a){"use strict";a.d(e,{Z:function(){return i}});a(41539);function n(t,e,a,n,i,o,r){try{var s=t[o](r),l=s.value}catch(c){return void a(c)}s.done?e(l):Promise.resolve(l).then(n,i)}function i(t){return function(){var e=this,a=arguments;return new Promise((function(i,o){var r=t.apply(e,a);function s(t){n(r,i,o,s,l,"next",t)}function l(t){n(r,i,o,s,l,"throw",t)}s(void 0)}))}}}}]);
//# sourceMappingURL=about-legacy.760892db.js.map