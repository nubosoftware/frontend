(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"02f0":function(t,e,a){},"0798":function(t,e,a){"use strict";var s=a("5530"),i=a("ade3"),n=(a("caad"),a("0c18"),a("10d2")),o=a("afdd"),r=a("9d26"),l=a("f2e7"),c=a("7560"),u=a("2b0e"),d=u["a"].extend({name:"transitionable",props:{mode:String,origin:String,transition:String}}),h=a("58df"),p=a("d9bd");e["a"]=Object(h["a"])(n["a"],l["a"],d).extend({name:"v-alert",props:{border:{type:String,validator:function(t){return["top","right","bottom","left"].includes(t)}},closeLabel:{type:String,default:"$vuetify.close"},coloredBorder:Boolean,dense:Boolean,dismissible:Boolean,closeIcon:{type:String,default:"$cancel"},icon:{default:"",type:[Boolean,String],validator:function(t){return"string"===typeof t||!1===t}},outlined:Boolean,prominent:Boolean,text:Boolean,type:{type:String,validator:function(t){return["info","error","success","warning"].includes(t)}},value:{type:Boolean,default:!0}},computed:{__cachedBorder:function(){if(!this.border)return null;var t={staticClass:"v-alert__border",class:Object(i["a"])({},"v-alert__border--".concat(this.border),!0)};return this.coloredBorder&&(t=this.setBackgroundColor(this.computedColor,t),t.class["v-alert__border--has-color"]=!0),this.$createElement("div",t)},__cachedDismissible:function(){var t=this;if(!this.dismissible)return null;var e=this.iconColor;return this.$createElement(o["a"],{staticClass:"v-alert__dismissible",props:{color:e,icon:!0,small:!0},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:function(){return t.isActive=!1}}},[this.$createElement(r["a"],{props:{color:e}},this.closeIcon)])},__cachedIcon:function(){return this.computedIcon?this.$createElement(r["a"],{staticClass:"v-alert__icon",props:{color:this.iconColor}},this.computedIcon):null},classes:function(){var t=Object(s["a"])(Object(s["a"])({},n["a"].options.computed.classes.call(this)),{},{"v-alert--border":Boolean(this.border),"v-alert--dense":this.dense,"v-alert--outlined":this.outlined,"v-alert--prominent":this.prominent,"v-alert--text":this.text});return this.border&&(t["v-alert--border-".concat(this.border)]=!0),t},computedColor:function(){return this.color||this.type},computedIcon:function(){return!1!==this.icon&&("string"===typeof this.icon&&this.icon?this.icon:!!["error","info","success","warning"].includes(this.type)&&"$".concat(this.type))},hasColoredIcon:function(){return this.hasText||Boolean(this.border)&&this.coloredBorder},hasText:function(){return this.text||this.outlined},iconColor:function(){return this.hasColoredIcon?this.computedColor:void 0},isDark:function(){return!(!this.type||this.coloredBorder||this.outlined)||c["a"].options.computed.isDark.call(this)}},created:function(){this.$attrs.hasOwnProperty("outline")&&Object(p["a"])("outline","outlined",this)},methods:{genWrapper:function(){var t=[this.$slots.prepend||this.__cachedIcon,this.genContent(),this.__cachedBorder,this.$slots.append,this.$scopedSlots.close?this.$scopedSlots.close({toggle:this.toggle}):this.__cachedDismissible],e={staticClass:"v-alert__wrapper"};return this.$createElement("div",e,t)},genContent:function(){return this.$createElement("div",{staticClass:"v-alert__content"},this.$slots.default)},genAlert:function(){var t={staticClass:"v-alert",attrs:{role:"alert"},on:this.listeners$,class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};if(!this.coloredBorder){var e=this.hasText?this.setTextColor:this.setBackgroundColor;t=e(this.computedColor,t)}return this.$createElement("div",t,[this.genWrapper()])},toggle:function(){this.isActive=!this.isActive}},render:function(t){var e=this.genAlert();return this.transition?t("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[e]):e}})},"09f4":function(t,e,a){"use strict";a("8107")},"0c18":function(t,e,a){},"0ccb":function(t,e,a){var s=a("e330"),i=a("50c4"),n=a("577e"),o=a("1148"),r=a("1d80"),l=s(o),c=s("".slice),u=Math.ceil,d=function(t){return function(e,a,s){var o,d,h=n(r(e)),p=i(a),f=h.length,v=void 0===s?" ":n(s);return p<=f||""==v?h:(o=p-f,d=l(v,u(o/v.length)),d.length>o&&(d=c(d,0,o)),t?h+d:d+h)}};t.exports={start:d(!1),end:d(!0)}},"0d3b":function(t,e,a){var s=a("d039"),i=a("b622"),n=a("c430"),o=i("iterator");t.exports=!s((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,a="";return t.pathname="c%20d",e.forEach((function(t,s){e["delete"]("b"),a+=s+t})),n&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==a||"x"!==new URL("http://x",void 0).host}))},"0ebc":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:"bg"}},[a("v-toolbar",{attrs:{color:"secondary",dark:"",flat:""},scopedSlots:t._u([{key:"extension",fn:function(){return[a("v-tabs",{attrs:{"align-with-title":"",flat:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tabs-slider",{attrs:{color:"primary"}}),a("v-tab",{key:"approval"},[t._v(" Device approval ")]),a("v-tab",{key:"auth"},[t._v(" Authentication ")]),t.appData.isMobile()?a("v-tab",{key:"rules"},[t._v(" Device Rules ")]):t._e()],1)]},proxy:!0}])},[a("v-toolbar-title",[t._v(" "+t._s(t.$t("Security Settings"))+" ")]),a("v-spacer")],1),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",{key:"approval"},[a("v-card",{staticClass:"ma-0",attrs:{flat:"",color:"bg",tile:""}},[a("v-card-title",[t._v(t._s(t.$t("Device approval options")))]),a("v-form",{ref:"formApproval",model:{value:t.validFormApproval,callback:function(e){t.validFormApproval=e},expression:"validFormApproval"}},[a("v-radio-group",{staticClass:"mx-4 my-0",attrs:{column:""},model:{value:t.deviceApproval.deviceApprovalType,callback:function(e){t.$set(t.deviceApproval,"deviceApprovalType",e)},expression:"deviceApproval.deviceApprovalType"}},[a("v-radio",{staticClass:"mb-4",attrs:{label:"Automatically approve/reset devices",value:"0"}}),a("v-radio",t._g({staticClass:"mb-4",attrs:{label:"Manualy approve/reset devices",value:"1"}},t.on)),a("v-radio",t._g({attrs:{label:"Both",value:"2"}},t.on))],1),"0"!=t.deviceApproval.deviceApprovalType?a("v-sheet",{attrs:{color:"bg"}},[a("v-card-title",[t._v(t._s(t.$t("Notify admins by:")))]),a("v-radio-group",{staticClass:"mx-4 my-0",attrs:{column:""},on:{change:t.notifTypeChange},model:{value:t.notifType,callback:function(e){t.notifType=e},expression:"notifType"}},[a("v-radio",{staticClass:"mb-4",attrs:{label:t.$t("Push notification to admins devices"),value:"pushnotif"}}),a("v-radio",t._g({attrs:{label:t.$t("Email to a dedicated email address"),value:"emailnotif"}},t.on))],1),"emailnotif"==t.notifType?a("v-text-field",{staticClass:"mx-8 my-0",attrs:{label:"Email",rules:t.emailRules,required:""},model:{value:t.deviceApproval.notifierAdmin,callback:function(e){t.$set(t.deviceApproval,"notifierAdmin",e)},expression:"deviceApproval.notifierAdmin"}}):t._e()],1):t._e(),a("v-btn",{staticClass:"ma-4",attrs:{color:"primary",loading:t.updateDeviceApprovalLoading},on:{click:t.updateDeviceApproval}},[t._v("Save ")])],1)],1)],1),a("v-tab-item",{key:"auth"},[a("v-card",{staticClass:"ma-0",attrs:{flat:"",color:"bg"}},[a("v-form",{ref:"formAuth",model:{value:t.validFormAuth,callback:function(e){t.validFormAuth=e},expression:"validFormAuth"}},[a("v-select",{staticClass:"ma-4",attrs:{items:t.authFactors,label:t.$t("Authentication methods")},model:{value:t.authentication.clientauthtype,callback:function(e){t.$set(t.authentication,"clientauthtype",e)},expression:"authentication.clientauthtype"}}),1==t.authentication.clientauthtype||3==t.authentication.clientauthtype||4==t.authentication.clientauthtype?a("v-container",[a("v-card-subtitle",[t._v(t._s(t.$t("Password options")))]),a("v-radio-group",{staticClass:"mx-4 my-0",attrs:{column:""},model:{value:t.authentication.passcodeType,callback:function(e){t.$set(t.authentication,"passcodeType",e)},expression:"authentication.passcodeType"}},[a("v-radio",{staticClass:"mb-4",attrs:{label:t.$t("Passcode (digits)"),value:"0"}}),a("v-radio",{staticClass:"mb-4",attrs:{label:t.$t("Password (contains characters)"),value:"1"}})],1),"1"==t.authentication.passcodeType?a("v-container",[a("v-card-subtitle",[t._v(t._s(t.$t("Password requirements")))]),a("v-card-text",{staticClass:"shrink"},[a("div",[t._v(" "+t._s(t.$t("- Use upper-case or lower-case letters (case sensitive)"))+" ")]),a("div",[t._v(t._s(t.$t("- Include one or more numerical digits")))]),a("div",[t._v(" "+t._s(t.$t("- Include one or more special characters:"))+" ><)(&$+;:=?@#|.^*_~{}%!-' ")])])],1):t._e(),a("v-sheet",{attrs:{color:"bg"}},[a("v-card-subtitle",[t._v(t._s(t.$t("Password minimum length")))]),a("v-row",{staticClass:"mx-4 my-0"},[a("v-col",{attrs:{cols:"12",sm:"3",md:"2"}},[a("v-text-field",{staticClass:"shrink",attrs:{dense:"",rules:t.passLengthRules,required:"",label:t.$t("Password length")},model:{value:t.authentication.passcodeMinChars,callback:function(e){t.$set(t.authentication,"passcodeMinChars",e)},expression:"authentication.passcodeMinChars"}})],1)],1),a("v-card-subtitle",[t._v(t._s(t.$t("Set Expiration Time")))]),a("v-card-subtitle",[t._v(t._s(t.$t("Ask users to change password every (insert 0 for unlimited)")))]),a("v-row",{staticClass:"mx-4 my-0"},[a("v-col",{attrs:{cols:"12",sm:"3",md:"2"}},[a("number-input",{attrs:{step:1,inline:"",controls:""}}),a("v-text-field",{staticClass:"shrink>",attrs:{dense:"",rules:t.numberRules,required:"",label:t.$t("Expiration days")},model:{value:t.authentication.passcodeExpirationDays,callback:function(e){t.$set(t.authentication,"passcodeExpirationDays",e)},expression:"authentication.passcodeExpirationDays"}})],1)],1)],1)],1):t._e(),2==t.authentication.clientauthtype||3==t.authentication.clientauthtype||4==t.authentication.clientauthtype?a("v-container",[a("v-select",{staticClass:"ma-4",attrs:{items:t.secondFactorMethods,label:t.$t("Second factor authentication methods")},model:{value:t.authentication.secondauthmethod,callback:function(e){t.$set(t.authentication,"secondauthmethod",e)},expression:"authentication.secondauthmethod"}})],1):t._e(),(2==t.authentication.clientauthtype||3==t.authentication.clientauthtype||4==t.authentication.clientauthtype)&&t.authentication.secondauthmethod>1?a("v-container",[a("v-select",{staticClass:"ma-4",attrs:{items:t.otpTypes,label:t.$t("OTP methods")},model:{value:t.authentication.otptype,callback:function(e){t.$set(t.authentication,"otptype",e)},expression:"authentication.otptype"}})],1):t._e(),a("v-btn",{staticClass:"ma-4",attrs:{color:"primary",loading:t.loadingUpdateAuth},on:{click:t.updateAuthentication}},[t._v("Save ")])],1)],1)],1),a("v-tab-item",{key:"rules",staticClass:"bg"},[a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(" "+t._s(t.$t("Rules List"))+" "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-data-table",{staticClass:"ma-4 bg",attrs:{color:"bg",headers:t.deviceRulesHead,items:t.deviceRules.blockedDevices,search:t.search,loading:t.loading},on:{"click:row":t.rowClick},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"bg"}},[a("v-btn",{staticClass:"ma-4",attrs:{color:"primary"},on:{click:function(e){t.ruleDialog=!0}}},[t._v(t._s(t.$t("New Rule")))])],1)]},proxy:!0},{key:"item.actions",fn:function(e){var s=e.item;return[a("v-icon",{staticClass:"mx-2",attrs:{small:""},on:{click:function(e){return t.deleteDeviceRule(s,e)}}},[t._v(" mdi-delete ")])]}}])}),a("v-dialog",{attrs:{"overlay-color":"bg","max-width":"800px"},model:{value:t.ruleDialog,callback:function(e){t.ruleDialog=e},expression:"ruleDialog"}},[a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(t._s(t.$t("Add Rule")))]),a("v-form",{ref:"formAddRule",model:{value:t.validFormAddRule,callback:function(e){t.validFormAddRule=e},expression:"validFormAddRule"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{staticClass:"mx-8 my-0",attrs:{label:"Rule Title",rules:t.reqRules,required:""},model:{value:t.addRuleTitle,callback:function(e){t.addRuleTitle=e},expression:"addRuleTitle"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{staticClass:"mx-8 my-0",attrs:{label:"Filter",rules:t.reqRules,required:""},model:{value:t.addRuleFilter,callback:function(e){t.addRuleFilter=e},expression:"addRuleFilter"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-btn",{staticClass:"ma-4",attrs:{color:"primary",loading:t.addRuleLoading},on:{click:t.addDeviceRule}},[t._v("Save ")])],1)],1)],1)],1)],1)],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"690"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[t._v(" "+t._s(t.$t("WarningPasswordOptionChange"))+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"error darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" "+t._s(t.$t("No"))+" ")]),a("v-btn",{attrs:{color:"success darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" "+t._s(t.$t("Yes"))+" ")])],1)],1)],1),a("v-snackbar",{attrs:{timeout:2e3},scopedSlots:t._u([{key:"action",fn:function(e){var s=e.attrs;return[a("v-btn",t._b({attrs:{color:"info",text:""},on:{click:function(e){t.snackbarSave=!1}}},"v-btn",s,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbarSave,callback:function(e){t.snackbarSave=e},expression:"snackbarSave"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},i=[],n=(a("d3b7"),a("e9c4"),a("25f0"),a("ac1f"),a("00b4"),a("af52")),o=a("96f7"),r={name:"EmailSetup",data:function(){return{tab:{},deviceApproval:{},authentication:{},deviceRules:{},loading:!0,snackbarSave:!1,snackbarText:"",approveType:"selfapprove",notifType:"pushnotif",emailRules:[],numberRules:[],passLengthRules:[],deviceRulesHead:[],search:"",ruleDialog:!1,updateDeviceApprovalLoading:!1,validFormApproval:null,loadingUpdateAuth:!1,validFormAuth:null,dialog:!1,validFormAddRule:!1,addRuleTitle:"",addRuleFilter:"",addRuleLoading:!1,reqRules:[],appData:n["a"]}},methods:{notifTypeChange:function(t){"pushnotif"==t?this.deviceApproval.notifierAdmin="PUSH@nubo.local":"PUSH@nubo.local"==this.deviceApproval.notifierAdmin&&(this.deviceApproval.notifierAdmin="")},refresh:function(){var t=this;o["a"].get({url:"api/security/deviceApproval"}).then((function(e){console.log("deviceApproval: ".concat(JSON.stringify(e.data,null,2))),1==e.data.status?(console.log("status: ".concat(e.data.status)),t.deviceApproval=e.data,t.deviceApproval.deviceApprovalType=t.deviceApproval.deviceApprovalType.toString(10),"PUSH@nubo.local"==t.deviceApproval.notifierAdmin?t.notifType="pushnotif":t.notifType="emailnotif"):console.log("status: ".concat(e.data.status))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1})),o["a"].get({url:"api/security/authentication"}).then((function(e){console.log("authentication: ".concat(JSON.stringify(e.data,null,2))),1==e.data.status?(console.log("status: ".concat(e.data.status)),t.authentication=e.data,1==t.authentication.passcodeType||"1"==t.authentication.passcodeType?t.authentication.passcodeType="1":t.authentication.passcodeType="0"):console.log("status: ".concat(e.data.status))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1})),o["a"].get({url:"api/security/deviceRules"}).then((function(e){console.log("deviceRules: ".concat(JSON.stringify(e.data,null,2))),1==e.data.status?(console.log("status: ".concat(e.data.status)),t.deviceRules=e.data):console.log("status: ".concat(e.data.status))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},updateDeviceApproval:function(){var t=this;this.$refs.formApproval.validate(),this.validFormApproval&&(this.updateDeviceApprovalLoading=!0,o["a"].post({url:"api/security/deviceApproval",data:this.deviceApproval}).then((function(e){t.updateDeviceApprovalLoading=!1,console.log("updateDeviceApproval: ".concat(JSON.stringify(e.data,null,2))),1==e.data.status?(console.log("status: ".concat(e.data.status)),t.snackbarText=t.$t("Device approval updated"),t.snackbarSave=!0,t.refresh()):(console.log("status: ".concat(e.data.status)),t.snackbarText=t.$t("Error")+" - "+e.data.message,t.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1})))},updateAuthentication:function(){var t=this;if(this.$refs.formAuth.validate(),this.validFormAuth){this.loadingUpdateAuth=!0;var e={passcodeType:this.authentication.passcodeType,minChars:this.authentication.passcodeMinChars,expirationDays:this.authentication.passcodeExpirationDays.toString(10),clientauthtype:this.authentication.clientauthtype,secondauthmethod:this.authentication.secondauthmethod,otptype:this.authentication.otptype};console.log("updateAuthentication: "+JSON.stringify(e)),o["a"].post({url:"api/security/authentication",data:e}).then((function(e){t.loadingUpdateAuth=!1,console.log("updateAuthentication: ".concat(JSON.stringify(e.data,null,2))),1==e.data.status?(console.log("status: ".concat(e.data.status)),t.snackbarText=t.$t("Authentication method updated"),t.snackbarSave=!0,t.refresh()):(console.log("status: ".concat(e.data.status)),t.snackbarText=t.$t("Error")+" - "+e.data.message,t.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))}},addDeviceRule:function(){var t=this;if(this.$refs.formAddRule.validate(),this.validFormAddRule){var e={ruleName:this.addRuleTitle,filterName:this.addRuleFilter};this.addRuleLoading=!0,o["a"].put({url:"api/security/deviceRules",data:e}).then((function(e){console.log("addDeviceRule: ".concat(JSON.stringify(e.data,null,2))),t.addRuleLoading=!1,1==e.data.status?(console.log("status: ".concat(e.data.status)),t.snackbarText=t.$t("Device rule was added"),t.snackbarSave=!0,t.refresh(),t.addRuleTitle="",t.addRuleFilter="",t.ruleDialog=!1):(console.log("status: ".concat(e.data.status)),t.snackbarText=t.$t("Error")+" - "+e.data.message,t.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))}},updateDeviceRule:function(t,e){var a=this,s={ruleid:t,filterName:e};o["a"].post({url:"api/security/deviceRules",data:s}).then((function(t){console.log("updateDeviceRule: ".concat(JSON.stringify(t.data,null,2))),1==t.data.status?(console.log("status: ".concat(t.data.status)),a.snackbarText=a.$t("Device rule was updated"),a.snackbarSave=!0,a.refresh()):(console.log("status: ".concat(t.data.status)),a.snackbarText=a.$t("Error")+" - "+t.data.message,a.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){return a.loading=!1}))},deleteDeviceRule:function(t){var e=this,a={ruleid:t.ruleId,ruleName:t.ruleName,filterName:t.filterName};o["a"].delete({url:"api/security/deviceRules",data:a}).then((function(t){console.log("deleteDeviceRule: ".concat(JSON.stringify(t.data,null,2))),1==t.data.status?(console.log("status: ".concat(t.data.status)),e.snackbarText=e.$t("Device rule was deleted"),e.snackbarSave=!0,e.refresh()):(console.log("status: ".concat(t.data.status)),e.snackbarText=e.$t("Error")+" - "+t.data.message,e.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){return e.loading=!1}))}},created:function(){var t=this,e=[{text:this.$t("control-panel"),to:"/",disabled:!1},{text:this.$t("Security Settings"),to:"/Security",disabled:!1}];this.$emit("updatePage",e),this.reqRules=[function(e){return!!e||t.$t("Field is required")}],this.emailRules=[function(e){return!!e||t.$t("Email is required")},function(e){return/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,10})+$/.test(e)||t.$t("Email must be valid")}],this.numberRules=[function(e){return!isNaN(e)||t.$t("Please enter a valid number")}],this.passLengthRules=[function(e){return!isNaN(e)||t.$t("Please enter a valid number")},function(e){return e>=6&&e<=18||t.$t("Valid range: 6 - 18")}],this.deviceRulesHead=[{text:this.$t("Title"),value:"ruleName"},{text:this.$t("Filter"),value:"filterName"},{text:this.$t("Actions"),value:"actions",sortable:!1}],this.authFactors=[{text:this.$t("None"),value:0},{text:this.$t("Password only"),value:1},{text:this.$t("Biometric/OTP only"),value:2},{text:this.$t("Both password and biometric/OTP"),value:3},{text:this.$t("Password or biometric/OTP"),value:4}],this.secondFactorMethods=[{text:this.$t("Biometric only"),value:1},{text:this.$t("OTP only"),value:2},{text:this.$t("Biometric or OTP"),value:3}],this.otpTypes=[{text:this.$t("Time-based One-time Password (TOTP)"),value:0},{text:this.$t("SMS"),value:1}],this.refresh()}},l=r,c=l,u=a("2877"),d=a("6544"),h=a.n(d),p=a("8336"),f=a("b0af"),v=a("99d9"),m=a("62ad"),g=a("a523"),b=a("8fea"),y=a("169a"),k=a("4bd4"),x=a("132d"),w=a("15fd"),S=a("5530"),$=(a("b0c0"),a("2c64"),a("ba87")),D=a("9d26"),C=a("c37a"),_=a("7e2b"),T=a("a9ad"),A=a("4e82"),I=a("5311"),P=a("7560"),O=a("fe09"),L=a("80d2"),V=a("58df"),R=a("d9f7"),E=["title"],N=Object(V["a"])(_["a"],T["a"],I["a"],Object(A["a"])("radioGroup"),P["a"]),j=N.extend().extend({name:"v-radio",inheritAttrs:!1,props:{disabled:Boolean,id:String,label:String,name:String,offIcon:{type:String,default:"$radioOff"},onIcon:{type:String,default:"$radioOn"},readonly:Boolean,value:{default:null}},data:function(){return{isFocused:!1}},computed:{classes:function(){return Object(S["a"])(Object(S["a"])({"v-radio--is-disabled":this.isDisabled,"v-radio--is-focused":this.isFocused},this.themeClasses),this.groupClasses)},computedColor:function(){return O["a"].options.computed.computedColor.call(this)},computedIcon:function(){return this.isActive?this.onIcon:this.offIcon},computedId:function(){return C["a"].options.computed.computedId.call(this)},hasLabel:C["a"].options.computed.hasLabel,hasState:function(){return(this.radioGroup||{}).hasState},isDisabled:function(){return this.disabled||!!this.radioGroup&&this.radioGroup.isDisabled},isReadonly:function(){return this.readonly||!!this.radioGroup&&this.radioGroup.isReadonly},computedName:function(){return this.name||!this.radioGroup?this.name:this.radioGroup.name||"radio-".concat(this.radioGroup._uid)},rippleState:function(){return O["a"].options.computed.rippleState.call(this)},validationState:function(){return(this.radioGroup||{}).validationState||this.computedColor}},methods:{genInput:function(t){return O["a"].options.methods.genInput.call(this,"radio",t)},genLabel:function(){return this.hasLabel?this.$createElement($["a"],{on:{click:O["b"]},attrs:{for:this.computedId},props:{color:this.validationState,focused:this.hasState}},Object(L["u"])(this,"label")||this.label):null},genRadio:function(){var t=this.attrs$,e=(t.title,Object(w["a"])(t,E));return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(D["a"],this.setTextColor(this.validationState,{props:{dense:this.radioGroup&&this.radioGroup.dense}}),this.computedIcon),this.genInput(Object(S["a"])({name:this.computedName,value:this.value},e)),this.genRipple(this.setTextColor(this.rippleState))])},onFocus:function(t){this.isFocused=!0,this.$emit("focus",t)},onBlur:function(t){this.isFocused=!1,this.$emit("blur",t)},onChange:function(){this.isDisabled||this.isReadonly||this.isActive||this.toggle()},onKeydown:function(){}},render:function(t){var e={staticClass:"v-radio",class:this.classes,on:Object(R["c"])({click:this.onChange},this.listeners$),attrs:{title:this.attrs$.title}};return t("div",e,[this.genRadio(),this.genLabel()])}}),B=(a("a9e3"),a("ec29"),a("3d86"),a("604c")),U=Object(V["a"])(B["a"],C["a"]),F=U.extend({name:"v-radio-group",provide:function(){return{radioGroup:this}},props:{column:{type:Boolean,default:!0},height:{type:[Number,String],default:"auto"},name:String,row:Boolean,value:null},computed:{classes:function(){return Object(S["a"])(Object(S["a"])({},C["a"].options.computed.classes.call(this)),{},{"v-input--selection-controls v-input--radio-group":!0,"v-input--radio-group--column":this.column&&!this.row,"v-input--radio-group--row":this.row})}},methods:{genDefaultSlot:function(){return this.$createElement("div",{staticClass:"v-input--radio-group__input",attrs:{id:this.id,role:"radiogroup","aria-labelledby":this.computedId}},C["a"].options.methods.genDefaultSlot.call(this))},genInputSlot:function(){var t=C["a"].options.methods.genInputSlot.call(this);return delete t.data.on.click,t},genLabel:function(){var t=C["a"].options.methods.genLabel.call(this);return t?(t.data.attrs.id=this.computedId,delete t.data.attrs.for,t.tag="legend",t):null},onClick:B["a"].options.methods.onClick},render:function(t){var e=C["a"].options.render.call(this,t);return this._b(e.data,"div",this.attrs$),e}}),M=a("0fd9"),H=a("b974"),G=a("8dd9"),Y=a("2db4"),W=a("2fa4"),z=a("71a3"),q=a("c671"),K=a("fe57"),J=a("aac8"),Z=a("9a96"),X=a("8654"),Q=a("71d9"),tt=a("2a7f"),et=Object(u["a"])(c,s,i,!1,null,null,null);e["default"]=et.exports;h()(et,{VBtn:p["a"],VCard:f["a"],VCardActions:v["a"],VCardSubtitle:v["b"],VCardText:v["c"],VCardTitle:v["d"],VCol:m["a"],VContainer:g["a"],VDataTable:b["a"],VDialog:y["a"],VForm:k["a"],VIcon:x["a"],VRadio:j,VRadioGroup:F,VRow:M["a"],VSelect:H["a"],VSheet:G["a"],VSnackbar:Y["a"],VSpacer:W["a"],VTab:z["a"],VTabItem:q["a"],VTabs:K["a"],VTabsItems:J["a"],VTabsSlider:Z["a"],VTextField:X["a"],VToolbar:Q["a"],VToolbarTitle:tt["a"]})},"13b3":function(t,e,a){},1681:function(t,e,a){},"169a":function(t,e,a){"use strict";var s=a("5530"),i=a("2909"),n=a("ade3"),o=(a("a9e3"),a("498a"),a("caad"),a("2532"),a("d3b7"),a("7db0"),a("368e"),a("480e")),r=a("4ad4"),l=a("b848"),c=a("75eb"),u=a("e707"),d=a("e4d3"),h=a("21be"),p=a("f2e7"),f=a("a293"),v=a("58df"),m=a("d9bd"),g=a("80d2"),b=Object(v["a"])(r["a"],l["a"],c["a"],u["a"],d["a"],h["a"],p["a"]);e["a"]=b.extend({name:"v-dialog",directives:{ClickOutside:f["a"]},props:{dark:Boolean,disabled:Boolean,fullscreen:Boolean,light:Boolean,maxWidth:[String,Number],noClickAnimation:Boolean,origin:{type:String,default:"center center"},persistent:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,transition:{type:[String,Boolean],default:"dialog-transition"},width:[String,Number]},data:function(){return{activatedBy:null,animate:!1,animateTimeout:-1,isActive:!!this.value,stackMinZIndex:200,previousActiveElement:null}},computed:{classes:function(){var t;return t={},Object(n["a"])(t,"v-dialog ".concat(this.contentClass).trim(),!0),Object(n["a"])(t,"v-dialog--active",this.isActive),Object(n["a"])(t,"v-dialog--persistent",this.persistent),Object(n["a"])(t,"v-dialog--fullscreen",this.fullscreen),Object(n["a"])(t,"v-dialog--scrollable",this.scrollable),Object(n["a"])(t,"v-dialog--animated",this.animate),t},contentClasses:function(){return{"v-dialog__content":!0,"v-dialog__content--active":this.isActive}},hasActivator:function(){return Boolean(!!this.$slots.activator||!!this.$scopedSlots.activator)}},watch:{isActive:function(t){var e;t?(this.show(),this.hideScroll()):(this.removeOverlay(),this.unbind(),null==(e=this.previousActiveElement)||e.focus())},fullscreen:function(t){this.isActive&&(t?(this.hideScroll(),this.removeOverlay(!1)):(this.showScroll(),this.genOverlay()))}},created:function(){this.$attrs.hasOwnProperty("full-width")&&Object(m["e"])("full-width",this)},beforeMount:function(){var t=this;this.$nextTick((function(){t.isBooted=t.isActive,t.isActive&&t.show()}))},beforeDestroy:function(){"undefined"!==typeof window&&this.unbind()},methods:{animateClick:function(){var t=this;this.animate=!1,this.$nextTick((function(){t.animate=!0,window.clearTimeout(t.animateTimeout),t.animateTimeout=window.setTimeout((function(){return t.animate=!1}),150)}))},closeConditional:function(t){var e=t.target;return!(this._isDestroyed||!this.isActive||this.$refs.content.contains(e)||this.overlay&&e&&!this.overlay.$el.contains(e))&&this.activeZIndex>=this.getMaxZIndex()},hideScroll:function(){this.fullscreen?document.documentElement.classList.add("overflow-y-hidden"):u["a"].options.methods.hideScroll.call(this)},show:function(){var t=this;!this.fullscreen&&!this.hideOverlay&&this.genOverlay(),this.$nextTick((function(){t.$nextTick((function(){t.$refs.content.contains(document.activeElement)||(t.previousActiveElement=document.activeElement,t.$refs.content.focus()),t.bind()}))}))},bind:function(){window.addEventListener("focusin",this.onFocusin)},unbind:function(){window.removeEventListener("focusin",this.onFocusin)},onClickOutside:function(t){this.$emit("click:outside",t),this.persistent?this.noClickAnimation||this.animateClick():this.isActive=!1},onKeydown:function(t){if(t.keyCode===g["A"].esc&&!this.getOpenDependents().length)if(this.persistent)this.noClickAnimation||this.animateClick();else{this.isActive=!1;var e=this.getActivator();this.$nextTick((function(){return e&&e.focus()}))}this.$emit("keydown",t)},onFocusin:function(t){if(t&&this.retainFocus){var e=t.target;if(e&&![document,this.$refs.content].includes(e)&&!this.$refs.content.contains(e)&&this.activeZIndex>=this.getMaxZIndex()&&!this.getOpenDependentElements().some((function(t){return t.contains(e)}))){var a=this.$refs.content.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),s=Object(i["a"])(a).find((function(t){return!t.hasAttribute("disabled")}));s&&s.focus()}}},genContent:function(){var t=this;return this.showLazyContent((function(){return[t.$createElement(o["a"],{props:{root:!0,light:t.light,dark:t.dark}},[t.$createElement("div",{class:t.contentClasses,attrs:Object(s["a"])({role:"document",tabindex:t.isActive?0:void 0},t.getScopeIdAttrs()),on:{keydown:t.onKeydown},style:{zIndex:t.activeZIndex},ref:"content"},[t.genTransition()])])]}))},genTransition:function(){var t=this.genInnerContent();return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,appear:!0}},[t]):t},genInnerContent:function(){var t={class:this.classes,ref:"dialog",directives:[{name:"click-outside",value:{handler:this.onClickOutside,closeConditional:this.closeConditional,include:this.getOpenDependentElements}},{name:"show",value:this.isActive}],style:{transformOrigin:this.origin}};return this.fullscreen||(t.style=Object(s["a"])(Object(s["a"])({},t.style),{},{maxWidth:Object(g["i"])(this.maxWidth),width:Object(g["i"])(this.width)})),this.$createElement("div",t,this.getContentSlot())}},render:function(t){return t("div",{staticClass:"v-dialog__container",class:{"v-dialog__container--attached":""===this.attach||!0===this.attach||"attach"===this.attach},attrs:{role:"dialog"}},[this.genActivator(),this.genContent()])}})},"169f":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:"bg"}},[a("v-toolbar",{attrs:{color:"secondary",dark:"",flat:""},scopedSlots:t._u([{key:"extension",fn:function(){return[a("v-tabs",{attrs:{"align-with-title":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tabs-slider",{attrs:{color:"primary"}}),a("v-tab",{key:"details"},[t._v(" "+t._s(t.$t("Details"))+" ")]),a("v-tab",{key:"profiles"},[t._v(" "+t._s(t.$t("Profiles"))+" ")]),a("v-tab",{key:"groups"},[t._v(" "+t._s(t.$t("Groups"))+" ")])],1)]},proxy:!0}])},[a("v-toolbar-title",[t._v(t._s(t.details.appname))]),a("v-spacer")],1),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",{key:"details"},[a("v-card",{staticClass:"ma-0",attrs:{flat:"",color:"bg"}},[a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-avatar",{attrs:{tile:"",size:"80"}},[a("v-img",{attrs:{src:t.details.imageurl}})],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"headline mb-1"},[t._v(" "+t._s(t.details.appname)+" ")]),a("v-list-item-subtitle",[t._v(t._s(t.$t("App ID"))+": "+t._s(t.details.packagename)),a("br"),t._v(" "+t._s(t.$t("Profiles"))+": "+t._s(t.totalNumOfUsers)+" ")])],1)],1)],1),a("v-card",{staticClass:"ma-0",attrs:{flat:"",color:"bg"}},[a("v-form",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("App Name")},model:{value:t.details.appname,callback:function(e){t.$set(t.details,"appname",e)},expression:"details.appname"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("Summary")},model:{value:t.details.summary,callback:function(e){t.$set(t.details,"summary",e)},expression:"details.summary"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("Categories"),placeholder:t.$t("Seperate names by comma")},model:{value:t.details.categories,callback:function(e){t.$set(t.details,"categories",e)},expression:"details.categories"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{label:t.$t("Description")},model:{value:t.details.description,callback:function(e){t.$set(t.details,"description",e)},expression:"details.description"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("Version Name"),readonly:""},model:{value:t.details.versionname,callback:function(e){t.$set(t.details,"versionname",e)},expression:"details.versionname"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("Version Code"),readonly:""},model:{value:t.details.versioncode,callback:function(e){t.$set(t.details,"versioncode",e)},expression:"details.versioncode"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[t.appData.checkPermission("/apps","w")?a("v-btn",{staticClass:"mr-4",attrs:{color:"primary",loading:t.saveLoading},on:{click:t.saveDetails}},[t._v(" Save ")]):t._e()],1)],1)],1)],1)],1)],1),a("v-tab-item",{key:"profiles"},[a("v-card",{staticClass:"ma-0",attrs:{flat:"",color:"bg"}},[a("v-card-title",[t._v(t._s(t.$t("Profiles")))]),a("v-data-table",{staticClass:"elevation-1 ma-4 bg",attrs:{headers:t.headers,items:t.rows,loading:t.loading},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"bg"}},[t.appData.checkPermission("/apps","i")?a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:t.addProfile}},[t._v(" "+t._s(t.$t("Assign Profiles to App"))+" ")]):t._e()],1)]},proxy:!0},{key:"item.actions",fn:function(e){var s=e.item;return[t.appData.checkPermission("/apps","i")?a("v-icon",{staticClass:"mx-2",attrs:{small:""},on:{click:function(e){return t.deleteProfile(s)}}},[t._v(" mdi-delete ")]):t._e()]}}])}),a("v-dialog",{attrs:{"max-width":"800px","overlay-color":"bg"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(" "+t._s(t.$t("Add Profiles"))+" "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-data-table",{staticClass:"elevation-1 ma-4 bg",attrs:{headers:t.profilesHeaders,items:t.profilesRows,loading:t.profilesLoading,"server-items-length":t.totalItems,"items-per-page":5,options:t.options,search:t.search,"show-select":"","multi-sort":""},on:{"update:options":[function(e){t.options=e},t.updateOptions],"click:row":t.rowClick},scopedSlots:t._u([{key:"header.data-table-select",fn:function(){return[t._v("   ")]},proxy:!0},{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"bg"}},[a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",disabled:t.addSelectedDisabled,loading:t.addSelectedLoading},on:{click:t.addSelected}},[t._v(" "+t._s(t.$t("Assign Selected Profiles"))+" ")])],1)]},proxy:!0}]),model:{value:t.profilesSelected,callback:function(e){t.profilesSelected=e},expression:"profilesSelected"}})],1)],1)],1)],1),a("v-tab-item",{key:"groups"},[a("v-card",{staticClass:"ma-0",attrs:{flat:"",color:"bg"}},[a("v-card-title",[t._v(t._s(t.$t("Groups")))]),a("v-data-table",{staticClass:"elevation-1 ma-4 bg",attrs:{headers:t.groupHeaders,items:t.groupRows,loading:t.groupLoading},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"bg"}},[t.appData.checkPermission("/apps","i")?a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:t.addGroup}},[t._v(" "+t._s(t.$t("Add Groups"))+" ")]):t._e()],1)]},proxy:!0},{key:"item.adDomain",fn:function(e){var s=e.item;return["All"==s.groupName?a("div",[t._v(t._s(t.$t("Automatic")))]):""==s.adDomain?a("div",[t._v(t._s(t.$t("Manual")))]):a("div",[t._v(t._s(t.$t("Active Directory")))])]}},{key:"item.actions",fn:function(e){var s=e.item;return[t.appData.checkPermission("/apps","i")?a("v-icon",{staticClass:"mx-2",attrs:{small:""},on:{click:function(e){return t.deleteGroup(s)}}},[t._v(" mdi-delete ")]):t._e()]}}])}),a("v-dialog",{attrs:{"max-width":"800px","overlay-color":"bg"},model:{value:t.groupDialog,callback:function(e){t.groupDialog=e},expression:"groupDialog"}},[a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(" "+t._s(t.$t("Add Groups"))+" "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.groupSearch,callback:function(e){t.groupSearch=e},expression:"groupSearch"}})],1),a("v-data-table",{staticClass:"elevation-1 ma-4 bg",attrs:{headers:t.allGroupsHeaders,items:t.allGroupsRows,loading:t.allGroupsLoading,search:t.groupSearch},on:{"click:row":t.groupClick},scopedSlots:t._u([{key:"item.adDomain",fn:function(e){var s=e.item;return["All"==s.groupName?a("div",[t._v(t._s(t.$t("Automatic")))]):""==s.adDomain?a("div",[t._v(t._s(t.$t("Manual")))]):a("div",[t._v(t._s(t.$t("Active Directory")))])]}}])})],1)],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px","overlay-color":"bg"},model:{value:t.dialogInstall,callback:function(e){t.dialogInstall=e},expression:"dialogInstall"}},[a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(t._s(t.$t("Add App")))]),a("v-card-subtitle",{staticClass:"mt-4"},[t._v(t._s(t.$t("Are you sure you want to add app to the selected profiles",{addItemLabel:t.addItemLabel})))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"warning"},on:{click:t.cancelInstall}},[t._v(t._s(t.$t("Cancel")))]),a("v-btn",{attrs:{color:"primary"},on:{click:t.installApp}},[t._v(t._s(t.$t("Install App")))]),a("v-btn",{attrs:{color:"secondary"},on:{click:t.addToAppstore}},[t._v(t._s(t.$t("Add to Appstore")))]),a("v-spacer")],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px","overlay-color":"bg"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(t._s(t.$t("Remove App")))]),a("v-card-subtitle",{staticClass:"mt-4"},[t._v(t._s(t.$t("Are you sure you want to remove app from",{name:t.deleteItemName})))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"warning"},on:{click:t.cancelUninstall}},[t._v(t._s(t.$t("Cancel")))]),a("v-btn",{attrs:{color:"primary"},on:{click:t.uninstallApp}},[t._v(t._s(t.$t("Uninstall App")))]),a("v-spacer")],1)],1)],1),a("v-snackbar",{attrs:{timeout:2e3},scopedSlots:t._u([{key:"action",fn:function(e){var s=e.attrs;return[a("v-btn",t._b({attrs:{color:"info",text:""},on:{click:function(e){t.snackbarSave=!1}}},"v-btn",s,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbarSave,callback:function(e){t.snackbarSave=e},expression:"snackbarSave"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},i=[],n=a("3835"),o=(a("b0c0"),a("99af"),a("d3b7"),a("a4d3"),a("e01a"),a("4fadc"),a("ac1f"),a("841c"),a("159b"),a("e9c4"),a("b64b"),a("af52")),r=a("96f7"),l=a("c1df"),c={name:"AppDetails",components:{},data:function(){return{details:{},totalNumOfUsers:0,tab:{},headers:[],rows:[],dialog:!1,profilesHeaders:[],profilesRows:[],profilesLoading:!0,search:"",profilesSelected:[],allSelected:{},addSelectedDisabled:!0,addSelectedLoading:!1,dialogInstall:!1,addItemLabel:"",groupHeaders:[],groupRows:[],groupLoading:!1,groupSearch:"",groupDialog:!1,allGroupsHeaders:[],allGroupsRows:[],allGroupsLoading:!1,allGroupSelected:{},totalItems:0,loading:!0,options:{},appData:o["a"],saveLoading:!1,snackbarSave:!1,snackbarText:"",moment:l,dialogDelete:!1,deleteProfileItem:{},deleteItemType:"",deleteItemName:""}},methods:{savePage:function(){r["a"].savePageData("".concat(c.name),this,["options","search"])},updateOptions:function(){console.log("updateOptions"),this.savePage(),this.refreshProfiles()},rowClick:function(){console.log("rowClick")},deleteProfile:function(t){this.deleteProfileItem=t,this.deleteItemType="profile",this.deleteItemName="".concat(t.firstname," ").concat(t.lastname),this.dialogDelete=!0},deleteGroup:function(t){this.deleteProfileItem=t,this.deleteItemType="group",this.deleteItemName=t.groupName,this.dialogDelete=!0},uninstallApp:function(){var t,e=this;console.log(this.deleteProfileItem),this.dialogDelete=!1,t="profile"==this.deleteItemType?{email:this.deleteProfileItem.email}:{groupName:this.deleteProfileItem.groupName,adDomain:this.deleteProfileItem.adDomain},r["a"].post({url:"api/apps/".concat(encodeURIComponent(this.$route.params.packageName),"/uninstall"),data:t}).then((function(t){console.log(t.data),1==t.data.status?(console.log("Success"),e.snackbarText=e.$t("App uninstaled"),e.snackbarSave=!0,e.loadDetails()):(console.log("status: ".concat(t.data.status)),e.snackbarText="Error",e.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){}))},cancelUninstall:function(){this.dialogDelete=!1},loadDetails:function(){var t=this;this.refreshTimeout&&(clearTimeout(this.refreshTimeout),this.refreshTimeout=null),r["a"].get({url:"api/apps/"+encodeURIComponent(this.$route.params.packageName)}).then((function(e){if(console.log(e.data),1==e.data.status){console.log("loadDetails: Success"),t.details=e.data.appDetails,t.totalNumOfUsers=e.data.totalNumOfUsers,t.rows=e.data.emails,t.headers=[{text:t.$t("Last Name"),value:"lastname"},{text:t.$t("First Name"),value:"firstname"},{text:t.$t("Email"),value:"email"},{text:"Actions",value:"actions",sortable:!1}],t.loading=!1,t.groupLoading=!1,t.groupRows=e.data.groups,t.groupHeaders=[{text:t.$t("Group Name"),value:"groupName"},{text:t.$t("Group Type"),value:"adDomain"},{text:"Actions",value:"actions",sortable:!1}];var a=[{text:t.$t("control-panel"),to:"/",disabled:!1},{text:t.$t("Apps"),to:"/Apps",disabled:!1},{text:t.details.appname,to:"/App/"+t.$route.params.packageName,disabled:!1}];t.$emit("updatePage",a),t.refreshTimeout=setTimeout(t.loadDetails,5e3)}else console.log("status: ".concat(e.data.status)),t.$router.push("/Login")})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},saveDetails:function(){var t=this;this.saveLoading=!0,r["a"].post({url:"api/apps/"+encodeURIComponent(this.$route.params.packageName),data:{appName:this.details.appname,appDescription:this.details.description,appSummary:this.details.summary,appCategories:this.details.categories}}).then((function(e){console.log(e.data),1==e.data.status?(console.log("Success"),t.saveLoading=!1,t.snackbarText="Saved",t.snackbarSave=!0,t.loadDetails()):(console.log("status: ".concat(e.data.status)),t.snackbarText="Error",t.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){return t.saveLoading=!1}))},addGroup:function(){this.groupDialog=!0,this.loadAllGroups()},loadAllGroups:function(){var t=this;this.allGroupsLoading=!0,this.allGroupsHeaders=[{text:this.$t("Group Name"),value:"groupName"},{text:this.$t("Group Type"),value:"adDomain"}],r["a"].get({url:"api/groups"}).then((function(e){console.log(e.data),1==e.data.status?(t.allGroupsRows=e.data.groups,t.allGroupsLoading=!1):console.log("status: ".concat(e.data.status))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},groupClick:function(t){console.log("groupClick: ".concat(t.groupName)),this.dialogInstall=!0,this.allSelected=[],this.allGroupSelected=t,this.addItemLabel=this.$t("selected group",{groupName:t.groupName})},addProfile:function(){this.dialog=!0,this.allSelected=[],this.addSelectedDisabled=!0},addSelected:function(){console.log("addSelected"),this.dialogInstall=!0,this.allGroupSelected={},this.addItemLabel=this.$t("selected profiles")},cancelInstall:function(){this.dialogInstall=!1},installApp:function(){this.dialogInstall=!1,this.installImp(0)},addToAppstore:function(){this.dialogInstall=!1,this.installImp(1)},installImp:function(t){for(var e,a=this,s=[],i=0,o=Object.entries(this.allSelected);i<o.length;i++){var l=Object(n["a"])(o[i],1),c=l[0];s.push(c)}console.log("Install Apps: "+s),e=0==s.length&&this.allGroupSelected.groupName?{groupName:[this.allGroupSelected.groupName],adDomain:[this.allGroupSelected.adDomain],privateApp:"0",appStoreOnly:t}:{email:s,privateApp:"1",appStoreOnly:t},this.addSelectedLoading=!0,r["a"].post({url:"api/apps/".concat(encodeURIComponent(this.$route.params.packageName),"/install"),data:e}).then((function(t){console.log(t.data),1==t.data.status||2==t.data.status?(a.addSelectedLoading=!1,a.snackbarText=a.$t("Added"),a.snackbarSave=!0,a.loadDetails(),a.dialog=!1,a.groupDialog=!1):(console.log("status: ".concat(t.data.status)),a.addSelectedLoading=!1,a.snackbarText=a.$t("Error"),a.snackbarSave=!0,a.dialog=!1,a.groupDialog=!1)})).catch((function(t){return console.log(t)})).finally((function(){return a.loading=!1}))},refreshProfiles:function(){var t=this;this.profilesLoading=!0;var e=this.options.itemsPerPage>0?this.options.itemsPerPage:1e4,a=(this.options.page-1)*e;r["a"].post({url:"api/profiles",data:{offset:a,limit:e,sortBy:this.options.sortBy,sortDesc:this.options.sortDesc,search:this.search}}).then((function(e){if(t.profilesLoading=!1,console.log(e.data),1==e.data.status){t.profilesRows=e.data.profiles,t.totalItems=e.data.totalItems;var a=[];t.profilesRows.forEach((function(e){t.allSelected[e.email]&&a.push(e)})),t.profilesSelected=a}else console.log("status: ".concat(e.data.status)),t.$router.push("/Login")})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))}},created:function(){var t=[{text:this.$t("control-panel"),to:"/",disabled:!1},{text:this.$t("Apps"),to:"/Apps",disabled:!1},{text:this.$route.params.packageName,to:"/App/"+this.$route.params.packageName,disabled:!1}];this.$emit("updatePage",t),this.profilesHeaders=[{text:this.$t("Last Name"),value:"lastName"},{text:this.$t("First Name"),value:"firstName"},{text:this.$t("Email"),value:"email"}],r["a"].loadPageData(c.name,this),this.loadDetails()},beforeDestroy:function(){console.log("lifecycle: beforeDestroy"),this.refreshTimeout&&(clearTimeout(this.refreshTimeout),this.refreshTimeout=null)},watch:{tab:function(t){console.log("tab: ".concat(t))},search:function(t){console.log("search: ".concat(t)),this.savePage(),(t.length>1||0==t.length)&&this.refreshProfiles()},profilesSelected:function(t){var e=this;console.log("profilesSelected: ".concat(JSON.stringify(t,null,2)));var a={};t.forEach((function(t){a[t.email]=t.email})),Object.assign(this.allSelected,a),this.profilesRows.forEach((function(t){a[t.email]||delete e.allSelected[t.email]})),Object.keys(this.allSelected).length>0?this.addSelectedDisabled=!1:this.addSelectedDisabled=!0}}},u=c,d=u,h=a("2877"),p=a("6544"),f=a.n(p),v=a("8336"),m=a("b0af"),g=a("99d9"),b=a("62ad"),y=a("a523"),k=a("8fea"),x=a("169a"),w=a("4bd4"),S=a("132d"),$=a("adda"),D=a("da13"),C=a("8270"),_=a("5d23"),T=a("0fd9"),A=a("2db4"),I=a("2fa4"),P=a("71a3"),O=a("c671"),L=a("fe57"),V=a("aac8"),R=a("9a96"),E=a("8654"),N=a("5530"),j=(a("a9e3"),a("1681"),a("58df")),B=Object(j["a"])(E["a"]),U=B.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(t){return!isNaN(parseFloat(t))}},rows:{type:[Number,String],default:5,validator:function(t){return!isNaN(parseInt(t,10))}}},computed:{classes:function(){return Object(N["a"])({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},E["a"].options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{autoGrow:function(t){var e=this;this.$nextTick((function(){var a;t?e.calculateInputHeight():null==(a=e.$refs.input)||a.style.removeProperty("height")}))},lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var t=this;setTimeout((function(){t.autoGrow&&t.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var t=this.$refs.input;if(t){t.style.height="0";var e=t.scrollHeight,a=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(a,e)+"px"}},genInput:function(){var t=E["a"].options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput:function(t){E["a"].options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}}),F=a("71d9"),M=a("2a7f"),H=Object(h["a"])(d,s,i,!1,null,null,null);e["default"]=H.exports;f()(H,{VBtn:v["a"],VCard:m["a"],VCardActions:g["a"],VCardSubtitle:g["b"],VCardTitle:g["d"],VCol:b["a"],VContainer:y["a"],VDataTable:k["a"],VDialog:x["a"],VForm:w["a"],VIcon:S["a"],VImg:$["a"],VListItem:D["a"],VListItemAvatar:C["a"],VListItemContent:_["a"],VListItemSubtitle:_["b"],VListItemTitle:_["c"],VRow:T["a"],VSnackbar:A["a"],VSpacer:I["a"],VTab:P["a"],VTabItem:O["a"],VTabs:L["a"],VTabsItems:V["a"],VTabsSlider:R["a"],VTextField:E["a"],VTextarea:U,VToolbar:F["a"],VToolbarTitle:M["a"]})},"1bfb":function(t,e,a){},"1f49":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(" "+t._s(t.$t("Exchange Setup"))+" ")]),a("v-form",[a("v-container",[a("v-row",[a("v-col",[a("v-switch",{attrs:{label:t.$t("Set exchange information for all users")},model:{value:t.emailStatus,callback:function(e){t.emailStatus=e},expression:"emailStatus"}})],1)],1),a("v-row",[a("v-col",[a("v-text-field",{attrs:{label:t.$t("Server"),disabled:!t.emailStatus},model:{value:t.serverUrl,callback:function(e){t.serverUrl=e},expression:"serverUrl"}})],1)],1),a("v-row",[a("v-col",[a("v-text-field",{attrs:{label:t.$t("Port"),disabled:!t.emailStatus},model:{value:t.port,callback:function(e){t.port=e},expression:"port"}})],1),a("v-col",[a("v-switch",{attrs:{label:t.$t("Secure SSL Only"),disabled:!t.emailStatus},model:{value:t.sslType,callback:function(e){t.sslType=e},expression:"sslType"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-btn",{staticClass:"mr-4",attrs:{color:"primary",loading:t.loading},on:{click:t.saveDetails}},[t._v(" Save ")])],1)],1)],1)],1),a("v-snackbar",{attrs:{timeout:2e3},scopedSlots:t._u([{key:"action",fn:function(e){var s=e.attrs;return[a("v-btn",t._b({attrs:{color:"info",text:""},on:{click:function(e){t.snackbarSave=!1}}},"v-btn",s,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbarSave,callback:function(e){t.snackbarSave=e},expression:"snackbarSave"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},i=[],n=(a("d3b7"),a("2ca0"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("af52")),o=a("96f7"),r={name:"EmailSetup",data:function(){return{port:"443",serverUrl:"",sslType:!1,emailStatus:0,loading:!0,options:{},snackbarSave:!1,snackbarText:"",appData:n["a"]}},methods:{refresh:function(){var t=this;o["a"].get({url:"api/email"}).then((function(e){if(console.log(e.data),1==e.data.status){if(console.log("status: ".concat(e.data.status)),t.serverUrl=e.data.serverUrl,t.serverUrl.startsWith("https://")){var a=new URL(t.serverUrl);t.serverUrl=a.hostname}t.sslType="1"==e.data.sslType,t.port=e.data.port,t.emailStatus=!0}else 0==e.data.status?(t.serverUrl="",t.emailStatus=!1):(console.log("status: ".concat(e.data.status)),t.$router.push("/Login"))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},saveDetails:function(){var t=this;this.emailStatus?o["a"].post({url:"api/email",data:{serverUrl:this.serverUrl,port:this.port,sslType:this.sslType?"1":"0"}}).then((function(e){console.log(e.data),1==e.data.status?(console.log("status: ".concat(e.data.status)),t.snackbarSave=!0,t.snackbarText=t.$t("Saved")):(console.log("status: ".concat(e.data.status)),t.snackbarSave=!0,t.snackbarText=t.$t("Error"))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1})):o["a"].delete({url:"api/email"}).then((function(e){console.log(e.data),1==e.data.status?(console.log("status: ".concat(e.data.status)),t.snackbarSave=!0,t.snackbarText=t.$t("Saved")):(console.log("status: ".concat(e.data.status)),t.snackbarSave=!0,t.snackbarText=t.$t("Error"))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))}},created:function(){var t=[{text:this.$t("control-panel"),to:"/",disabled:!1},{text:this.$t("Exchange Setup"),to:"/EmailSetup",disabled:!1}];this.$emit("updatePage",t),this.refresh()}},l=r,c=l,u=a("2877"),d=a("6544"),h=a.n(d),p=a("8336"),f=a("b0af"),v=a("99d9"),m=a("62ad"),g=a("a523"),b=a("4bd4"),y=a("0fd9"),k=a("2db4"),x=a("15fd"),w=a("5530"),S=(a("0481"),a("4069"),a("ec29"),a("9d01"),a("fe09")),$=a("c37a"),D=a("c3f0"),C=a("0789"),_=a("490a"),T=a("80d2"),A=["title"],I=S["a"].extend({name:"v-switch",directives:{Touch:D["a"]},props:{inset:Boolean,loading:{type:[Boolean,String],default:!1},flat:{type:Boolean,default:!1}},computed:{classes:function(){return Object(w["a"])(Object(w["a"])({},$["a"].options.computed.classes.call(this)),{},{"v-input--selection-controls v-input--switch":!0,"v-input--switch--flat":this.flat,"v-input--switch--inset":this.inset})},attrs:function(){return{"aria-checked":String(this.isActive),"aria-disabled":String(this.isDisabled),role:"switch"}},validationState:function(){return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0},switchData:function(){return this.setTextColor(this.loading?void 0:this.validationState,{class:this.themeClasses})}},methods:{genDefaultSlot:function(){return[this.genSwitch(),this.genLabel()]},genSwitch:function(){var t=this.attrs$,e=(t.title,Object(x["a"])(t,A));return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",Object(w["a"])(Object(w["a"])({},this.attrs),e)),this.genRipple(this.setTextColor(this.validationState,{directives:[{name:"touch",value:{left:this.onSwipeLeft,right:this.onSwipeRight}}]})),this.$createElement("div",Object(w["a"])({staticClass:"v-input--switch__track"},this.switchData)),this.$createElement("div",Object(w["a"])({staticClass:"v-input--switch__thumb"},this.switchData),[this.genProgress()])])},genProgress:function(){return this.$createElement(C["c"],{},[!1===this.loading?null:this.$slots.progress||this.$createElement(_["a"],{props:{color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,size:16,width:2,indeterminate:!0}})])},onSwipeLeft:function(){this.isActive&&this.onChange()},onSwipeRight:function(){this.isActive||this.onChange()},onKeydown:function(t){(t.keyCode===T["A"].left&&this.isActive||t.keyCode===T["A"].right&&!this.isActive)&&this.onChange()}}}),P=a("8654"),O=Object(u["a"])(c,s,i,!1,null,null,null);e["default"]=O.exports;h()(O,{VBtn:p["a"],VCard:f["a"],VCardTitle:v["d"],VCol:m["a"],VContainer:g["a"],VForm:b["a"],VRow:y["a"],VSnackbar:k["a"],VSwitch:I,VTextField:P["a"]})},2102:function(t,e,a){},2677:function(t,e,a){"use strict";var s=a("8654");e["a"]=s["a"]},"2a07":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(" "+t._s(t.$t("Organization"))+" ")]),a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",[a("v-row",[a("v-col",{staticClass:"py-2"},[a("v-text-field",{attrs:{label:t.$t("Domain"),readonly:!t.newOrg,rules:t.requiredRules},model:{value:t.details.maindomain,callback:function(e){t.$set(t.details,"maindomain",e)},expression:"details.maindomain"}})],1)],1),a("v-row",[a("v-col",{staticClass:"py-2"},[a("v-text-field",{attrs:{label:t.$t("Organization Name")},model:{value:t.details.orgname,callback:function(e){t.$set(t.details,"orgname",e)},expression:"details.orgname"}})],1)],1),a("v-row",[a("v-col",{staticClass:"py-2"},[a("v-text-field",{attrs:{label:t.$t("Invite Profile URL")},model:{value:t.details.inviteurl,callback:function(e){t.$set(t.details,"inviteurl",e)},expression:"details.inviteurl"}})],1)],1),a("v-row",[a("v-col",{staticClass:"py-2"},[a("v-text-field",{attrs:{label:t.$t("Watermark")},model:{value:t.details.watermark,callback:function(e){t.$set(t.details,"watermark",e)},expression:"details.watermark"}})],1)],1)],1),a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-btn",{staticClass:"mr-4",attrs:{color:"primary",loading:t.saveLoading},on:{click:t.saveDetails}},[t._v(" "+t._s(t.$t("Save"))+" ")])],1)],1)],1)],1),a("v-snackbar",{attrs:{timeout:2e3},scopedSlots:t._u([{key:"action",fn:function(e){var s=e.attrs;return[a("v-btn",t._b({attrs:{color:"primary",text:""},on:{click:function(e){t.snackbarSave=!1}}},"v-btn",s,!1),[t._v(" "+t._s(t.$t("Close"))+" ")])]}}]),model:{value:t.snackbarSave,callback:function(e){t.snackbarSave=e},expression:"snackbarSave"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},i=[],n=(a("ac1f"),a("5319"),a("d3b7"),a("af52")),o=a("96f7"),r={name:"Org",data:function(){return{domain:"",newOrg:!0,snackbarSave:!1,snackbarText:"",details:{},valid:!0,appData:n["a"]}},methods:{saveDetails:function(){var t=this;if(this.$refs.form.validate(),this.valid){this.newOrg&&(this.domain=this.details.maindomain);var e=this.details;this.saveLoading=!0,console.log(e),o["a"].post({url:"api/orgs/"+encodeURIComponent(this.domain),data:e}).then((function(e){t.saveLoading=!1,console.log(e.data),1==e.data.status?(t.snackbarText=t.$t("Saved"),t.newOrg&&(t.newOrg=!1,t.snackbarText=t.$t("Domain added"),t.snackbarSave=!0,t.updatePageHead(),t.$router.replace("/Org/"+encodeURIComponent(t.domain)),t.refreshAppDataOrgs()),t.snackbarSave=!0,t.refresh()):(console.log("status: ".concat(e.data.status)),t.snackbarSave=!0,t.snackbarText=t.$t("Error"))})).catch((function(t){return console.log(t)}))}},refresh:function(){var t=this;this.newOrg||(console.log("domain: ".concat(this.domain)),o["a"].get({url:"api/orgs/"+encodeURIComponent(this.domain)}).then((function(e){console.log(e.data),1==e.data.status?(console.log("status: ".concat(e.data.status)),e.data.orgs&&1==e.data.orgs.length?t.details=e.data.orgs[0]:t.details={}):console.log("status: ".concat(e.data.status))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1})))},refreshAppDataOrgs:function(){var t=this;o["a"].get({url:"api/orgs"}).then((function(e){console.log(e.data),1==e.data.status?(t.rows=e.data.orgs,t.rows&&n["a"].resetOrgs(t.rows)):console.log("status: ".concat(e.data.status))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},updatePageHead:function(){var t=[{text:this.$t("control-panel"),to:"/",disabled:!1},{text:this.$t("Organizations"),to:"/Orgs",disabled:!1},{text:this.domain,to:"/Org/"+this.domain,disabled:!1}];this.$emit("updatePage",t)}},created:function(){var t=this;this.domain=this.$route.params.domain,this.domain||(this.domain=""),""==this.domain?this.newOrg=!0:this.newOrg=!1,this.requiredRules=[function(e){return!!e||t.$t("Field is required")}],this.updatePageHead(),this.refresh()},watch:{}},l=r,c=l,u=a("2877"),d=a("6544"),h=a.n(d),p=a("8336"),f=a("b0af"),v=a("99d9"),m=a("62ad"),g=a("a523"),b=a("4bd4"),y=a("0fd9"),k=a("2db4"),x=a("8654"),w=Object(u["a"])(c,s,i,!1,null,null,null);e["default"]=w.exports;h()(w,{VBtn:p["a"],VCard:f["a"],VCardTitle:v["d"],VCol:m["a"],VContainer:g["a"],VForm:b["a"],VRow:y["a"],VSnackbar:k["a"],VTextField:x["a"]})},"2a7f":function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));var s=a("71d9"),i=a("80d2"),n=Object(i["k"])("v-toolbar__title"),o=Object(i["k"])("v-toolbar__items");s["a"]},"2af1":function(t,e,a){var s=a("23e7"),i=a("f748");s({target:"Math",stat:!0},{sign:i})},"2b3d":function(t,e,a){"use strict";a("3ca3");var s,i=a("23e7"),n=a("83ab"),o=a("0d3b"),r=a("da84"),l=a("0366"),c=a("e330"),u=a("37e8").f,d=a("6eeb"),h=a("19aa"),p=a("1a2d"),f=a("60da"),v=a("4df4"),m=a("4dae"),g=a("6547").codeAt,b=a("5fb2"),y=a("577e"),k=a("d44e"),x=a("9861"),w=a("69f3"),S=w.set,$=w.getterFor("URL"),D=x.URLSearchParams,C=x.getState,_=r.URL,T=r.TypeError,A=r.parseInt,I=Math.floor,P=Math.pow,O=c("".charAt),L=c(/./.exec),V=c([].join),R=c(1..toString),E=c([].pop),N=c([].push),j=c("".replace),B=c([].shift),U=c("".split),F=c("".slice),M=c("".toLowerCase),H=c([].unshift),G="Invalid authority",Y="Invalid scheme",W="Invalid host",z="Invalid port",q=/[a-z]/i,K=/[\d+-.a-z]/i,J=/\d/,Z=/^0x/i,X=/^[0-7]+$/,Q=/^\d+$/,tt=/^[\da-f]+$/i,et=/[\0\t\n\r #%/:<>?@[\\\]^|]/,at=/[\0\t\n\r #/:<>?@[\\\]^|]/,st=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,it=/[\t\n\r]/g,nt=function(t){var e,a,s,i,n,o,r,l=U(t,".");if(l.length&&""==l[l.length-1]&&l.length--,e=l.length,e>4)return t;for(a=[],s=0;s<e;s++){if(i=l[s],""==i)return t;if(n=10,i.length>1&&"0"==O(i,0)&&(n=L(Z,i)?16:8,i=F(i,8==n?1:2)),""===i)o=0;else{if(!L(10==n?Q:8==n?X:tt,i))return t;o=A(i,n)}N(a,o)}for(s=0;s<e;s++)if(o=a[s],s==e-1){if(o>=P(256,5-e))return null}else if(o>255)return null;for(r=E(a),s=0;s<a.length;s++)r+=a[s]*P(256,3-s);return r},ot=function(t){var e,a,s,i,n,o,r,l=[0,0,0,0,0,0,0,0],c=0,u=null,d=0,h=function(){return O(t,d)};if(":"==h()){if(":"!=O(t,1))return;d+=2,c++,u=c}while(h()){if(8==c)return;if(":"!=h()){e=a=0;while(a<4&&L(tt,h()))e=16*e+A(h(),16),d++,a++;if("."==h()){if(0==a)return;if(d-=a,c>6)return;s=0;while(h()){if(i=null,s>0){if(!("."==h()&&s<4))return;d++}if(!L(J,h()))return;while(L(J,h())){if(n=A(h(),10),null===i)i=n;else{if(0==i)return;i=10*i+n}if(i>255)return;d++}l[c]=256*l[c]+i,s++,2!=s&&4!=s||c++}if(4!=s)return;break}if(":"==h()){if(d++,!h())return}else if(h())return;l[c++]=e}else{if(null!==u)return;d++,c++,u=c}}if(null!==u){o=c-u,c=7;while(0!=c&&o>0)r=l[c],l[c--]=l[u+o-1],l[u+--o]=r}else if(8!=c)return;return l},rt=function(t){for(var e=null,a=1,s=null,i=0,n=0;n<8;n++)0!==t[n]?(i>a&&(e=s,a=i),s=null,i=0):(null===s&&(s=n),++i);return i>a&&(e=s,a=i),e},lt=function(t){var e,a,s,i;if("number"==typeof t){for(e=[],a=0;a<4;a++)H(e,t%256),t=I(t/256);return V(e,".")}if("object"==typeof t){for(e="",s=rt(t),a=0;a<8;a++)i&&0===t[a]||(i&&(i=!1),s===a?(e+=a?":":"::",i=!0):(e+=R(t[a],16),a<7&&(e+=":")));return"["+e+"]"}return t},ct={},ut=f({},ct,{" ":1,'"':1,"<":1,">":1,"`":1}),dt=f({},ut,{"#":1,"?":1,"{":1,"}":1}),ht=f({},dt,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),pt=function(t,e){var a=g(t,0);return a>32&&a<127&&!p(e,t)?t:encodeURIComponent(t)},ft={ftp:21,file:null,http:80,https:443,ws:80,wss:443},vt=function(t,e){var a;return 2==t.length&&L(q,O(t,0))&&(":"==(a=O(t,1))||!e&&"|"==a)},mt=function(t){var e;return t.length>1&&vt(F(t,0,2))&&(2==t.length||"/"===(e=O(t,2))||"\\"===e||"?"===e||"#"===e)},gt=function(t){return"."===t||"%2e"===M(t)},bt=function(t){return t=M(t),".."===t||"%2e."===t||".%2e"===t||"%2e%2e"===t},yt={},kt={},xt={},wt={},St={},$t={},Dt={},Ct={},_t={},Tt={},At={},It={},Pt={},Ot={},Lt={},Vt={},Rt={},Et={},Nt={},jt={},Bt={},Ut=function(t,e,a){var s,i,n,o=y(t);if(e){if(i=this.parse(o),i)throw T(i);this.searchParams=null}else{if(void 0!==a&&(s=new Ut(a,!0)),i=this.parse(o,null,s),i)throw T(i);n=C(new D),n.bindURL(this),this.searchParams=n}};Ut.prototype={type:"URL",parse:function(t,e,a){var i,n,o,r,l=this,c=e||yt,u=0,d="",h=!1,f=!1,g=!1;t=y(t),e||(l.scheme="",l.username="",l.password="",l.host=null,l.port=null,l.path=[],l.query=null,l.fragment=null,l.cannotBeABaseURL=!1,t=j(t,st,"")),t=j(t,it,""),i=v(t);while(u<=i.length){switch(n=i[u],c){case yt:if(!n||!L(q,n)){if(e)return Y;c=xt;continue}d+=M(n),c=kt;break;case kt:if(n&&(L(K,n)||"+"==n||"-"==n||"."==n))d+=M(n);else{if(":"!=n){if(e)return Y;d="",c=xt,u=0;continue}if(e&&(l.isSpecial()!=p(ft,d)||"file"==d&&(l.includesCredentials()||null!==l.port)||"file"==l.scheme&&!l.host))return;if(l.scheme=d,e)return void(l.isSpecial()&&ft[l.scheme]==l.port&&(l.port=null));d="","file"==l.scheme?c=Ot:l.isSpecial()&&a&&a.scheme==l.scheme?c=wt:l.isSpecial()?c=Ct:"/"==i[u+1]?(c=St,u++):(l.cannotBeABaseURL=!0,N(l.path,""),c=Nt)}break;case xt:if(!a||a.cannotBeABaseURL&&"#"!=n)return Y;if(a.cannotBeABaseURL&&"#"==n){l.scheme=a.scheme,l.path=m(a.path),l.query=a.query,l.fragment="",l.cannotBeABaseURL=!0,c=Bt;break}c="file"==a.scheme?Ot:$t;continue;case wt:if("/"!=n||"/"!=i[u+1]){c=$t;continue}c=_t,u++;break;case St:if("/"==n){c=Tt;break}c=Et;continue;case $t:if(l.scheme=a.scheme,n==s)l.username=a.username,l.password=a.password,l.host=a.host,l.port=a.port,l.path=m(a.path),l.query=a.query;else if("/"==n||"\\"==n&&l.isSpecial())c=Dt;else if("?"==n)l.username=a.username,l.password=a.password,l.host=a.host,l.port=a.port,l.path=m(a.path),l.query="",c=jt;else{if("#"!=n){l.username=a.username,l.password=a.password,l.host=a.host,l.port=a.port,l.path=m(a.path),l.path.length--,c=Et;continue}l.username=a.username,l.password=a.password,l.host=a.host,l.port=a.port,l.path=m(a.path),l.query=a.query,l.fragment="",c=Bt}break;case Dt:if(!l.isSpecial()||"/"!=n&&"\\"!=n){if("/"!=n){l.username=a.username,l.password=a.password,l.host=a.host,l.port=a.port,c=Et;continue}c=Tt}else c=_t;break;case Ct:if(c=_t,"/"!=n||"/"!=O(d,u+1))continue;u++;break;case _t:if("/"!=n&&"\\"!=n){c=Tt;continue}break;case Tt:if("@"==n){h&&(d="%40"+d),h=!0,o=v(d);for(var b=0;b<o.length;b++){var k=o[b];if(":"!=k||g){var x=pt(k,ht);g?l.password+=x:l.username+=x}else g=!0}d=""}else if(n==s||"/"==n||"?"==n||"#"==n||"\\"==n&&l.isSpecial()){if(h&&""==d)return G;u-=v(d).length+1,d="",c=At}else d+=n;break;case At:case It:if(e&&"file"==l.scheme){c=Vt;continue}if(":"!=n||f){if(n==s||"/"==n||"?"==n||"#"==n||"\\"==n&&l.isSpecial()){if(l.isSpecial()&&""==d)return W;if(e&&""==d&&(l.includesCredentials()||null!==l.port))return;if(r=l.parseHost(d),r)return r;if(d="",c=Rt,e)return;continue}"["==n?f=!0:"]"==n&&(f=!1),d+=n}else{if(""==d)return W;if(r=l.parseHost(d),r)return r;if(d="",c=Pt,e==It)return}break;case Pt:if(!L(J,n)){if(n==s||"/"==n||"?"==n||"#"==n||"\\"==n&&l.isSpecial()||e){if(""!=d){var w=A(d,10);if(w>65535)return z;l.port=l.isSpecial()&&w===ft[l.scheme]?null:w,d=""}if(e)return;c=Rt;continue}return z}d+=n;break;case Ot:if(l.scheme="file","/"==n||"\\"==n)c=Lt;else{if(!a||"file"!=a.scheme){c=Et;continue}if(n==s)l.host=a.host,l.path=m(a.path),l.query=a.query;else if("?"==n)l.host=a.host,l.path=m(a.path),l.query="",c=jt;else{if("#"!=n){mt(V(m(i,u),""))||(l.host=a.host,l.path=m(a.path),l.shortenPath()),c=Et;continue}l.host=a.host,l.path=m(a.path),l.query=a.query,l.fragment="",c=Bt}}break;case Lt:if("/"==n||"\\"==n){c=Vt;break}a&&"file"==a.scheme&&!mt(V(m(i,u),""))&&(vt(a.path[0],!0)?N(l.path,a.path[0]):l.host=a.host),c=Et;continue;case Vt:if(n==s||"/"==n||"\\"==n||"?"==n||"#"==n){if(!e&&vt(d))c=Et;else if(""==d){if(l.host="",e)return;c=Rt}else{if(r=l.parseHost(d),r)return r;if("localhost"==l.host&&(l.host=""),e)return;d="",c=Rt}continue}d+=n;break;case Rt:if(l.isSpecial()){if(c=Et,"/"!=n&&"\\"!=n)continue}else if(e||"?"!=n)if(e||"#"!=n){if(n!=s&&(c=Et,"/"!=n))continue}else l.fragment="",c=Bt;else l.query="",c=jt;break;case Et:if(n==s||"/"==n||"\\"==n&&l.isSpecial()||!e&&("?"==n||"#"==n)){if(bt(d)?(l.shortenPath(),"/"==n||"\\"==n&&l.isSpecial()||N(l.path,"")):gt(d)?"/"==n||"\\"==n&&l.isSpecial()||N(l.path,""):("file"==l.scheme&&!l.path.length&&vt(d)&&(l.host&&(l.host=""),d=O(d,0)+":"),N(l.path,d)),d="","file"==l.scheme&&(n==s||"?"==n||"#"==n))while(l.path.length>1&&""===l.path[0])B(l.path);"?"==n?(l.query="",c=jt):"#"==n&&(l.fragment="",c=Bt)}else d+=pt(n,dt);break;case Nt:"?"==n?(l.query="",c=jt):"#"==n?(l.fragment="",c=Bt):n!=s&&(l.path[0]+=pt(n,ct));break;case jt:e||"#"!=n?n!=s&&("'"==n&&l.isSpecial()?l.query+="%27":l.query+="#"==n?"%23":pt(n,ct)):(l.fragment="",c=Bt);break;case Bt:n!=s&&(l.fragment+=pt(n,ut));break}u++}},parseHost:function(t){var e,a,s;if("["==O(t,0)){if("]"!=O(t,t.length-1))return W;if(e=ot(F(t,1,-1)),!e)return W;this.host=e}else if(this.isSpecial()){if(t=b(t),L(et,t))return W;if(e=nt(t),null===e)return W;this.host=e}else{if(L(at,t))return W;for(e="",a=v(t),s=0;s<a.length;s++)e+=pt(a[s],ct);this.host=e}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return p(ft,this.scheme)},shortenPath:function(){var t=this.path,e=t.length;!e||"file"==this.scheme&&1==e&&vt(t[0],!0)||t.length--},serialize:function(){var t=this,e=t.scheme,a=t.username,s=t.password,i=t.host,n=t.port,o=t.path,r=t.query,l=t.fragment,c=e+":";return null!==i?(c+="//",t.includesCredentials()&&(c+=a+(s?":"+s:"")+"@"),c+=lt(i),null!==n&&(c+=":"+n)):"file"==e&&(c+="//"),c+=t.cannotBeABaseURL?o[0]:o.length?"/"+V(o,"/"):"",null!==r&&(c+="?"+r),null!==l&&(c+="#"+l),c},setHref:function(t){var e=this.parse(t);if(e)throw T(e);this.searchParams.update()},getOrigin:function(){var t=this.scheme,e=this.port;if("blob"==t)try{return new Ft(t.path[0]).origin}catch(a){return"null"}return"file"!=t&&this.isSpecial()?t+"://"+lt(this.host)+(null!==e?":"+e:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(y(t)+":",yt)},getUsername:function(){return this.username},setUsername:function(t){var e=v(y(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var a=0;a<e.length;a++)this.username+=pt(e[a],ht)}},getPassword:function(){return this.password},setPassword:function(t){var e=v(y(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var a=0;a<e.length;a++)this.password+=pt(e[a],ht)}},getHost:function(){var t=this.host,e=this.port;return null===t?"":null===e?lt(t):lt(t)+":"+e},setHost:function(t){this.cannotBeABaseURL||this.parse(t,At)},getHostname:function(){var t=this.host;return null===t?"":lt(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,It)},getPort:function(){var t=this.port;return null===t?"":y(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||(t=y(t),""==t?this.port=null:this.parse(t,Pt))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+V(t,"/"):""},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,Rt))},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){t=y(t),""==t?this.query=null:("?"==O(t,0)&&(t=F(t,1)),this.query="",this.parse(t,jt)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){t=y(t),""!=t?("#"==O(t,0)&&(t=F(t,1)),this.fragment="",this.parse(t,Bt)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Ft=function(t){var e=h(this,Mt),a=arguments.length>1?arguments[1]:void 0,s=S(e,new Ut(t,!1,a));n||(e.href=s.serialize(),e.origin=s.getOrigin(),e.protocol=s.getProtocol(),e.username=s.getUsername(),e.password=s.getPassword(),e.host=s.getHost(),e.hostname=s.getHostname(),e.port=s.getPort(),e.pathname=s.getPathname(),e.search=s.getSearch(),e.searchParams=s.getSearchParams(),e.hash=s.getHash())},Mt=Ft.prototype,Ht=function(t,e){return{get:function(){return $(this)[t]()},set:e&&function(t){return $(this)[e](t)},configurable:!0,enumerable:!0}};if(n&&u(Mt,{href:Ht("serialize","setHref"),origin:Ht("getOrigin"),protocol:Ht("getProtocol","setProtocol"),username:Ht("getUsername","setUsername"),password:Ht("getPassword","setPassword"),host:Ht("getHost","setHost"),hostname:Ht("getHostname","setHostname"),port:Ht("getPort","setPort"),pathname:Ht("getPathname","setPathname"),search:Ht("getSearch","setSearch"),searchParams:Ht("getSearchParams"),hash:Ht("getHash","setHash")}),d(Mt,"toJSON",(function(){return $(this).serialize()}),{enumerable:!0}),d(Mt,"toString",(function(){return $(this).serialize()}),{enumerable:!0}),_){var Gt=_.createObjectURL,Yt=_.revokeObjectURL;Gt&&d(Ft,"createObjectURL",l(Gt,_)),Yt&&d(Ft,"revokeObjectURL",l(Yt,_))}k(Ft,"URL"),i({global:!0,forced:!o,sham:!n},{URL:Ft})},"2bfd":function(t,e,a){},"2c27":function(t,e,a){"use strict";a("35d8")},"2c64":function(t,e,a){},3530:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(" "+t._s(t.$t("Permissions"))+" ")]),a("v-form",[a("v-container",[t.appData.mainDomain==t.appData.siteAdminDomain&&t.appData.siteAdmin?a("v-row",[a("v-col",{staticClass:"py-2"},[a("v-checkbox",{staticClass:"py-0 my-0",attrs:{label:t.$t("Site administrator")},model:{value:t.siteAdmin,callback:function(e){t.siteAdmin=e},expression:"siteAdmin"}})],1)],1):t._e(),t.siteAdmin?t._e():a("v-row",[a("v-col",{staticClass:"py-2"},[a("v-checkbox",{staticClass:"py-0 my-0",attrs:{label:t.$t("Domain administrator")},model:{value:t.domainAdmin,callback:function(e){t.domainAdmin=e},expression:"domainAdmin"}})],1)],1)],1),t.domainAdmin||t.siteAdmin?t._e():a("v-container",[a("v-row",[a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"3"}},[a("v-checkbox",{staticClass:"py-0 my-0",attrs:{label:t.$t("Profiles")},model:{value:t.profiles,callback:function(e){t.profiles=e},expression:"profiles"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"3"}},[a("v-select",{staticClass:"py-0 my-0",attrs:{items:t.accessTypes,label:t.$t("Access type"),disabled:!t.permissions["/profiles"]},model:{value:t.permissions["/profiles"],callback:function(e){t.$set(t.permissions,"/profiles",e)},expression:"permissions['/profiles']"}})],1)],1),a("v-row",[a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"3"}},[a("v-checkbox",{staticClass:"py-0 my-0",attrs:{label:t.$t("Groups")},model:{value:t.groups,callback:function(e){t.groups=e},expression:"groups"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"3"}},[a("v-select",{staticClass:"py-0 my-0",attrs:{items:t.accessTypes,label:t.$t("Access type"),disabled:!t.permissions["/groups"]},model:{value:t.permissions["/groups"],callback:function(e){t.$set(t.permissions,"/groups",e)},expression:"permissions['/groups']"}})],1)],1),a("v-row",[a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"3"}},[a("v-checkbox",{staticClass:"py-0 my-0",attrs:{label:t.$t("Apps")},model:{value:t.apps,callback:function(e){t.apps=e},expression:"apps"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"3"}},[a("v-select",{staticClass:"py-0 my-0",attrs:{items:t.accessTypesApps,label:t.$t("Access type"),disabled:!t.permissions["/apps"]},model:{value:t.permissions["/apps"],callback:function(e){t.$set(t.permissions,"/apps",e)},expression:"permissions['/apps']"}})],1)],1),a("v-row",[a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"3"}},[a("v-checkbox",{staticClass:"py-0 my-0",attrs:{label:t.$t("Reports")},model:{value:t.reports,callback:function(e){t.reports=e},expression:"reports"}})],1)],1)],1),a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-btn",{staticClass:"mr-4",attrs:{color:"primary",loading:t.saveLoading},on:{click:t.saveDetails}},[t._v(" "+t._s(t.$t("Save"))+" ")])],1)],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[t._v(" "+t._s(t.$t("Please select atleast one permission"))+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" "+t._s(t.$t("Close"))+" ")])],1)],1)],1),a("v-snackbar",{attrs:{timeout:2e3},scopedSlots:t._u([{key:"action",fn:function(e){var s=e.attrs;return[a("v-btn",t._b({attrs:{color:"primary",text:""},on:{click:function(e){t.snackbarSave=!1}}},"v-btn",s,!1),[t._v(" "+t._s(t.$t("Close"))+" ")])]}}]),model:{value:t.snackbarSave,callback:function(e){t.snackbarSave=e},expression:"snackbarSave"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},i=[],n=a("2909"),o=(a("99af"),a("b64b"),a("e9c4"),a("d3b7"),a("af52")),r=a("96f7"),l={name:"Group",data:function(){return{email:"",newadmin:!0,snackbarSave:!1,snackbarText:"",details:null,siteAdmin:!1,domainAdmin:!1,permissions:{},saveLoading:!1,accessTypes:[],accessTypesApps:[],profiles:!1,groups:!1,apps:!1,reports:!1,dialog:!1,appData:o["a"]}},methods:{checkboxChanged:function(t,e){console.log("checkboxChanged. item: ".concat(t,", value: ").concat(e)),e?this.permissions[t]||(this.permissions[t]="rw"):delete this.permissions[t]},saveDetails:function(){var t=this,e=this.permissions;0!=Object.keys(e).length?(this.saveLoading=!0,r["a"].put({url:"api/admins/"+encodeURIComponent(this.email),data:{permissions:JSON.stringify(e)}}).then((function(e){t.saveLoading=!1,console.log(e.data),1==e.data.status?(t.snackbarSave=!0,t.snackbarText=t.$t("Saved"),t.refresh()):(console.log("status: ".concat(e.data.status)),t.snackbarSave=!0,t.snackbarText=t.$t("Error"))})).catch((function(t){return console.log(t)}))):this.dialog=!0},refresh:function(){var t=this;console.log("admin: ".concat(this.email)),r["a"].get({url:"api/admins/"+encodeURIComponent(this.email)}).then((function(e){console.log(e.data),1==e.data.status?(console.log("status: ".concat(e.data.status)),t.details=e.data.details,t.details.admin&&t.details.admin.permissions?t.permissions=JSON.parse(t.details.admin.permissions):t.permissions={},t.siteAdmin="rw"==t.permissions["@/"],t.domainAdmin="rw"==t.permissions["/"],t.profiles=void 0!=t.permissions["/profiles"],t.groups=void 0!=t.permissions["/groups"],t.apps=void 0!=t.permissions["/apps"],t.reports=void 0!=t.permissions["/reports"]):console.log("status: ".concat(e.data.status))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},updatePageHead:function(){var t=[{text:this.$t("control-panel"),to:"/",disabled:!1},{text:this.$t("Admins"),to:"/Admins",disabled:!1},{text:this.email,to:"/Admin/"+this.email,disabled:!1}];this.$emit("updatePage",t)}},created:function(){this.email=this.$route.params.email,this.email||(this.email=""),""==this.email?this.newadmin=!0:this.newadmin=!1,this.updatePageHead(),this.accessTypes=[{text:this.$t("Read only"),value:"r"},{text:this.$t("Read and Write"),value:"rw"}],this.accessTypesApps=[].concat(Object(n["a"])(this.accessTypes),[{text:this.$t("Read and Install/Uninstall"),value:"ri"}]),this.refresh()},watch:{profiles:function(t){this.checkboxChanged("/profiles",t)},groups:function(t){this.checkboxChanged("/groups",t)},apps:function(t){this.checkboxChanged("/apps",t)},reports:function(t){t?this.permissions["/reports"]||(this.permissions["/reports"]="r"):delete this.permissions["/reports"]},domainAdmin:function(t){t?this.permissions["/"]||(this.permissions={},this.permissions["/"]="rw",this.reports=!1,this.apps=!1,this.groups=!1,this.profiles=!1):delete this.permissions["/"]},siteAdmin:function(t){t?this.permissions["@/"]||(this.permissions={},this.permissions["@/"]="rw",this.domainAdmin=!1,this.reports=!1,this.apps=!1,this.groups=!1,this.profiles=!1):delete this.permissions["@/"]}}},c=l,u=c,d=a("2877"),h=a("6544"),p=a.n(h),f=a("8336"),v=a("b0af"),m=a("99d9"),g=a("15fd"),b=a("5530"),y=(a("25f0"),a("6ca7"),a("ec29"),a("9d26")),k=a("c37a"),x=a("fe09"),w=["title"],S=x["a"].extend({name:"v-checkbox",props:{indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"}},data:function(){return{inputIndeterminate:this.indeterminate}},computed:{classes:function(){return Object(b["a"])(Object(b["a"])({},k["a"].options.computed.classes.call(this)),{},{"v-input--selection-controls":!0,"v-input--checkbox":!0,"v-input--indeterminate":this.inputIndeterminate})},computedIcon:function(){return this.inputIndeterminate?this.indeterminateIcon:this.isActive?this.onIcon:this.offIcon},validationState:function(){if(!this.isDisabled||this.inputIndeterminate)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0}},watch:{indeterminate:function(t){var e=this;this.$nextTick((function(){return e.inputIndeterminate=t}))},inputIndeterminate:function(t){this.$emit("update:indeterminate",t)},isActive:function(){this.indeterminate&&(this.inputIndeterminate=!1)}},methods:{genCheckbox:function(){var t=this.attrs$,e=(t.title,Object(g["a"])(t,w));return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(y["a"],this.setTextColor(this.validationState,{props:{dense:this.dense,dark:this.dark,light:this.light}}),this.computedIcon),this.genInput("checkbox",Object(b["a"])(Object(b["a"])({},e),{},{"aria-checked":this.inputIndeterminate?"mixed":this.isActive.toString()})),this.genRipple(this.setTextColor(this.rippleState))])},genDefaultSlot:function(){return[this.genCheckbox(),this.genLabel()]}}}),$=a("62ad"),D=a("a523"),C=a("169a"),_=a("4bd4"),T=a("0fd9"),A=a("b974"),I=a("2db4"),P=a("2fa4"),O=Object(d["a"])(u,s,i,!1,null,null,null);e["default"]=O.exports;p()(O,{VBtn:f["a"],VCard:v["a"],VCardActions:m["a"],VCardTitle:m["d"],VCheckbox:S,VCol:$["a"],VContainer:D["a"],VDialog:C["a"],VForm:_["a"],VRow:T["a"],VSelect:A["a"],VSnackbar:I["a"],VSpacer:P["a"]})},"35d8":function(t,e,a){},"368e":function(t,e,a){},"3d86":function(t,e,a){},"4b0c":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:"bg"}},[a("v-toolbar",{attrs:{color:"secondary",dark:"",flat:""},scopedSlots:t._u([{key:"extension",fn:function(){return[a("v-tabs",{attrs:{"align-with-title":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tabs-slider",{attrs:{color:"primary"}}),a("v-tab",{key:"list"},[t._v(" "+t._s(t.$t("Devices"))+" ")])],1)]},proxy:!0}])},[a("v-toolbar-title",[t._v(" "+t._s(t.$t("Telephony")))]),a("v-spacer")],1),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",{key:"list",staticClass:"bg"},[a("v-data-table",{staticClass:"ma-4 bg",attrs:{color:"bg",headers:t.headers,items:t.rows,"server-items-length":t.totalItems,"items-per-page":5,loading:t.loading,options:t.options,search:t.search,"multi-sort":"","show-select":"","item-key":"item_key"},on:{"update:options":[function(e){t.options=e},t.updateOptions],"click:row":t.rowClick},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"bg"}},[t.selectedDevices.length>0&&t.appData.checkPermission("/profiles","w")?a("v-btn",{staticClass:"ma-4",attrs:{color:"primary"},on:{click:function(e){return t.setExtension(!0)}}},[t._v(t._s(t.$t("Add Local Extension"))+" ")]):t._e(),t.selectedDevices.length>0&&t.appData.checkPermission("/profiles","w")?a("v-btn",{staticClass:"ma-4",attrs:{color:"primary"},on:{click:function(e){t.dialogRemoveExtension=!0}}},[t._v(t._s(t.$t("Remove Local Extension"))+" ")]):t._e(),1!=t.selectedDevices.length||!t.appData.checkPermission("@/","rw")||t.selectedDevices[0].assigned_phone_number&&""!=t.selectedDevices[0].assigned_phone_number?t._e():a("v-btn",{staticClass:"ma-4",attrs:{color:"primary"},on:{click:function(e){return t.addExternalNumber()}}},[t._v(t._s(t.$t("Add External Number"))+" ")]),1==t.selectedDevices.length&&t.appData.checkPermission("@/","rw")&&t.selectedDevices[0].assigned_phone_number&&""!=t.selectedDevices[0].assigned_phone_number?a("v-btn",{staticClass:"ma-4",attrs:{color:"primary"},on:{click:function(e){t.dialogRemoveExternal=!0}}},[t._v(t._s(t.$t("Remove External Number"))+" ")]):t._e(),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]},proxy:!0},{key:"item.last_login",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.last_login?t.moment(a.last_login).format("LLL"):"")+" ")]}}]),model:{value:t.selectedDevices,callback:function(e){t.selectedDevices=e},expression:"selectedDevices"}})],1),a("v-tab-item",{key:"settings",staticClass:"bg"})],1),a("v-dialog",{attrs:{"overlay-color":"bg","max-width":"800px"},model:{value:t.numberDialog,callback:function(e){t.numberDialog=e},expression:"numberDialog"}},[a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(" "+t._s(t.$t("Select Number"))+" ")]),a("v-data-table",{staticClass:"elevation-1 ma-4 bg",attrs:{headers:t.numberHeaders,items:t.numberRows,loading:t.numberLoading,"items-per-page":5},on:{"click:row":t.numberClick}})],1)],1),a("v-dialog",{attrs:{"max-width":"500px",color:"bg"},model:{value:t.dialogRemoveExternal,callback:function(e){t.dialogRemoveExternal=e},expression:"dialogRemoveExternal"}},[a("v-card",{attrs:{color:"bg"}},[a("v-card-subtitle",{staticClass:"headline"},[t._v(t._s(t.$t("Are you sure you want to remove external number?")))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"warning"},on:{click:function(e){t.dialogRemoveExternal=!1}}},[t._v(t._s(t.$t("Cancel")))]),a("v-btn",{attrs:{color:"error"},on:{click:function(e){return t.removeNumber()}}},[t._v(t._s(t.$t("OK")))]),a("v-spacer")],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px",color:"bg"},model:{value:t.dialogRemoveExtension,callback:function(e){t.dialogRemoveExtension=e},expression:"dialogRemoveExtension"}},[a("v-card",{attrs:{color:"bg"}},[a("v-card-subtitle",{staticClass:"headline"},[t._v(t._s(t.$t("Are you sure you want to remove local extensions?")))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"warning"},on:{click:function(e){t.dialogRemoveExtension=!1}}},[t._v(t._s(t.$t("Cancel")))]),a("v-btn",{attrs:{color:"error"},on:{click:function(e){return t.setExtension(!1)}}},[t._v(t._s(t.$t("OK")))]),a("v-spacer")],1)],1)],1),a("v-snackbar",{attrs:{timeout:2e3},scopedSlots:t._u([{key:"action",fn:function(e){var s=e.attrs;return[a("v-btn",t._b({attrs:{color:"info",text:""},on:{click:function(e){t.snackbarSave=!1}}},"v-btn",s,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbarSave,callback:function(e){t.snackbarSave=e},expression:"snackbarSave"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},i=[],n=a("b85c");a("d3b7");function o(t,e,a,s,i,n,o){try{var r=t[n](o),l=r.value}catch(c){return void a(c)}r.done?e(l):Promise.resolve(l).then(s,i)}function r(t){return function(){var e=this,a=arguments;return new Promise((function(s,i){var n=t.apply(e,a);function r(t){o(n,s,i,r,l,"next",t)}function l(t){o(n,s,i,r,l,"throw",t)}r(void 0)}))}}a("99af"),a("ac1f"),a("841c"),a("159b"),a("96cf");var l=a("af52"),c=a("96f7"),u=a("c1df"),d={name:"Telephony",data:function(){return{tab:{},headers:[],rows:[],search:"",selectedDevices:[],totalItems:0,loading:!0,options:{sortBy:["last_login"],sortDesc:[!0]},numberDialog:!1,c:[],numberRows:[],numberLoading:!1,snackbarSave:!1,dialogRemoveExternal:!1,dialogRemoveExtension:!1,appData:l["a"],moment:u}},methods:{updateOptions:function(){this.refresh()},rowClick:function(t){console.log("rowClick: ".concat(t.email)),this.$router.push("/Profile/"+t.email)},setExtension:function(){var t=r(regeneratorRuntime.mark((function t(e){var a,s,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e?a="assignLocalExtension":(a="removeLocalExtension",this.dialogRemoveExtension=!1),s=Object(n["a"])(this.selectedDevices),t.prev=2,s.s();case 4:if((i=s.n()).done){t.next=10;break}return o=i.value,t.next=8,this.setExtensionToDevice(o,a);case 8:t.next=4;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](2),s.e(t.t0);case 15:return t.prev=15,s.f(),t.finish(15);case 18:this.selectedDevices=[],this.refresh();case 20:case"end":return t.stop()}}),t,this,[[2,12,15,18]])})));function e(e){return t.apply(this,arguments)}return e}(),setExtensionToDevice:function(){var t=r(regeneratorRuntime.mark((function t(e,a){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c["a"].post({url:"api/telephony/".concat(e.email,"/").concat(e.imei),data:{action:a}});case 3:s=t.sent,console.log(s.data),1==s.data.status?(this.snackbarSave=!0,this.snackbarText=this.$t("Saved")):(console.log("status: ".concat(s.data.status)),this.snackbarSave=!0,this.snackbarText=this.$t("Error")),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(e,a){return t.apply(this,arguments)}return e}(),addExternalNumber:function(){var t=r(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e=this.selectedDevices[0],this.numberLoading=!0,this.numberDialog=!0,this.numberRows=[],t.next=7,c["a"].post({url:"api/telephony/".concat(e.email,"/").concat(e.imei),data:{action:"getAvailableNumbers"}});case 7:a=t.sent,console.log(a.data),1==a.data.status?(this.numberHeaders=[{text:this.$t("Phone"),value:"phoneNumber"}],this.numberRows=a.data.availablePhoneNumbers,this.numberLoading=!1):(console.log("status: ".concat(a.data.status)),this.snackbarSave=!0,this.snackbarText=this.$t("Error")),t.next=19;break;case 12:t.prev=12,t.t0=t["catch"](0),console.error(t.t0),this.numberLoading=!1,this.numberDialog=!1,this.snackbarSave=!0,this.snackbarText=this.$t("Error");case 19:case"end":return t.stop()}}),t,this,[[0,12]])})));function e(){return t.apply(this,arguments)}return e}(),numberClick:function(){var t=r(regeneratorRuntime.mark((function t(e){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a=this.selectedDevices[0],t.next=4,c["a"].post({url:"api/telephony/".concat(a.email,"/").concat(a.imei),data:{action:"subscribeToNumber",phoneNumber:e.phoneNumber}});case 4:s=t.sent,console.log(s.data),1==s.data.status?(this.selectedDevices=[],this.snackbarSave=!0,this.snackbarText=this.$t("Number Added"),this.refresh()):(console.log("status: ".concat(s.data.status)),this.snackbarSave=!0,this.snackbarText=this.$t("Error")),this.numberDialog=!1,t.next=17;break;case 10:t.prev=10,t.t0=t["catch"](0),console.error(t.t0),this.numberLoading=!1,this.numberDialog=!1,this.snackbarSave=!0,this.snackbarText=this.$t("Error");case 17:case"end":return t.stop()}}),t,this,[[0,10]])})));function e(e){return t.apply(this,arguments)}return e}(),removeNumber:function(){var t=r(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.dialogRemoveExternal=!1,e=this.selectedDevices[0],t.next=5,c["a"].post({url:"api/telephony/".concat(e.email,"/").concat(e.imei),data:{action:"removeNumber"}});case 5:a=t.sent,console.log(a.data),1==a.data.status?(this.selectedDevices=[],this.snackbarSave=!0,this.snackbarText=this.$t("Number Removed"),this.refresh()):(console.log("status: ".concat(a.data.status)),this.snackbarSave=!0,this.snackbarText=this.$t("Error")),t.next=15;break;case 10:t.prev=10,t.t0=t["catch"](0),console.error(t.t0),this.snackbarSave=!0,this.snackbarText=this.$t("Error");case 15:case"end":return t.stop()}}),t,this,[[0,10]])})));function e(){return t.apply(this,arguments)}return e}(),refresh:function(){var t=this,e=this.options.itemsPerPage>0?this.options.itemsPerPage:1e4,a=(this.options.page-1)*e;console.log(this.options),c["a"].get({url:"api/devices",params:{offset:a,limit:e,sortBy:this.options.sortBy,sortDesc:this.options.sortDesc,search:this.search}}).then((function(e){console.log(e.data),1==e.data.status?(t.rows=e.data.devices,t.rows.forEach((function(t){t.item_key="".concat(t.email,":").concat(t.imei)})),t.totalItems=e.data.count):console.log("status: ".concat(e.data.status))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))}},created:function(){var t=[{text:this.$t("control-panel"),to:"/",disabled:!1},{text:this.$t("Telephony"),to:"/Telephony",disabled:!1}];this.$emit("updatePage",t),this.headers=[{text:this.$t("Connect Time"),value:"last_login"},{text:this.$t("Last Name"),value:"user.lastname"},{text:this.$t("First Name"),value:"user.firstname"},{text:this.$t("Email"),value:"email"},{text:this.$t("Device Name"),value:"devicename"},{text:this.$t("Device ID"),value:"imei"},{text:this.$t("Extension"),value:"local_extension"},{text:this.$t("External Number"),value:"assigned_phone_number"}]},watch:{tab:function(t){console.log("tab: ".concat(t))},search:function(t){console.log("search: ".concat(t)),(t.length>1||0==t.length)&&this.refresh()}}},h=d,p=h,f=a("2877"),v=a("6544"),m=a.n(v),g=a("8336"),b=a("b0af"),y=a("99d9"),k=a("8fea"),x=a("169a"),w=a("2db4"),S=a("2fa4"),$=a("71a3"),D=a("c671"),C=a("fe57"),_=a("aac8"),T=a("9a96"),A=a("8654"),I=a("71d9"),P=a("2a7f"),O=Object(f["a"])(p,s,i,!1,null,null,null);e["default"]=O.exports;m()(O,{VBtn:g["a"],VCard:b["a"],VCardActions:y["a"],VCardSubtitle:y["b"],VCardTitle:y["d"],VDataTable:k["a"],VDialog:x["a"],VSnackbar:w["a"],VSpacer:S["a"],VTab:$["a"],VTabItem:D["a"],VTabs:C["a"],VTabsItems:_["a"],VTabsSlider:T["a"],VTextField:A["a"],VToolbar:I["a"],VToolbarTitle:P["a"]})},"4d90":function(t,e,a){"use strict";var s=a("23e7"),i=a("0ccb").start,n=a("9a0c");s({target:"String",proto:!0,forced:n},{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},"4ebe":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[a("v-text-field",{attrs:{label:t.$t("Group Name"),readonly:!t.newgroup,rules:[t.checkGroupName]},model:{value:t.groupName,callback:function(e){t.groupName=e},expression:"groupName"}}),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-data-table",{staticClass:"ma-4 bg",attrs:{headers:t.headers,items:t.rows,"items-per-page":10,loading:t.loading,search:t.search,"multi-sort":"","show-select":"","item-key":"email"},on:{"click:row":t.rowClick},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"bg"}},[t.appData.checkPermission("/groups","w")?a("v-btn",{staticClass:"ma-4",attrs:{color:"primary",disabled:t.readonly||""==t.groupName||!0!==t.checkGroupName(t.groupName)},on:{click:t.openAddProfiles}},[t._v(t._s(t.$t("Add Profiles")))]):t._e(),t.appData.checkPermission("/groups","w")?a("v-btn",{staticClass:"ma-4",attrs:{color:"primary",disabled:t.removeSelectedDisable||t.readonly},on:{click:function(e){t.dialogDelete=!0}}},[t._v(t._s(t.$t("Remove Selected Profiles")))]):t._e()],1)]},proxy:!0}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),a("v-dialog",{attrs:{"max-width":"800px","overlay-color":"bg"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(" "+t._s(t.$t("Add Profiles"))+" "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.searchProfiles,callback:function(e){t.searchProfiles=e},expression:"searchProfiles"}})],1),a("v-data-table",{staticClass:"ma-4 bg",attrs:{headers:t.profilesHeaders,items:t.profilesRows,loading:t.profilesLoading,"server-items-length":t.totalItems,"items-per-page":5,options:t.options,search:t.searchProfiles,"show-select":"","multi-sort":"","item-key":"email"},on:{"update:options":[function(e){t.options=e},t.updateOptions]},scopedSlots:t._u([{key:"header.data-table-select",fn:function(){return[t._v("   ")]},proxy:!0},{key:"item.data-table-select",fn:function(e){var s=e.isSelected,i=e.select,n=e.item;return[a("v-simple-checkbox",{attrs:{disabled:!t.isItemExists(n),value:s},on:{input:function(t){return i(t)}}})]}},{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"bg"}},[a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",disabled:t.addSelectedDisabled,loading:t.addSelectedLoading},on:{click:t.addSelected}},[t._v(" "+t._s(t.$t("Assign Selected Profiles"))+" ")])],1)]},proxy:!0}]),model:{value:t.profilesSelected,callback:function(e){t.profilesSelected=e},expression:"profilesSelected"}})],1)],1),a("v-dialog",{attrs:{"max-width":"500px","overlay-color":"bg"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(t._s(t.$t("Remove Selected Profiles")))]),a("v-card-subtitle",{staticClass:"mt-4"},[t._v(t._s(t.$t("Are you sure you want to remove the selected profiles?")))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"warning"},on:{click:function(e){t.dialogDelete=!1}}},[t._v(t._s(t.$t("Cancel")))]),a("v-btn",{attrs:{color:"primary"},on:{click:function(e){t.dialogDelete=!1|t.removeProfiles(t.selected)}}},[t._v(t._s(t.$t("Remove Profiles")))]),a("v-spacer")],1)],1)],1),a("v-snackbar",{attrs:{timeout:2e3},scopedSlots:t._u([{key:"action",fn:function(e){var s=e.attrs;return[a("v-btn",t._b({attrs:{color:"primary",text:""},on:{click:function(e){t.snackbarSave=!1}}},"v-btn",s,!1),[t._v(" "+t._s(t.$t("Close"))+" ")])]}}]),model:{value:t.snackbarSave,callback:function(e){t.snackbarSave=e},expression:"snackbarSave"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},i=[],n=(a("d3b7"),a("ac1f"),a("841c"),a("159b"),a("99af"),a("e9c4"),a("af52")),o=a("96f7"),r={name:"Group",data:function(){return{headers:[],rows:[],search:"",totalItems:0,loading:!0,options:{},groupName:{},adDomain:{},appData:n["a"],groupParam:"",selected:[],removeSelectedDisable:!0,dialogDelete:!1,dialog:!1,profilesHeaders:[],profilesRows:[],profilesLoading:!0,profilesSelected:[],searchProfiles:"",addSelectedDisabled:!0,addSelectedLoading:!1,readonly:!1,newgroup:!0,snackbarSave:!1,snackbarText:"",groupNames:{}}},methods:{openAddProfiles:function(){console.log("openAddProfiles"),this.dialog=!0,this.profilesSelected=[],this.refreshProfiles()},addSelected:function(){this.addSelectedLoading=!0,this.addProfiles(this.profilesSelected)},refreshProfiles:function(){var t=this;this.profilesLoading=!0;var e=this.options.itemsPerPage>0?this.options.itemsPerPage:1e4,a=(this.options.page-1)*e;o["a"].post({url:"api/profiles",data:{offset:a,limit:e,sortBy:this.options.sortBy,sortDesc:this.options.sortDesc,search:this.search}}).then((function(e){t.profilesLoading=!1,console.log(e.data),1==e.data.status?(t.profilesRows=e.data.profiles,t.totalItems=e.data.totalItems):console.log("status: ".concat(e.data.status))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},isItemExists:function(t){return!this.emailMap[t.email]},updateOptions:function(t){console.log("update:options",t),this.refreshProfiles()},rowClick:function(t){console.log("rowClick: ".concat(t.email)),this.$router.push("/Profile/"+t.email)},refresh:function(){var t=this;console.log("groupParam: ".concat(this.groupParam)),o["a"].get({url:"api/groups/"+encodeURIComponent(this.groupParam)}).then((function(e){console.log(e.data),1==e.data.status?(t.rows=e.data.profiles,t.emailMap={},t.rows.forEach((function(e){t.emailMap[e.email]=1}))):(console.log("status: ".concat(e.data.status)),t.$router.push("/Login"))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},loadGroupNames:function(){var t=this;o["a"].get({url:"api/groups"}).then((function(e){console.log(e.data),1==e.data.status?e.data.groups.forEach((function(e){t.groupNames[e.groupName]="1"})):console.log("status: ".concat(e.data.status))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},addProfiles:function(t){var e=this;Array.isArray(t)||(t=[t]);var a,s,i=[];t.forEach((function(t){var e;e="string"===typeof t?t:t.email,i.push(e)})),console.log("addProfiles: ".concat(i)),this.newgroup?(a="put",s="",this.groupParam=this.groupName):(a="post",s="addProfiles"),o["a"].req({method:a,url:"api/groups/".concat(encodeURIComponent(this.groupParam),"/").concat(s),data:{email:i}}).then((function(t){console.log(t.data),1==t.data.status?(console.log("status: ".concat(t.data.status)),e.addSelectedLoading=!1,e.dialog=!1,e.newgroup?(e.newgroup=!1,e.updatePageHead(),e.snackbarText=e.$t("Group Added")):e.snackbarText=e.$t("Profiles Added"),e.snackbarSave=!0,e.refresh()):(console.log("status: ".concat(t.data.status)),e.addSelectedLoading=!1,e.snackbarText=e.$t("Error")+" - "+t.data.message,e.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){return e.loading=!1}))},removeProfiles:function(t){var e=this;Array.isArray(t)||(t=[t]);var a="";t.forEach((function(t){var e;e="string"===typeof t?t:t.email,a+="&email="+encodeURIComponent(e)})),o["a"].get({url:"api/groups/".concat(encodeURIComponent(this.groupParam),"/removeProfiles?").concat(a)}).then((function(t){console.log(t.data),1==t.data.status?(console.log("status: ".concat(t.data.status)),e.refresh()):console.log("status: ".concat(t.data.status))})).catch((function(t){return console.log(t)})).finally((function(){return e.loading=!1}))},updatePageHead:function(){var t=[{text:this.$t("control-panel"),to:"/",disabled:!1},{text:this.$t("Groups"),to:"/Groups",disabled:!1},{text:this.newgroup?this.$t("New Group"):this.groupName,to:"/Group/"+this.groupName+"/"+this.adDomain,disabled:!1}];this.$emit("updatePage",t)},checkGroupName:function(t){return t&&""!=t?!this.groupNames[t]||this.$t("Group name already exists"):this.$t("Enter group name")}},created:function(){this.groupName=this.$route.params.groupName,"All"==this.groupName?this.readonly=!0:this.readonly=!1,this.groupName||(this.groupName=""),""==this.groupName?(this.newgroup=!0,this.adDomain="",this.loadGroupNames()):(this.newgroup=!1,this.adDomain=this.$route.params.adDomain?this.$route.params.adDomain:""),this.adDomain&&""!=this.adDomain?this.groupParam="".concat(this.groupName,"#").concat(this.adDomain):this.groupParam=this.groupName,this.updatePageHead(),this.headers=[{text:this.$t("First Name"),value:"firstName"},{text:this.$t("Last Name"),value:"lastName"},{text:this.$t("Email"),value:"email"}],this.profilesHeaders=[{text:this.$t("Last Name"),value:"lastName"},{text:this.$t("First Name"),value:"firstName"},{text:this.$t("Email"),value:"email"}],this.refresh()},watch:{selected:function(t){console.log("selected: ".concat(JSON.stringify(t,null,2))),this.removeSelectedDisable=0==t.length},profilesSelected:function(t){console.log("profilesSelected: ".concat(JSON.stringify(t,null,2))),this.addSelectedDisabled=0==t.length},searchProfiles:function(t){console.log("searchProfiles: ".concat(JSON.stringify(t,null,2))),this.refreshProfiles()}}},l=r,c=l,u=a("2877"),d=a("6544"),h=a.n(d),p=a("8336"),f=a("b0af"),v=a("99d9"),m=a("8fea"),g=a("169a"),b=a("9e88"),y=a("2db4"),k=a("2fa4"),x=a("8654"),w=a("71d9"),S=Object(u["a"])(c,s,i,!1,null,null,null);e["default"]=S.exports;h()(S,{VBtn:p["a"],VCard:f["a"],VCardActions:v["a"],VCardSubtitle:v["b"],VCardTitle:v["d"],VDataTable:m["a"],VDialog:g["a"],VSimpleCheckbox:b["a"],VSnackbar:y["a"],VSpacer:k["a"],VTextField:x["a"],VToolbar:w["a"]})},"4fadc":function(t,e,a){var s=a("23e7"),i=a("6f53").entries;s({target:"Object",stat:!0},{entries:function(t){return i(t)}})},5311:function(t,e,a){"use strict";var s=a("5607"),i=a("2b0e");e["a"]=i["a"].extend({name:"rippleable",directives:{ripple:s["a"]},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.ripple?(t.staticClass="v-input--selection-controls__ripple",t.directives=t.directives||[],t.directives.push({name:"ripple",value:{center:!0}}),this.$createElement("div",t)):null}}})},5803:function(t,e,a){},"5fb2":function(t,e,a){"use strict";var s=a("da84"),i=a("e330"),n=2147483647,o=36,r=1,l=26,c=38,u=700,d=72,h=128,p="-",f=/[^\0-\u007E]/,v=/[.\u3002\uFF0E\uFF61]/g,m="Overflow: input needs wider integers to process",g=o-r,b=s.RangeError,y=i(v.exec),k=Math.floor,x=String.fromCharCode,w=i("".charCodeAt),S=i([].join),$=i([].push),D=i("".replace),C=i("".split),_=i("".toLowerCase),T=function(t){var e=[],a=0,s=t.length;while(a<s){var i=w(t,a++);if(i>=55296&&i<=56319&&a<s){var n=w(t,a++);56320==(64512&n)?$(e,((1023&i)<<10)+(1023&n)+65536):($(e,i),a--)}else $(e,i)}return e},A=function(t){return t+22+75*(t<26)},I=function(t,e,a){var s=0;t=a?k(t/u):t>>1,t+=k(t/e);while(t>g*l>>1)t=k(t/g),s+=o;return k(s+(g+1)*t/(t+c))},P=function(t){var e=[];t=T(t);var a,s,i=t.length,c=h,u=0,f=d;for(a=0;a<t.length;a++)s=t[a],s<128&&$(e,x(s));var v=e.length,g=v;v&&$(e,p);while(g<i){var y=n;for(a=0;a<t.length;a++)s=t[a],s>=c&&s<y&&(y=s);var w=g+1;if(y-c>k((n-u)/w))throw b(m);for(u+=(y-c)*w,c=y,a=0;a<t.length;a++){if(s=t[a],s<c&&++u>n)throw b(m);if(s==c){var D=u,C=o;while(1){var _=C<=f?r:C>=f+l?l:C-f;if(D<_)break;var P=D-_,O=o-_;$(e,x(A(_+P%O))),D=k(P/O),C+=o}$(e,x(A(D))),f=I(u,w,g==v),u=0,g++}}u++,c++}return S(e,"")};t.exports=function(t){var e,a,s=[],i=C(D(_(t),v,"."),".");for(e=0;e<i.length;e++)a=i[e],$(s,y(f,a)?"xn--"+P(a):a);return S(s,".")}},6062:function(t,e,a){"use strict";var s=a("6d61"),i=a("6566");s("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i)},"608c":function(t,e,a){},6271:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(" "+t._s(t.$t("Admin List"))+" "),a("v-spacer")],1),a("v-data-table",{staticClass:"elevation-1 ma-4 bg",attrs:{headers:t.headers,items:t.rows,loading:t.loading},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"bg"}},[a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:t.addAdmin}},[t._v(" "+t._s(t.$t("Add Administrators"))+" ")])],1)]},proxy:!0},{key:"item.actions",fn:function(e){var s=e.item;return[s.email!=t.appData.email?a("v-icon",{staticClass:"mx-2",attrs:{small:""},on:{click:function(e){return t.$router.push("/Admin/"+s.email)}}},[t._v(" mdi-pencil ")]):t._e(),s.email!=t.appData.email?a("v-icon",{staticClass:"mx-2",attrs:{small:""},on:{click:function(e){return t.deleteAdmin(s)}}},[t._v(" mdi-delete ")]):t._e()]}}])}),a("v-dialog",{attrs:{"overlay-color":"bg","max-width":"800px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(" "+t._s(t.$t("Add Profiles"))+" "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-data-table",{staticClass:"elevation-1 ma-4 bg",attrs:{headers:t.profilesHeaders,items:t.profilesRows,loading:t.profilesLoading,"server-items-length":t.totalItems,"items-per-page":5,options:t.options,search:t.search},on:{"update:options":[function(e){t.options=e},t.updateOptions],"click:row":t.rowClick}})],1)],1),a("v-snackbar",{attrs:{timeout:2e3},scopedSlots:t._u([{key:"action",fn:function(e){var s=e.attrs;return[a("v-btn",t._b({attrs:{color:"info",text:""},on:{click:function(e){t.snackbarSave=!1}}},"v-btn",s,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbarSave,callback:function(e){t.snackbarSave=e},expression:"snackbarSave"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},i=[],n=(a("d3b7"),a("ac1f"),a("841c"),a("af52")),o=a("96f7"),r={name:"Profiles",data:function(){return{headers:[],rows:[],dialog:!1,profilesHeaders:[],profilesRows:[],profilesLoading:!0,search:"",totalItems:0,loading:!0,options:{},snackbarSave:!1,snackbarText:"",appData:n["a"]}},methods:{addAdmin:function(){this.dialog=!0,this.refreshProfiles()},updateOptions:function(t){console.log("update:options",t),this.refreshProfiles()},rowClick:function(t){console.log("rowClick: ".concat(t.email)),this.$router.push("/Admin/"+t.email)},deleteAdmin:function(t){var e=this;console.log("Delete admin: ".concat(t.emil)),o["a"].delete({url:"api/admins/"+encodeURIComponent(t.email)}).then((function(t){console.log(t.data),1==t.data.status?(e.snackbarText=e.$t("Admin removed"),e.snackbarSave=!0,e.refresh()):(console.log("status: ".concat(t.data.status)),e.snackbarText=e.$t("Error"),e.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){return e.loading=!1}))},refreshProfiles:function(){var t=this;this.profilesLoading=!0;var e=this.options.itemsPerPage>0?this.options.itemsPerPage:1e4,a=(this.options.page-1)*e;o["a"].post({url:"api/profiles",data:{adminFilter:"N",offset:a,limit:e,sortBy:this.options.sortBy,sortDesc:this.options.sortDesc,search:this.search}}).then((function(e){t.profilesLoading=!1,console.log(e.data),1==e.data.status?(t.profilesRows=e.data.profiles,t.totalItems=e.data.totalItems):(console.log("status: ".concat(e.data.status)),t.$router.push("/Login"))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},refresh:function(){var t=this;o["a"].post({url:"api/profiles",data:{adminFilter:"Y"}}).then((function(e){console.log(e.data),1==e.data.status?t.rows=e.data.profiles:(console.log("status: ".concat(e.data.status)),t.$router.push("/Login"))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))}},created:function(){var t=[{text:this.$t("control-panel"),to:"/",disabled:!1},{text:this.$t("Administrators"),to:"/Admins",disabled:!1}];this.$emit("updatePage",t),this.headers=[{text:this.$t("Last Name"),value:"lastName"},{text:this.$t("First Name"),value:"firstName"},{text:this.$t("Email"),value:"email"},{text:this.$t("Actions"),value:"actions",sortable:!1}],this.profilesHeaders=[{text:this.$t("Last Name"),value:"lastName"},{text:this.$t("First Name"),value:"firstName"},{text:this.$t("Email"),value:"email"}],this.refresh()},watch:{search:function(t){console.log("search: ".concat(t)),(t.length>1||0==t.length)&&this.refreshProfiles()}}},l=r,c=l,u=a("2877"),d=a("6544"),h=a.n(d),p=a("8336"),f=a("b0af"),v=a("99d9"),m=a("8fea"),g=a("169a"),b=a("132d"),y=a("2db4"),k=a("2fa4"),x=a("8654"),w=a("71d9"),S=Object(u["a"])(c,s,i,!1,null,null,null);e["default"]=S.exports;h()(S,{VBtn:p["a"],VCard:f["a"],VCardTitle:v["d"],VDataTable:m["a"],VDialog:g["a"],VIcon:b["a"],VSnackbar:y["a"],VSpacer:k["a"],VTextField:x["a"],VToolbar:w["a"]})},"696f":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(" "+t._s(t.$t("Groups"))+" ")]),a("v-data-table",{staticClass:"ma-4 bg",attrs:{headers:t.headers,items:t.rows,"items-per-page":10,search:t.search},on:{"click:row":t.rowClick},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"bg"}},[t.appData.checkPermission("/groups","w")?a("v-btn",{staticClass:"ma-4",attrs:{color:"primary"},on:{click:function(e){return t.$router.push("/Group/")}}},[t._v(t._s(t.$t("New Group")))]):t._e(),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]},proxy:!0},{key:"item.adDomain",fn:function(e){var s=e.item;return["All"==s.groupName?a("div",[t._v(t._s(t.$t("Automatic")))]):""==s.adDomain?a("div",[t._v(t._s(t.$t("Manual")))]):a("div",[t._v(t._s(t.$t("Active Directory")))])]}},{key:"item.actions",fn:function(e){var s=e.item;return["All"!=s.groupName&&t.appData.checkPermission("/groups","w")?a("v-icon",{staticClass:"mx-2",attrs:{small:""},on:{click:function(e){return t.deleteGroup(s,e)}}},[t._v(" mdi-delete ")]):t._e()]}}])}),a("v-dialog",{attrs:{"max-width":"500px","overlay-color":"bg"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(t._s(t.$t("Remove Group")))]),a("v-card-subtitle",{staticClass:"mt-4"},[t._v(t._s(t.$t("Are you sure you want to remove the selected group?")))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"warning"},on:{click:function(e){t.dialogDelete=!1}}},[t._v(t._s(t.$t("Cancel")))]),a("v-btn",{attrs:{color:"primary"},on:{click:function(e){t.dialogDelete=!1|t.removeGroup()}}},[t._v(t._s(t.$t("Remove Group")))]),a("v-spacer")],1)],1)],1),a("v-snackbar",{attrs:{timeout:2e3},scopedSlots:t._u([{key:"action",fn:function(e){var s=e.attrs;return[a("v-btn",t._b({attrs:{color:"primary",text:""},on:{click:function(e){t.snackbarSave=!1}}},"v-btn",s,!1),[t._v(" "+t._s(t.$t("Close"))+" ")])]}}]),model:{value:t.snackbarSave,callback:function(e){t.snackbarSave=e},expression:"snackbarSave"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},i=[],n=(a("99af"),a("d3b7"),a("af52")),o=a("96f7"),r={name:"Groups",data:function(){return{headers:[],rows:[],search:"",totalItems:0,loading:!0,options:{},dialogDelete:!1,removeItem:null,snackbarSave:!1,snackbarText:"",appData:n["a"]}},methods:{rowClick:function(t){console.log("rowClick: ".concat(t.groupName)),this.$router.push("/Group/"+t.groupName+"/"+t.adDomain)},deleteGroup:function(t,e){return console.log("deleteGroup: ".concat(t.groupName," ").concat(t.adDomain)),e.stopPropagation(),this.dialogDelete=!0,this.removeItem=t,!1},removeGroup:function(){var t,e=this;t=this.removeItem.adDomain&&""!=this.removeItem.adDomain?"".concat(this.removeItem.groupName,"#").concat(this.removeItem.adDomain):this.removeItem.groupName,console.log("groupParam: "+t),o["a"].delete({url:"api/groups/".concat(encodeURIComponent(t))}).then((function(t){console.log(t.data),1==t.data.status?(e.snackbarText=e.$t("Group removed"),e.snackbarSave=!0,e.dialogDelete=!1,e.refresh()):(console.log("status: ".concat(t.data.status)),e.snackbarText=e.$t("Error"),e.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){return e.loading=!1}))},refresh:function(){var t=this;o["a"].get({url:"api/groups"}).then((function(e){console.log(e.data),1==e.data.status?t.rows=e.data.groups:(console.log("status: ".concat(e.data.status)),t.$router.push("/Login"))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))}},created:function(){var t=[{text:this.$t("control-panel"),to:"/",disabled:!1},{text:this.$t("Groups"),to:"/Groups",disabled:!1}];this.$emit("updatePage",t),this.headers=[{text:this.$t("Name"),value:"groupName"},{text:this.$t("Group Type"),value:"adDomain"},{text:this.$t("Actions"),value:"actions",sortable:!1}],this.refresh()}},l=r,c=l,u=a("2877"),d=a("6544"),h=a.n(d),p=a("8336"),f=a("b0af"),v=a("99d9"),m=a("8fea"),g=a("169a"),b=a("132d"),y=a("2db4"),k=a("2fa4"),x=a("8654"),w=a("71d9"),S=Object(u["a"])(c,s,i,!1,null,null,null);e["default"]=S.exports;h()(S,{VBtn:p["a"],VCard:f["a"],VCardActions:v["a"],VCardSubtitle:v["b"],VCardTitle:v["d"],VDataTable:m["a"],VDialog:g["a"],VIcon:b["a"],VSnackbar:y["a"],VSpacer:k["a"],VTextField:x["a"],VToolbar:w["a"]})},"6ca7":function(t,e,a){},"71a3":function(t,e,a){"use strict";var s=a("5530"),i=(a("ac1f"),a("5319"),a("4e82")),n=a("1c87"),o=a("7560"),r=a("80d2"),l=a("58df"),c=Object(l["a"])(n["a"],Object(i["a"])("tabsBar"),o["a"]);e["a"]=c.extend().extend().extend({name:"v-tab",props:{ripple:{type:[Boolean,Object],default:!0}},data:function(){return{proxyClass:"v-tab--active"}},computed:{classes:function(){return Object(s["a"])(Object(s["a"])({"v-tab":!0},n["a"].options.computed.classes.call(this)),{},{"v-tab--disabled":this.disabled},this.groupClasses)},value:function(){var t=this.to||this.href;if(null==t)return t;if(this.$router&&this.to===Object(this.to)){var e=this.$router.resolve(this.to,this.$route,this.append);t=e.href}return t.replace("#","")}},methods:{click:function(t){this.disabled?t.preventDefault():(this.href&&this.href.indexOf("#")>-1&&t.preventDefault(),t.detail&&this.$el.blur(),this.$emit("click",t),this.to||this.toggle())},toggle:function(){this.isActive&&(this.tabsBar.mandatory||this.to)||this.$emit("change")}},render:function(t){var e=this,a=this.generateRouteLink(),i=a.tag,n=a.data;return n.attrs=Object(s["a"])(Object(s["a"])({},n.attrs),{},{"aria-selected":String(this.isActive),role:"tab",tabindex:0}),n.on=Object(s["a"])(Object(s["a"])({},n.on),{},{keydown:function(t){t.keyCode===r["A"].enter&&e.click(t),e.$emit("keydown",t)}}),t(i,n,this.$slots.default)}})},"7e8c":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(t._s(t.$t("LDAP Domains")))]),a("v-data-table",{staticClass:"elevation-1 ma-4 bg",attrs:{headers:t.headers,items:t.rows,"items-per-page":20,loading:t.loading},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"bg"}},[a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:t.addLDAP}},[t._v(" "+t._s(t.$t("Add LDAP Domain"))+" ")])],1)]},proxy:!0},{key:"item.actions",fn:function(e){var s=e.item;return[a("v-icon",{staticClass:"mx-2",attrs:{small:""},on:{click:function(e){return t.rowClick(s)}}},[t._v(" mdi-pencil ")]),a("v-icon",{staticClass:"mx-2",attrs:{small:""},on:{click:function(e){return t.deleteLDAP(s)}}},[t._v(" mdi-delete ")])]}}])}),a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[t._v(" Delete "+t._s(t.deleteDomain)+" LDAP Domain? ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Cancel ")]),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:t.deleteOK}},[t._v(" OK ")])],1)],1)],1),a("v-snackbar",{attrs:{timeout:2e3},scopedSlots:t._u([{key:"action",fn:function(e){var s=e.attrs;return[a("v-btn",t._b({attrs:{color:"info",text:""},on:{click:function(e){t.snackbarSave=!1}}},"v-btn",s,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbarSave,callback:function(e){t.snackbarSave=e},expression:"snackbarSave"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},i=[],n=(a("d3b7"),a("af52")),o=a("96f7"),r={name:"LDAP",data:function(){return{headers:[],rows:[],search:"",totalItems:0,loading:!0,options:{},dialog:!1,deleteObj:null,deleteDomain:"",snackbarSave:!1,snackbarText:"",appData:n["a"]}},methods:{rowClick:function(t){console.log("rowClick: ".concat(t.addomain)),this.$router.push("/LDAP/"+t.addomain)},deleteLDAP:function(t){this.deleteObj=t,this.deleteDomain=t.addomain,this.dialog=!0},deleteOK:function(){var t=this;console.log("deleteLDAP: ".concat(this.deleteDomain)),this.dialog=!1,o["a"].delete({url:"api/ldap/"+encodeURIComponent(this.deleteDomain)}).then((function(e){console.log(e.data),1==e.data.status?(t.snackbarText=t.$t("Saved"),t.snackbarSave=!0,t.refresh()):(console.log("status: ".concat(e.data.status)),t.snackbarText=t.$t("Error"),t.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},addLDAP:function(){this.$router.push("/LDAP/CREATELDAP")},refresh:function(){var t=this;o["a"].get({url:"api/ldap"}).then((function(e){console.log(e.data),1==e.data.status?t.rows=e.data.ldapDomains:(console.log("status: ".concat(e.data.status)),t.rows=[])})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))}},created:function(){var t=[{text:this.$t("control-panel"),to:"/",disabled:!1},{text:this.$t("LDAP"),to:"/LDAP",disabled:!1}];this.$emit("updatePage",t),this.headers=[{text:this.$t("LDAP Domain"),value:"addomain"},{text:this.$t("URL"),value:"connectionurl"},{text:this.$t("Base DN"),value:"basedn"},{text:"Actions",value:"actions",sortable:!1}],this.refresh()}},l=r,c=l,u=a("2877"),d=a("6544"),h=a.n(d),p=a("8336"),f=a("b0af"),v=a("99d9"),m=a("8fea"),g=a("169a"),b=a("132d"),y=a("2db4"),k=a("2fa4"),x=a("71d9"),w=Object(u["a"])(c,s,i,!1,null,null,null);e["default"]=w.exports;h()(w,{VBtn:p["a"],VCard:f["a"],VCardActions:v["a"],VCardTitle:v["d"],VDataTable:m["a"],VDialog:g["a"],VIcon:b["a"],VSnackbar:y["a"],VSpacer:k["a"],VToolbar:x["a"]})},8107:function(t,e,a){},"88e6":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:"bg"}},[a("v-toolbar",{attrs:{color:"secondary",dark:"",flat:""},scopedSlots:t._u([{key:"extension",fn:function(){return[a("v-tabs",{attrs:{"align-with-title":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tabs-slider",{attrs:{color:"primary"}}),a("v-tab",{key:"list"},[t._v(" "+t._s(t.$t("Profile List"))+" ")]),a("v-tab",{key:"online"},[t._v(" "+t._s(t.$t("Online Profiles"))+" ")]),a("v-tab",{key:"approvals"},[t._v(" "+t._s(t.$t("Approvals"))+" ")])],1)]},proxy:!0}])},[a("v-toolbar-title",[t._v(" "+t._s(t.$t("Profiles")))]),a("v-spacer")],1),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",{key:"list",staticClass:"bg"},[a("v-data-table",{staticClass:"ma-4 bg",attrs:{color:"bg",headers:t.headers,items:t.rows,"server-items-length":t.totalItems,"items-per-page":5,loading:t.loading,options:t.options,search:t.search,"multi-sort":""},on:{"update:options":[function(e){t.options=e},t.updateOptions],"click:row":t.rowClick},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"bg"}},[t.appData.checkPermission("/profiles","w")?a("v-btn",{staticClass:"ma-4",attrs:{color:"primary"},on:{click:function(e){return t.$router.push("/Profile/")}}},[t._v(t._s(t.$t("New Profile")))]):t._e(),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]},proxy:!0}])})],1),a("v-tab-item",{key:"online",staticClass:"bg"},[a("v-data-table",{staticClass:"elevation-1 ma-4 bg",attrs:{headers:t.onlineHeads,items:t.onlineRows,"items-per-page":10,loading:t.onlineLoad,expanded:t.onlineExpanded,"item-key":"email","show-expand":"",options:t.onlineOptions},on:{"update:expanded":function(e){t.onlineExpanded=e},"click:row":t.rowClick,"update:options":[function(e){t.onlineOptions=e},t.updateOnlineOptions]},scopedSlots:t._u([{key:"expanded-item",fn:function(e){var s=e.headers,i=e.item;return[a("td",{attrs:{colspan:s.length}},[a("v-data-table",{staticClass:"ma-4 bg",attrs:{headers:t.devicesHeads,items:i.user_devices,"items-per-page":10}})],1)]}}])})],1),a("v-tab-item",{key:"approvals",staticClass:"bg"},[a("v-data-table",{staticClass:"elevation-1 ma-4 bg",attrs:{headers:t.approvalHeads,items:t.approvalRows,"items-per-page":10,loading:t.approvalLoad,expanded:t.approvalsExpanded,"group-by":"Profile","show-expand":"","show-select":"","item-key":"item_key",options:t.approvalOptions},on:{"update:expanded":function(e){t.approvalsExpanded=e},"update:options":[function(e){t.approvalOptions=e},t.updateApprovalOptions]},scopedSlots:t._u([{key:"top",fn:function(){return[t.selectedApprovals.length>0?a("v-toolbar",{attrs:{flat:"",color:"bg"}},[t.appData.checkPermission("/profiles","w")?a("v-btn",{staticClass:"ma-4",attrs:{color:"success"},on:{click:function(e){return t.approveSelected(!0)}}},[t._v(t._s(t.$t("Approve Selected")))]):t._e(),t.appData.checkPermission("/profiles","w")?a("v-btn",{staticClass:"ma-4",attrs:{color:"error"},on:{click:function(e){return t.approveSelected(!1)}}},[t._v(t._s(t.$t("Disapprove Selected")))]):t._e()],1):t._e()]},proxy:!0},{key:"group.header",fn:function(e){var s=e.isOpen,i=e.toggle,n=e.group,o=e.headers;return[a("td",{staticClass:"accent",attrs:{colspan:o.length}},[a("v-btn",{attrs:{icon:""},on:{click:i}},[a("v-icon",[t._v(" "+t._s(s?"$minus":"$plus")+" ")])],1),t._v(" "+t._s(n)+" ")],1)]}},{key:"expanded-item",fn:function(e){var s=e.headers,i=e.item;return[a("td",{attrs:{colspan:s.length}},[t._v(" "+t._s(t.$t("Device ID"))+": "+t._s(i.deviceid)+" ")])]}},{key:"item.approvalType",fn:function(e){var s=e.item;return["activate"==s.approvalType?a("v-chip",[t._v(t._s(t.$t("Activate Device")))]):t._e(),"unlock passcode"==s.approvalType?a("v-chip",[t._v(t._s(t.$t("Unlock Device")))]):t._e(),"reset passcode"==s.approvalType?a("v-chip",[t._v(t._s(t.$t("Reset Password")))]):t._e(),"reset biometric"==s.approvalType?a("v-chip",[t._v(t._s(t.$t("Reset Biometric Key")))]):t._e(),"admin"==s.approvalType?a("v-chip",[t._v(t._s(t.$t("Activate Control Panel")))]):t._e(),"admin reset"==s.approvalType?a("v-chip",[t._v(t._s(t.$t("Reset Admin Password")))]):t._e(),"reset otp"==s.approvalType?a("v-chip",[t._v(t._s(t.$t("Reset OTP Code")))]):t._e()]}},{key:"item.actions",fn:function(e){var s=e.item;return[t.appData.checkPermission("/profiles","w")?a("v-icon",{staticClass:"mx-2",attrs:{color:"success"},on:{click:function(e){return t.approveItem(s,!0)}}},[t._v(" mdi-check-bold ")]):t._e(),t.appData.checkPermission("/profiles","w")?a("v-icon",{staticClass:"mx-2",attrs:{color:"error"},on:{click:function(e){return t.approveItem(s,!1)}}},[t._v(" mdi-close-thick ")]):t._e()]}}]),model:{value:t.selectedApprovals,callback:function(e){t.selectedApprovals=e},expression:"selectedApprovals"}})],1)],1)],1)},i=[],n=(a("b0c0"),a("d3b7"),a("159b"),a("99af"),a("a434"),a("ac1f"),a("841c"),a("e9c4"),a("af52")),o=a("96f7"),r={name:"Profiles",data:function(){return{tab:{},headers:[],rows:[],search:"",totalItems:0,loading:!0,options:{},approvalLoad:!1,approvalRows:[],approvalHeads:[],approvalsExpanded:[],approvalOptions:{},selectedApprovals:[],onlineLoad:!1,onlineRows:[],onlineHeads:[],onlineExpanded:[],onlineOptions:{},devicesHeads:[],appData:n["a"]}},methods:{savePage:function(){o["a"].savePageData("".concat(r.name),this,["options","search","approvalOptions","onlineOptions","tab"])},updateOptions:function(){this.savePage(),this.refresh()},updateOnlineOptions:function(){this.savePage()},updateApprovalOptions:function(){this.savePage()},rowClick:function(t){console.log("rowClick: ".concat(t.email)),this.$router.push("/Profile/"+t.email)},approveSelected:function(t){var e=this;console.log("approveSelected"),this.selectedApprovals.forEach((function(a){e.approveItem(a,t)})),this.selectedApprovals=[]},approveItem:function(t,e){var a,s=this;a=e?"put":"delete",o["a"].req({method:a,url:"api/approvals/".concat(encodeURIComponent(t.email),"/").concat(encodeURIComponent(t.deviceid),"/").concat(encodeURIComponent(t.approvalType))}).then((function(e){if(1==e.data.status){console.log("status: ".concat(e.data.status));for(var a=0;a<s.approvalRows.length;a++)s.approvalRows[a].deviceid==t.deviceid&&s.approvalRows[a].email==t.email&&s.approvalRows.splice(a,1)}else console.log("status: ".concat(e.data.status))})).catch((function(t){console.log(t)}))},loadApprovals:function(){var t=this;console.log("loadApprovals"),this.approvalLoad=!0,o["a"].get({url:"api/approvals"}).then((function(e){if(t.approvalLoad=!1,1==e.data.status){console.log("status: ".concat(e.data.status));var a=[];e.data.profiles.forEach((function(t){t.devices.forEach((function(e){a.push({Profile:"".concat(t.firstName," ").concat(t.lastName," <").concat(t.email,">"),deviceid:e.deviceid,devicetype:e.devicetype,approvalType:e.type,email:t.email,item_key:"".concat(t.email,"_").concat(e.deviceid)})}))})),t.approvalRows=a,t.approvalHeads=[{text:t.$t("Profile"),value:"Profile"},{text:t.$t("Device Type"),value:"devicetype"},{text:t.$t("Approval Type"),value:"approvalType"},{text:t.$t("Actions"),value:"actions",sortable:!1}]}else console.log("status: ".concat(e.data.status))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},loadOnline:function(){var t=this;this.onlineLoad=!0,o["a"].get({url:"api/onlineProfiles"}).then((function(e){t.onlineLoad=!1,1==e.data.status?(t.onlineRows=e.data.profiles,t.onlineHeads=[{text:t.$t("Last Name"),value:"lastname"},{text:t.$t("First Name"),value:"firstname"},{text:t.$t("Email"),value:"email"}],t.devicesHeads=[{text:t.$t("Device Name"),value:"devicename"},{text:t.$t("Device ID"),value:"imei"},{text:t.$t("Gateway"),value:"gateway"},{text:t.$t("Platform"),value:"platform"}]):console.log("status: ".concat(e.data.status))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},refresh:function(){var t=this,e=this.options.itemsPerPage>0?this.options.itemsPerPage:1e4,a=(this.options.page-1)*e;o["a"].post({url:"api/profiles",data:{offset:a,limit:e,sortBy:this.options.sortBy,sortDesc:this.options.sortDesc,search:this.search}}).then((function(e){1==e.data.status?(t.rows=e.data.profiles,t.totalItems=e.data.totalItems):(console.log("status: ".concat(e.data.status)),t.$router.push("/Login"))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))}},created:function(){var t=[{text:this.$t("control-panel"),to:"/",disabled:!1},{text:this.$t("Profiles"),to:"/Profiles",disabled:!1}];this.$emit("updatePage",t),this.headers=[{text:this.$t("Last Name"),value:"lastName"},{text:this.$t("First Name"),value:"firstName"},{text:this.$t("Email"),value:"email"}],o["a"].loadPageData("".concat(r.name),this)},watch:{tab:function(t){this.savePage(),1==t?this.loadOnline():2==t&&this.loadApprovals()},selectedApprovals:function(t){console.log("selectedApprovals: ".concat(JSON.stringify(t)))},search:function(t){console.log("search: ".concat(t)),this.savePage(),(t.length>1||0==t.length)&&this.refresh()}}},l=r,c=l,u=a("2877"),d=a("6544"),h=a.n(d),p=a("8336"),f=a("b0af"),v=a("cc20"),m=a("8fea"),g=a("132d"),b=a("2fa4"),y=a("71a3"),k=a("c671"),x=a("fe57"),w=a("aac8"),S=a("9a96"),$=a("8654"),D=a("71d9"),C=a("2a7f"),_=Object(u["a"])(c,s,i,!1,null,null,null);e["default"]=_.exports;h()(_,{VBtn:p["a"],VCard:f["a"],VChip:v["a"],VDataTable:m["a"],VIcon:g["a"],VSpacer:b["a"],VTab:y["a"],VTabItem:k["a"],VTabs:x["a"],VTabsItems:w["a"],VTabsSlider:S["a"],VTextField:$["a"],VToolbar:D["a"],VToolbarTitle:C["a"]})},"96cf":function(t,e,a){var s=function(t){"use strict";var e,a=Object.prototype,s=a.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},n=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",r=i.toStringTag||"@@toStringTag";function l(t,e,a){return Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(O){l=function(t,e,a){return t[e]=a}}function c(t,e,a,s){var i=e&&e.prototype instanceof m?e:m,n=Object.create(i.prototype),o=new A(s||[]);return n._invoke=D(t,a,o),n}function u(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(O){return{type:"throw",arg:O}}}t.wrap=c;var d="suspendedStart",h="suspendedYield",p="executing",f="completed",v={};function m(){}function g(){}function b(){}var y={};l(y,n,(function(){return this}));var k=Object.getPrototypeOf,x=k&&k(k(I([])));x&&x!==a&&s.call(x,n)&&(y=x);var w=b.prototype=m.prototype=Object.create(y);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function $(t,e){function a(i,n,o,r){var l=u(t[i],t,n);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"===typeof d&&s.call(d,"__await")?e.resolve(d.__await).then((function(t){a("next",t,o,r)}),(function(t){a("throw",t,o,r)})):e.resolve(d).then((function(t){c.value=t,o(c)}),(function(t){return a("throw",t,o,r)}))}r(l.arg)}var i;function n(t,s){function n(){return new e((function(e,i){a(t,s,e,i)}))}return i=i?i.then(n,n):n()}this._invoke=n}function D(t,e,a){var s=d;return function(i,n){if(s===p)throw new Error("Generator is already running");if(s===f){if("throw"===i)throw n;return P()}a.method=i,a.arg=n;while(1){var o=a.delegate;if(o){var r=C(o,a);if(r){if(r===v)continue;return r}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===d)throw s=f,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=p;var l=u(t,e,a);if("normal"===l.type){if(s=a.done?f:h,l.arg===v)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(s=f,a.method="throw",a.arg=l.arg)}}}function C(t,a){var s=t.iterator[a.method];if(s===e){if(a.delegate=null,"throw"===a.method){if(t.iterator["return"]&&(a.method="return",a.arg=e,C(t,a),"throw"===a.method))return v;a.method="throw",a.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=u(s,t.iterator,a.arg);if("throw"===i.type)return a.method="throw",a.arg=i.arg,a.delegate=null,v;var n=i.arg;return n?n.done?(a[t.resultName]=n.value,a.next=t.nextLoc,"return"!==a.method&&(a.method="next",a.arg=e),a.delegate=null,v):n:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,v)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function I(t){if(t){var a=t[n];if(a)return a.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function a(){while(++i<t.length)if(s.call(t,i))return a.value=t[i],a.done=!1,a;return a.value=e,a.done=!0,a};return o.next=o}}return{next:P}}function P(){return{value:e,done:!0}}return g.prototype=b,l(w,"constructor",b),l(b,"constructor",g),g.displayName=l(b,r,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,r,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},S($.prototype),l($.prototype,o,(function(){return this})),t.AsyncIterator=$,t.async=function(e,a,s,i,n){void 0===n&&(n=Promise);var o=new $(c(e,a,s,i),n);return t.isGeneratorFunction(a)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},S(w),l(w,r,"Generator"),l(w,n,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var a in t)e.push(a);return e.reverse(),function a(){while(e.length){var s=e.pop();if(s in t)return a.value=s,a.done=!1,a}return a.done=!0,a}},t.values=I,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var a in this)"t"===a.charAt(0)&&s.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var a=this;function i(s,i){return r.type="throw",r.arg=t,a.next=s,i&&(a.method="next",a.arg=e),!!i}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],r=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=s.call(o,"catchLoc"),c=s.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a];if(i.tryLoc<=this.prev&&s.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var n=i;break}}n&&("break"===t||"continue"===t)&&n.tryLoc<=e&&e<=n.finallyLoc&&(n=null);var o=n?n.completion:{};return o.type=t,o.arg=e,n?(this.method="next",this.next=n.finallyLoc,v):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),T(a),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var s=a.completion;if("throw"===s.type){var i=s.arg;T(a)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,a,s){return this.delegate={iterator:I(t),resultName:a,nextLoc:s},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=s}catch(i){"object"===typeof globalThis?globalThis.regeneratorRuntime=s:Function("r","regeneratorRuntime = r")(s)}},9861:function(t,e,a){"use strict";a("e260");var s=a("23e7"),i=a("da84"),n=a("d066"),o=a("c65b"),r=a("e330"),l=a("0d3b"),c=a("6eeb"),u=a("e2cc"),d=a("d44e"),h=a("9ed3"),p=a("69f3"),f=a("19aa"),v=a("1626"),m=a("1a2d"),g=a("0366"),b=a("f5df"),y=a("825a"),k=a("861d"),x=a("577e"),w=a("7c73"),S=a("5c6c"),$=a("9a1f"),D=a("35a1"),C=a("d6d6"),_=a("b622"),T=a("addb"),A=_("iterator"),I="URLSearchParams",P=I+"Iterator",O=p.set,L=p.getterFor(I),V=p.getterFor(P),R=n("fetch"),E=n("Request"),N=n("Headers"),j=E&&E.prototype,B=N&&N.prototype,U=i.RegExp,F=i.TypeError,M=i.decodeURIComponent,H=i.encodeURIComponent,G=r("".charAt),Y=r([].join),W=r([].push),z=r("".replace),q=r([].shift),K=r([].splice),J=r("".split),Z=r("".slice),X=/\+/g,Q=Array(4),tt=function(t){return Q[t-1]||(Q[t-1]=U("((?:%[\\da-f]{2}){"+t+"})","gi"))},et=function(t){try{return M(t)}catch(e){return t}},at=function(t){var e=z(t,X," "),a=4;try{return M(e)}catch(s){while(a)e=z(e,tt(a--),et);return e}},st=/[!'()~]|%20/g,it={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},nt=function(t){return it[t]},ot=function(t){return z(H(t),st,nt)},rt=h((function(t,e){O(this,{type:P,iterator:$(L(t).entries),kind:e})}),"Iterator",(function(){var t=V(this),e=t.kind,a=t.iterator.next(),s=a.value;return a.done||(a.value="keys"===e?s.key:"values"===e?s.value:[s.key,s.value]),a}),!0),lt=function(t){this.entries=[],this.url=null,void 0!==t&&(k(t)?this.parseObject(t):this.parseQuery("string"==typeof t?"?"===G(t,0)?Z(t,1):t:x(t)))};lt.prototype={type:I,bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var e,a,s,i,n,r,l,c=D(t);if(c){e=$(t,c),a=e.next;while(!(s=o(a,e)).done){if(i=$(y(s.value)),n=i.next,(r=o(n,i)).done||(l=o(n,i)).done||!o(n,i).done)throw F("Expected sequence with length 2");W(this.entries,{key:x(r.value),value:x(l.value)})}}else for(var u in t)m(t,u)&&W(this.entries,{key:u,value:x(t[u])})},parseQuery:function(t){if(t){var e,a,s=J(t,"&"),i=0;while(i<s.length)e=s[i++],e.length&&(a=J(e,"="),W(this.entries,{key:at(q(a)),value:at(Y(a,"="))}))}},serialize:function(){var t,e=this.entries,a=[],s=0;while(s<e.length)t=e[s++],W(a,ot(t.key)+"="+ot(t.value));return Y(a,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var ct=function(){f(this,ut);var t=arguments.length>0?arguments[0]:void 0;O(this,new lt(t))},ut=ct.prototype;if(u(ut,{append:function(t,e){C(arguments.length,2);var a=L(this);W(a.entries,{key:x(t),value:x(e)}),a.updateURL()},delete:function(t){C(arguments.length,1);var e=L(this),a=e.entries,s=x(t),i=0;while(i<a.length)a[i].key===s?K(a,i,1):i++;e.updateURL()},get:function(t){C(arguments.length,1);for(var e=L(this).entries,a=x(t),s=0;s<e.length;s++)if(e[s].key===a)return e[s].value;return null},getAll:function(t){C(arguments.length,1);for(var e=L(this).entries,a=x(t),s=[],i=0;i<e.length;i++)e[i].key===a&&W(s,e[i].value);return s},has:function(t){C(arguments.length,1);var e=L(this).entries,a=x(t),s=0;while(s<e.length)if(e[s++].key===a)return!0;return!1},set:function(t,e){C(arguments.length,1);for(var a,s=L(this),i=s.entries,n=!1,o=x(t),r=x(e),l=0;l<i.length;l++)a=i[l],a.key===o&&(n?K(i,l--,1):(n=!0,a.value=r));n||W(i,{key:o,value:r}),s.updateURL()},sort:function(){var t=L(this);T(t.entries,(function(t,e){return t.key>e.key?1:-1})),t.updateURL()},forEach:function(t){var e,a=L(this).entries,s=g(t,arguments.length>1?arguments[1]:void 0),i=0;while(i<a.length)e=a[i++],s(e.value,e.key,this)},keys:function(){return new rt(this,"keys")},values:function(){return new rt(this,"values")},entries:function(){return new rt(this,"entries")}},{enumerable:!0}),c(ut,A,ut.entries,{name:"entries"}),c(ut,"toString",(function(){return L(this).serialize()}),{enumerable:!0}),d(ct,I),s({global:!0,forced:!l},{URLSearchParams:ct}),!l&&v(N)){var dt=r(B.has),ht=r(B.set),pt=function(t){if(k(t)){var e,a=t.body;if(b(a)===I)return e=t.headers?new N(t.headers):new N,dt(e,"content-type")||ht(e,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),w(t,{body:S(0,x(a)),headers:S(0,e)})}return t};if(v(R)&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return R(t,arguments.length>1?pt(arguments[1]):{})}}),v(E)){var ft=function(t){return f(this,j),new E(t,arguments.length>1?pt(arguments[1]):{})};j.constructor=ft,ft.prototype=j,s({global:!0,forced:!0},{Request:ft})}}t.exports={URLSearchParams:ct,getState:L}},"9a0c":function(t,e,a){var s=a("342f");t.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(s)},"9a96":function(t,e,a){"use strict";var s=a("a9ad"),i=a("58df");e["a"]=Object(i["a"])(s["a"]).extend({name:"v-tabs-slider",render:function(t){return t("div",this.setBackgroundColor(this.color,{staticClass:"v-tabs-slider"}))}})},"9d01":function(t,e,a){},a55b:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"bg",attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{flex:"","align-center":"","justify-center":"",color:"bg"}},[a("v-flex",{attrs:{xs12:"",sm4:"","elevation-6":"",color:"bg"}},[a("v-card",{attrs:{color:"bg"}},[a("v-card-text",{staticClass:"pt-4"},[""!=t.messageText?a("div",[a("v-alert",{attrs:{type:t.msgType}},[t._v(" "+t._s(t.messageText)+" ")])],1):t._e(),a("div",[t.validationWait?a("v-layout",{attrs:{"justify-space-between":""}},[a("v-btn",{attrs:{color:"warning"},on:{click:function(e){t.validationWait=!1}}},[t._v(t._s(t.$t("Cancel")))])],1):a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[t.setPassword?t._e():a("v-text-field",{attrs:{label:t.$t("Enter your email address"),rules:t.emailRules,required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t.resetPassword?t._e():a("v-text-field",{attrs:{label:t.$t("Enter your password"),min:"8","append-icon":t.e1?"mdi-eye ":"mdi-eye-off","append-icon-cb":function(){return t.e1=!t.e1},type:t.e1?"password":"text",rules:t.passwordRules,counter:"",required:""},on:{"click:append":function(){return t.e1=!t.e1}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),!t.resetPassword&&t.setPassword?a("v-text-field",{attrs:{label:t.$t("Re-enter your password"),min:"8","append-icon":t.e2?"eye":"mdi-eye-off","append-icon-cb":function(){return t.e2=!t.e2},type:t.e2?"password":"text",rules:t.checkPasswordRules,counter:"",required:""},on:{"click:append":function(){return t.e2=!t.e2}},model:{value:t.passwordCheck,callback:function(e){t.passwordCheck=e},expression:"passwordCheck"}}):t._e(),t.resetPassword?t._e():a("v-layout",{attrs:{"justify-space-between":""}},[a("v-btn",{class:{"blue darken-4 white--text":t.valid,disabled:!t.valid},on:{click:t.submit}},[t._v(t._s(t.$t("login")))]),a("a",{attrs:{href:"#"},on:{click:t.resetPasswordClick}},[t._v(t._s(t.$t("Forgot Password")))])],1),t.resetPassword?a("v-layout",[a("v-btn",{staticClass:"ma-4",attrs:{color:"primary"},on:{click:t.resetPasswordSubmit}},[t._v(t._s(t.$t("Reset Password")))]),a("v-btn",{staticClass:"ma-4",attrs:{color:"warning"},on:{click:function(e){t.resetPassword=!1}}},[t._v(t._s(t.$t("Cancel")))])],1):t._e()],1)],1)])],1)],1)],1)],1)},i=[],n=(a("ac1f"),a("00b4"),a("d3b7"),a("e9c4"),a("af52")),o=a("96f7"),r={name:"Login",data:function(){return{validationWait:!1,resetPassword:!1,setPassword:!1,messageText:"",msgType:"info",valid:!1,e1:!0,e2:!0,password:"",passwordCheck:"",passwordRules:[function(t){return!!t||"Password is required"}],checkPasswordRules:[function(t){return!!t||"Password is required"}],email:"",emailRules:[function(t){return!!t||"Email is required"},function(t){return/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,10})+$/.test(t)||"Email must be valid"}],appData:n["a"]}},methods:{checkValidationLoop:function(){var t=this;setTimeout((function(){t.validationWait&&o["a"].post({url:"api/auth/validate",data:{email:t.email,deviceid:n["a"].deviceid,activationkey:n["a"].activationkey}}).then((function(e){console.log(e.data),200==e.data.status||202==e.data.status?(console.log("Pending..."),t.validationWait&&t.checkValidationLoop()):201==e.data.status?(console.log("Validatd!"),1!=e.data.resetpasscode?(t.validationWait=!1,t.messageText=t.$t("Validated!"),t.submit()):(console.log("Reset passcode"),t.messageText=t.$t("Please select new password"),t.password="",t.passwordCheck="",t.validationWait=!1,t.setPassword=!0)):(console.log("Error"),t.validationWait=!1,t.messageText=t.$t("Log in to the Admin Control Panel"))})).catch((function(e){console.log(e),t.validationWait&&t.checkValidationLoop()}))}),1e3)},resetPasswordClick:function(){this.resetPassword=!0,this.messageText=this.$t("Reset password")},resetPasswordSubmit:function(){var t=this;console.log("resetPasswordSubmit.."),o["a"].post({url:"api/auth/reset",data:{userName:this.email,deviceid:n["a"].deviceid,deviceName:n["a"].deviceName,activationkey:n["a"].activationkey}}).then((function(e){console.log(e.data),t.resetPassword=!1,200==e.data.status?(n["a"].activationkey=e.data.activationkey,n["a"].email=t.email,t.validationWait=!0,t.messageText=t.$t("A verification messaage has been sent to your email address. Please click the verification link in that email."),t.checkValidationLoop()):(t.messageText=t.$t("Reset password error"),t.msgType="error",console.log("Error"))})).catch((function(t){return console.log(t)}))},submit:function(){var t=this;console.log("submit"),this.messageText=this.$t("Checking login information"),this.msgType="info";var e={userName:this.email,password:this.password,deviceid:n["a"].deviceid,deviceName:n["a"].deviceName,activationkey:n["a"].activationkey,selectedDomain:n["a"].mainDomain};this.setPassword&&(e.setPassword=this.passwordCheck),setTimeout((function(){o["a"].post({url:"api/auth",data:e}).then((function(e){if(console.log(e.data),t.setPassword=!1,200==e.data.status)n["a"].activationkey=e.data.activationkey,n["a"].email=t.email,t.validationWait=!0,t.messageText=t.$t("A verification messaage has been sent to your email address. Please click the verification link in that email."),t.checkValidationLoop();else if(1!=e.data.status)t.messageText=t.$t("Incorrect email address or password"),t.msgType="error",console.log("Error");else{t.messageText=t.$t("Login successful"),t.msgType="success",n["a"].isAuthenticated=!0,n["a"].adminLoginToken=e.data.loginToken,n["a"].mainDomain=e.data.mainDomain,n["a"].firstname=e.data.firstname,n["a"].lastname=e.data.lastname,n["a"].imageurl=e.data.imageurl,n["a"].email=t.email,n["a"].resetOrgs(e.data.orgs),n["a"].siteAdmin=e.data.siteAdmin,n["a"].siteAdminDomain=e.data.siteAdminDomain;try{n["a"].permissions=JSON.parse(e.data.permissions)}catch(a){console.log("Error parse permissions",a),n["a"].permissions={}}console.log("appData.permissions: "+JSON.stringify(n["a"].permissions,null,2)),n["a"].orgname=e.data.orgname&&""!=e.data.orgname?e.data.orgname:e.data.mainDomain,n["a"].edition=e.data.edition,n["a"].edition||(n["a"].edition="enterprise"),n["a"].deviceTypes=e.data.deviceTypes,n["a"].deviceTypes||(n["a"].deviceTypes=["mobile"]),n["a"].commit(),t.$emit("checkLoginLoop",e.data.loginToken),t.$emit("updatePermissions"),t.$router.push("/")}})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))}),100)}},watch:{validationWait:function(t){console.log("validationWait: ".concat(t)),n["a"].validationWait=t}},created:function(){var t=this;this.validationWait=n["a"].validationWait,this.email=n["a"].email,this.validationWait?(this.messageText=this.$t("A verification messaage has been sent to your email address. Please click the verification link in that email."),this.checkValidationLoop()):this.messageText=this.$t("Log in to the Admin Control Panel"),this.passwordRules=[function(e){return!!e||t.$t("Password is required")}],this.checkPasswordRules=[function(e){return!!e||t.$t("Password is required")},function(e){return e===t.password||"Passwords do not match"}],this.emailRules=[function(e){return!!e||t.$t("Email is required")},function(e){return/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,10})+$/.test(e)||t.$t("Email must be valid")}],this.$emit("updatePage","Login")}},l=r,c=(a("d6db"),a("2877")),u=a("6544"),d=a.n(u),h=a("0798"),p=a("8336"),f=a("b0af"),v=a("99d9"),m=a("a523"),g=(a("20f6"),a("e8f2")),b=Object(g["a"])("flex"),y=a("4bd4"),k=Object(g["a"])("layout"),x=a("8654"),w=Object(c["a"])(l,s,i,!1,null,null,null);e["default"]=w.exports;d()(w,{VAlert:h["a"],VBtn:p["a"],VCard:f["a"],VCardText:v["c"],VContainer:m["a"],VFlex:b,VForm:y["a"],VLayout:k,VTextField:x["a"]})},aac8:function(t,e,a){"use strict";var s=a("5530"),i=(a("99af"),a("7db0"),a("d3b7"),a("c740"),a("13b3"),a("c3f0")),n=a("afdd"),o=a("9d26"),r=a("604c"),l=r["a"].extend({name:"v-window",directives:{Touch:i["a"]},provide:function(){return{windowGroup:this}},props:{activeClass:{type:String,default:"v-window-item--active"},continuous:Boolean,mandatory:{type:Boolean,default:!0},nextIcon:{type:[Boolean,String],default:"$next"},prevIcon:{type:[Boolean,String],default:"$prev"},reverse:Boolean,showArrows:Boolean,showArrowsOnHover:Boolean,touch:Object,touchless:Boolean,value:{required:!1},vertical:Boolean},data:function(){return{changedByDelimiters:!1,internalHeight:void 0,transitionHeight:void 0,transitionCount:0,isBooted:!1,isReverse:!1}},computed:{isActive:function(){return this.transitionCount>0},classes:function(){return Object(s["a"])(Object(s["a"])({},r["a"].options.computed.classes.call(this)),{},{"v-window--show-arrows-on-hover":this.showArrowsOnHover})},computedTransition:function(){if(!this.isBooted)return"";var t=this.vertical?"y":"x",e=this.internalReverse?!this.isReverse:this.isReverse,a=e?"-reverse":"";return"v-window-".concat(t).concat(a,"-transition")},hasActiveItems:function(){return Boolean(this.items.find((function(t){return!t.disabled})))},hasNext:function(){return this.continuous||this.internalIndex<this.items.length-1},hasPrev:function(){return this.continuous||this.internalIndex>0},internalIndex:function(){var t=this;return this.items.findIndex((function(e,a){return t.internalValue===t.getValue(e,a)}))},internalReverse:function(){return this.$vuetify.rtl?!this.reverse:this.reverse}},watch:{internalIndex:function(t,e){this.isReverse=this.updateReverse(t,e)}},mounted:function(){var t=this;window.requestAnimationFrame((function(){return t.isBooted=!0}))},methods:{genDefaultSlot:function(){return this.$slots.default},genContainer:function(){var t=[this.genDefaultSlot()];return this.showArrows&&t.push(this.genControlIcons()),this.$createElement("div",{staticClass:"v-window__container",class:{"v-window__container--is-active":this.isActive},style:{height:this.internalHeight||this.transitionHeight}},t)},genIcon:function(t,e,a){var s,i,r,l=this,c={click:function(t){t.stopPropagation(),l.changedByDelimiters=!0,a()}},u={"aria-label":this.$vuetify.lang.t("$vuetify.carousel.".concat(t))},d=null!=(s=null==(i=(r=this.$scopedSlots)[t])?void 0:i.call(r,{on:c,attrs:u}))?s:[this.$createElement(n["a"],{props:{icon:!0},attrs:u,on:c},[this.$createElement(o["a"],{props:{large:!0}},e)])];return this.$createElement("div",{staticClass:"v-window__".concat(t)},d)},genControlIcons:function(){var t=[],e=this.$vuetify.rtl?this.nextIcon:this.prevIcon;if(this.hasPrev&&e&&"string"===typeof e){var a=this.genIcon("prev",e,this.prev);a&&t.push(a)}var s=this.$vuetify.rtl?this.prevIcon:this.nextIcon;if(this.hasNext&&s&&"string"===typeof s){var i=this.genIcon("next",s,this.next);i&&t.push(i)}return t},getNextIndex:function(t){var e=(t+1)%this.items.length,a=this.items[e];return a.disabled?this.getNextIndex(e):e},getPrevIndex:function(t){var e=(t+this.items.length-1)%this.items.length,a=this.items[e];return a.disabled?this.getPrevIndex(e):e},next:function(){if(this.hasActiveItems&&this.hasNext){var t=this.getNextIndex(this.internalIndex),e=this.items[t];this.internalValue=this.getValue(e,t)}},prev:function(){if(this.hasActiveItems&&this.hasPrev){var t=this.getPrevIndex(this.internalIndex),e=this.items[t];this.internalValue=this.getValue(e,t)}},updateReverse:function(t,e){var a=this.items.length,s=a-1;return a<=2?t<e:t===s&&0===e||(0!==t||e!==s)&&t<e}},render:function(t){var e=this,a={staticClass:"v-window",class:this.classes,directives:[]};if(!this.touchless){var s=this.touch||{left:function(){e.$vuetify.rtl?e.prev():e.next()},right:function(){e.$vuetify.rtl?e.next():e.prev()},end:function(t){t.stopPropagation()},start:function(t){t.stopPropagation()}};a.directives.push({name:"touch",value:s})}return t("div",a,[this.genContainer()])}});e["a"]=l.extend({name:"v-tabs-items",props:{mandatory:{type:Boolean,default:!1}},computed:{classes:function(){return Object(s["a"])(Object(s["a"])({},l.options.computed.classes.call(this)),{},{"v-tabs-items":!0})},isDark:function(){return this.rootIsDark}},methods:{getValue:function(t,e){return t.id||r["a"].options.methods.getValue.call(this,t,e)}}})},ad33:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(" "+t._s(t.$t("Organization List"))+" "),a("v-spacer")],1),a("v-data-table",{staticClass:"elevation-1 ma-4 bg",attrs:{headers:t.headers,items:t.rows,loading:t.loading},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"bg"}},[a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:t.addOrg}},[t._v(" "+t._s(t.$t("Add Organization"))+" ")])],1)]},proxy:!0},{key:"item.actions",fn:function(e){var s=e.item;return[a("v-icon",{staticClass:"mx-2",attrs:{small:""},on:{click:function(e){return t.$router.push("/Org/"+s.maindomain)}}},[t._v(" mdi-pencil ")]),s.maindomain!=t.appData.mainDomain?a("v-icon",{staticClass:"mx-2",attrs:{small:""},on:{click:function(e){return t.deleteOrgDialog(s)}}},[t._v(" mdi-delete ")]):t._e()]}}])}),a("v-dialog",{attrs:{"max-width":"500px",color:"bg"},model:{value:t.dialogDeleteOrg,callback:function(e){t.dialogDeleteOrg=e},expression:"dialogDeleteOrg"}},[a("v-card",{attrs:{color:"bg"}},[a("v-card-subtitle",{staticClass:"headline"},[t._v(t._s(t.$t("Are you sure you want to delete organization",{domain:t.deleteItem.maindomain})))]),a("v-card-text",[t._v(t._s(t.$t("Warning: All data including profiles, apps, and configuration data will be deleted!")))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"warning"},on:{click:function(e){t.dialogDeleteOrg=!1}}},[t._v(t._s(t.$t("Cancel")))]),a("v-btn",{attrs:{color:"error"},on:{click:function(e){return t.deleteOrg()}}},[t._v(t._s(t.$t("OK")))]),a("v-spacer")],1)],1)],1),a("v-snackbar",{attrs:{timeout:2e3},scopedSlots:t._u([{key:"action",fn:function(e){var s=e.attrs;return[a("v-btn",t._b({attrs:{color:"info",text:""},on:{click:function(e){t.snackbarSave=!1}}},"v-btn",s,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbarSave,callback:function(e){t.snackbarSave=e},expression:"snackbarSave"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},i=[],n=(a("d3b7"),a("af52")),o=a("96f7"),r={name:"Orgs",data:function(){return{headers:[],rows:[],dialog:!1,search:"",totalItems:0,loading:!0,options:{},snackbarSave:!1,snackbarText:"",dialogDeleteOrg:!1,deleteItem:{},resetOrgsInAppData:!1,appData:n["a"]}},methods:{addOrg:function(){this.$router.push("/Org/")},rowClick:function(t){console.log("rowClick: ".concat(t.maindomain)),this.$router.push("/Admin/"+t.maindomain)},deleteOrgDialog:function(t){this.deleteItem=t,this.dialogDeleteOrg=!0},deleteOrg:function(){var t=this;console.log("Delete org: ".concat(this.deleteItem.maindomain)),this.dialogDeleteOrg=!1,o["a"].delete({url:"api/orgs/"+encodeURIComponent(this.deleteItem.maindomain)}).then((function(e){console.log(e.data),1==e.data.status?(t.snackbarText=t.$t("Organization removed"),t.snackbarSave=!0,t.resetOrgsInAppData=!0,t.refresh()):(console.log("status: ".concat(e.data.status)),t.snackbarText=t.$t("Error")+" - ".concat(e.data.message),t.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},refresh:function(){var t=this;o["a"].get({url:"api/orgs"}).then((function(e){console.log(e.data),1==e.data.status?(t.rows=e.data.orgs,t.resetOrgsInAppData&&n["a"].resetOrgs(t.rows)):(console.log("status: ".concat(e.data.status)),t.$router.push("/Login"))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))}},created:function(){var t=[{text:this.$t("control-panel"),to:"/",disabled:!1},{text:this.$t("Organizations"),to:"/Orgs",disabled:!1}];this.$emit("updatePage",t),this.headers=[{text:this.$t("Domain"),value:"maindomain"},{text:this.$t("Organization Name"),value:"orgname"},{text:this.$t("Actions"),value:"actions",sortable:!1}],this.refresh()},watch:{}},l=r,c=l,u=a("2877"),d=a("6544"),h=a.n(d),p=a("8336"),f=a("b0af"),v=a("99d9"),m=a("8fea"),g=a("169a"),b=a("132d"),y=a("2db4"),k=a("2fa4"),x=a("71d9"),w=Object(u["a"])(c,s,i,!1,null,null,null);e["default"]=w.exports;h()(w,{VBtn:p["a"],VCard:f["a"],VCardActions:v["a"],VCardSubtitle:v["b"],VCardText:v["c"],VCardTitle:v["d"],VDataTable:m["a"],VDialog:g["a"],VIcon:b["a"],VSnackbar:y["a"],VSpacer:k["a"],VToolbar:x["a"]})},bbae:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:"bg"}},[a("v-toolbar",{attrs:{color:"secondary",dark:"",flat:""},scopedSlots:t._u([{key:"extension",fn:function(){return[a("v-tabs",{attrs:{"align-with-title":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tabs-slider",{attrs:{color:"primary"}}),a("v-tab",{key:"events"},[t._v(" "+t._s(t.$t("Events"))+" ")]),t.appData.checkPermission("@/","r")?a("v-tab",{key:"list"},[t._v(" "+t._s(t.$t("Syslog"))+" ")]):t._e()],1)]},proxy:!0}])},[a("v-toolbar-title",[t._v(" "+t._s(t.$t("Logs")))]),a("v-spacer")],1),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",{key:"events",staticClass:"bg"},[a("v-data-table",{staticClass:"elevation-1 ma-4 bg",attrs:{headers:t.eventsHeaders,items:t.eventsRows,"items-per-page":20,loading:t.eventsLoading,search:t.eventsSearch},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"bg"}},[a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:t.$t("Search"),"single-line":"","hide-details":""},model:{value:t.eventsSearch,callback:function(e){t.eventsSearch=e},expression:"eventsSearch"}})],1)]},proxy:!0},{key:"item.time",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.moment(a.time).format("LLL"))+" ")]}}])})],1),a("v-tab-item",{key:"list",staticClass:"bg"},[a("v-data-table",{staticClass:"ma-4 bg",attrs:{color:"bg",headers:t.headers,items:t.rows,"server-items-length":t.totalItems,"items-per-page":10,loading:t.loading,options:t.options,search:t.search,"multi-sort":""},on:{"update:options":[function(e){t.options=e},t.updateOptions],"click:row":t.rowClick},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"bg"}},[a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]},proxy:!0},{key:"header.ComponentType",fn:function(e){var s=e.header;return[a("v-combobox",{staticClass:"input-combobox",attrs:{items:t.itemsComponentType,label:s.text},on:{change:t.compChanged},model:{value:t.selectComponentType,callback:function(e){t.selectComponentType=e},expression:"selectComponentType"}})]}},{key:"header.ServerName",fn:function(e){var s=e.header;return[a("v-combobox",{staticClass:"input-combobox",attrs:{items:t.itemsServerName,label:s.text},on:{change:t.serverNameChanged},model:{value:t.selectServerName,callback:function(e){t.selectServerName=e},expression:"selectServerName"}})]}},{key:"header.LogLevel",fn:function(e){var s=e.header;return[a("v-combobox",{staticClass:"input-combobox",attrs:{items:t.itemsLogLevel,label:s.text},on:{change:t.logLevelChanged},model:{value:t.selectLogLevel,callback:function(e){t.selectLogLevel=e},expression:"selectLogLevel"}})]}},{key:"item.LogLevel",fn:function(e){var s=e.item;return[s.LogLevel<=3?a("v-chip",{staticClass:"ma-2",attrs:{color:"error","text-color":"white"}},[t._v(" "+t._s(t.$t("Error"))+" ")]):4==s.LogLevel?a("v-chip",{staticClass:"ma-2",attrs:{color:"warning","text-color":"white"}},[t._v(" "+t._s(t.$t("Warning"))+" ")]):s.LogLevel<=6?a("v-chip",{staticClass:"ma-2"},[t._v(" "+t._s(t.$t("Information"))+" ")]):a("v-chip",{staticClass:"ma-2"},[t._v(" "+t._s(t.$t("Debug"))+" ")])]}},{key:"item.Time",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.moment(a.Time).format("LLL"))+" ")]}}])})],1)],1)],1)},i=[],n=(a("d3b7"),a("ac1f"),a("841c"),a("159b"),a("af52")),o=a("96f7"),r=a("c1df"),l={name:"Logs",data:function(){return{tab:{},headers:[],rows:[],search:"",totalItems:0,loading:!0,options:{},selectComponentType:[],itemsComponentType:[],selectServerName:[],itemsServerName:[],selectLogLevel:[],itemsLogLevel:[],logLevel:1e3,comp:null,serverName:null,eventsHeaders:[],eventsRows:[],eventsSearch:"",eventsLoading:!1,moment:r,appData:n["a"]}},methods:{updateOptions:function(t){console.log("update:options",t),this.refresh()},rowClick:function(t){console.log("rowClick: ".concat(t.email))},refresh:function(){var t=this,e=this.options.itemsPerPage>0?this.options.itemsPerPage:1e4,a=(this.options.page-1)*e,s=Math.round((new Date).getTime()/1e3-432e3);console.log("refresh.."),o["a"].post({url:"api/logs",data:{s:s,offset:a,limit:e,sortBy:this.options.sortBy,sortDesc:this.options.sortDesc,search:this.search,level:this.logLevel,comp:this.comp,serverName:this.serverName}}).then((function(e){console.log("refresh reponse.."),console.log(e.data),1==e.data.status?(t.rows=e.data.logs,t.totalItems=e.data.count):console.log("status: ".concat(e.data.status))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},logLevelChanged:function(t){console.log(t),this.logLevel=t.value,this.refresh()},compChanged:function(t){console.log(t),this.comp=t,this.refresh()},serverNameChanged:function(t){console.log(t),this.serverName=t,this.refresh()},getFilters:function(){var t=this;console.log("getFilters"),o["a"].get({url:"api/logs/getFilters"}).then((function(e){console.log(e.data),1==e.data.status?(console.log("status: ".concat(e.data.status)),t.itemsComponentType=[],e.data.ComponentType.forEach((function(e){""!=e.ComponentType&&t.itemsComponentType.push(e.ComponentType)})),t.itemsServerName=[],e.data.ServerName.forEach((function(e){""!=e.ServerName&&t.itemsServerName.push(e.ServerName)})),t.itemsLogLevel=[{value:"3",text:t.$t("Error")},{value:"4",text:t.$t("Warning")},{value:"6",text:t.$t("Info")},{value:"7",text:t.$t("Debug")}]):console.log("status: ".concat(e.data.status))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},refreshEvents:function(){var t=this;this.eventsLoading=!0,o["a"].get({url:"api/events"}).then((function(e){t.eventsLoading=!1,console.log(e.data),1==e.data.status?(console.log("status: ".concat(e.data.status)),t.eventsRows=e.data.events):console.log("status: ".concat(e.data.status))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1})),this.eventsHeaders=[{text:this.$t("Time"),value:"time"},{text:this.$t("Event Type"),value:"eventTypeStr"},{text:this.$t("User"),value:"email"},{text:this.$t("Information"),value:"extrainfo"}]}},created:function(){var t=[{text:this.$t("control-panel"),to:"/",disabled:!1},{text:this.$t("Logs"),to:"/Logs",disabled:!1}];this.$emit("updatePage",t),this.headers=[{text:this.$t("Time"),value:"Time"},{text:this.$t("Log Level"),value:"LogLevel"},{text:this.$t("Server Name"),value:"ServerName"},{text:this.$t("Component Type"),value:"ComponentType"},{text:this.$t("Message"),value:"Message"}],this.getFilters()},watch:{tab:function(t){0==t&&this.refreshEvents()},search:function(t){console.log("search: ".concat(t)),(t.length>1||0==t.length)&&this.refresh()}}},c=l,u=c,d=(a("2c27"),a("2877")),h=a("6544"),p=a.n(h),f=a("b0af"),v=a("cc20"),m=a("53ca"),g=a("5530"),b=(a("25f0"),a("7db0"),a("8a79"),a("fb6a"),a("b0c0"),a("caad"),a("2532"),a("c740"),a("a434"),a("2bfd"),a("b974")),y=a("c6a6"),k=a("80d2"),x=y["a"].extend({name:"v-combobox",props:{delimiters:{type:Array,default:function(){return[]}},returnObject:{type:Boolean,default:!0}},data:function(){return{editingIndex:-1}},computed:{computedCounterValue:function(){return this.multiple?this.selectedItems.length:(this.internalSearch||"").toString().length},hasSlot:function(){return b["a"].options.computed.hasSlot.call(this)||this.multiple},isAnyValueAllowed:function(){return!0},menuCanShow:function(){return!!this.isFocused&&(this.hasDisplayedItems||!!this.$slots["no-data"]&&!this.hideNoData)},searchIsDirty:function(){return null!=this.internalSearch}},methods:{onInternalSearchChanged:function(t){if(t&&this.multiple&&this.delimiters.length){var e=this.delimiters.find((function(e){return t.endsWith(e)}));null!=e&&(this.internalSearch=t.slice(0,t.length-e.length),this.updateTags())}this.updateMenuDimensions()},genInput:function(){var t=y["a"].options.methods.genInput.call(this);return delete t.data.attrs.name,t.data.on.paste=this.onPaste,t},genChipSelection:function(t,e){var a=this,s=b["a"].options.methods.genChipSelection.call(this,t,e);return this.multiple&&(s.componentOptions.listeners=Object(g["a"])(Object(g["a"])({},s.componentOptions.listeners),{},{dblclick:function(){a.editingIndex=e,a.internalSearch=a.getText(t),a.selectedIndex=-1}})),s},onChipInput:function(t){b["a"].options.methods.onChipInput.call(this,t),this.editingIndex=-1},onEnterDown:function(t){t.preventDefault(),this.getMenuIndex()>-1||this.$nextTick(this.updateSelf)},onKeyDown:function(t){var e=t.keyCode;!t.ctrlKey&&[k["A"].home,k["A"].end].includes(e)||b["a"].options.methods.onKeyDown.call(this,t),this.multiple&&e===k["A"].left&&0===this.$refs.input.selectionStart?this.updateSelf():e===k["A"].enter&&this.onEnterDown(t),this.changeSelectedIndex(e)},onTabDown:function(t){if(this.multiple&&this.internalSearch&&-1===this.getMenuIndex())return t.preventDefault(),t.stopPropagation(),this.updateTags();y["a"].options.methods.onTabDown.call(this,t)},selectItem:function(t){this.editingIndex>-1?this.updateEditing():(y["a"].options.methods.selectItem.call(this,t),this.internalSearch&&this.multiple&&this.getText(t).toLocaleLowerCase().includes(this.internalSearch.toLocaleLowerCase())&&(this.internalSearch=null))},setSelectedItems:function(){null==this.internalValue||""===this.internalValue?this.selectedItems=[]:this.selectedItems=this.multiple?this.internalValue:[this.internalValue]},setValue:function(t){b["a"].options.methods.setValue.call(this,void 0===t?this.internalSearch:t)},updateEditing:function(){var t=this,e=this.internalValue.slice(),a=this.selectedItems.findIndex((function(e){return t.getText(e)===t.internalSearch}));if(a>-1){var s="object"===Object(m["a"])(e[a])?Object.assign({},e[a]):e[a];e.splice(a,1),e.push(s)}else e[this.editingIndex]=this.internalSearch;this.setValue(e),this.editingIndex=-1,this.internalSearch=null},updateCombobox:function(){if(this.searchIsDirty){this.internalSearch!==this.getText(this.internalValue)&&this.setValue();var t=Boolean(this.$scopedSlots.selection)||this.hasChips;t&&(this.internalSearch=null)}},updateSelf:function(){this.multiple?this.updateTags():this.updateCombobox()},updateTags:function(){var t=this,e=this.getMenuIndex();if(!(e<0&&!this.searchIsDirty||!this.internalSearch)){if(this.editingIndex>-1)return this.updateEditing();var a=this.selectedItems.findIndex((function(e){return t.internalSearch===t.getText(e)})),s=a>-1&&"object"===Object(m["a"])(this.selectedItems[a])?Object.assign({},this.selectedItems[a]):this.internalSearch;if(a>-1){var i=this.internalValue.slice();i.splice(a,1),this.setValue(i)}if(e>-1)return this.internalSearch=null;this.selectItem(s),this.internalSearch=null}},onPaste:function(t){var e;if(this.multiple&&!this.searchIsDirty){var a=null==(e=t.clipboardData)?void 0:e.getData("text/vnd.vuetify.autocomplete.item+plain");a&&-1===this.findExistingIndex(a)&&(t.preventDefault(),b["a"].options.methods.selectItem.call(this,a))}},clearableCallback:function(){this.editingIndex=-1,y["a"].options.methods.clearableCallback.call(this)}}}),w=a("8fea"),S=a("2fa4"),$=a("71a3"),D=a("c671"),C=a("fe57"),_=a("aac8"),T=a("9a96"),A=a("8654"),I=a("71d9"),P=a("2a7f"),O=Object(d["a"])(u,s,i,!1,null,null,null);e["default"]=O.exports;p()(O,{VCard:f["a"],VChip:v["a"],VCombobox:x,VDataTable:w["a"],VSpacer:S["a"],VTab:$["a"],VTabItem:D["a"],VTabs:C["a"],VTabsItems:_["a"],VTabsSlider:T["a"],VTextField:A["a"],VToolbar:I["a"],VToolbarTitle:P["a"]})},c11b:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:"bg"}},[t.reportCode&&""!=t.reportCode?a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(" "+t._s(t.reportName)+" ")]),t.hasDateRange?a("v-card-title",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:t.dateRanges,label:t.$t("Time Period"),value:t.selectedDateRange},on:{change:t.dateRangeChanged}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[t.customdDateRange?a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"From","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}},"v-text-field",i,!1),s))]}}],null,!1,3323294146),model:{value:t.fromMenu,callback:function(e){t.fromMenu=e},expression:"fromMenu"}},[a("v-date-picker",{on:{input:function(e){t.fromMenu=!1}},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}})],1):t._e()],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[t.customdDateRange?a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"To","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}},"v-text-field",i,!1),s))]}}],null,!1,1337146914),model:{value:t.toMenu,callback:function(e){t.toMenu=e},expression:"toMenu"}},[a("v-date-picker",{on:{input:function(e){t.toMenu=!1}},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}})],1):t._e()],1)],1)],1):t._e(),a("v-card-title",[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-btn",{attrs:{color:"secondary"},on:{click:function(e){return t.downloadCSV()}}},[t._v(" "+t._s(t.$t("Download CSV"))+" "),a("v-icon",{attrs:{right:"",dark:""}},[t._v(" mdi-microsoft-excel ")])],1)],1),t.hasChart?a("v-card-title",[a("bar-chart",{attrs:{"chart-data":t.chartData,options:t.chartOptions,width:1e3,height:300}})],1):t._e(),a("v-data-table",{staticClass:"ma-4 bg",attrs:{headers:t.headers,items:t.rows,loading:t.loading,search:t.search,options:t.options,"multi-sort":""},on:{"update:options":[function(e){t.options=e},t.updateOptions],"current-items":t.getFiltered},scopedSlots:t._u([{key:"item.Insert_Time",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.moment(a.Insert_Time).format("LLL"))+" ")]}},{key:"item.Start_Time",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.moment(a.Start_Time).format("LLL"))+" ")]}},{key:"item.End_Time",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.moment(a.End_Time).format("LLL"))+" ")]}},{key:"item.Session_Duration",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.getHHMM(a.Session_Duration))+" ")]}},{key:"item.Event_Time",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.moment(a.Event_Time).format("LLL"))+" ")]}}])})],1):a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(" "+t._s(t.$t("Reports"))+" ")]),a("v-data-table",{staticClass:"ma-4 bg",attrs:{color:"bg",headers:t.reportsHeaders,items:t.items,"sort-by":t.sortBy,"sort-desc":t.sortDesc},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},"click:row":t.openReport},scopedSlots:t._u([{key:"item.text",fn:function(e){var s=e.item;return[a("v-icon",{domProps:{textContent:t._s(s.icon)}}),t._v("   "+t._s(s.text)+" ")]}},{key:"item.icon",fn:function(e){var s=e.item;return[a("v-icon",{domProps:{textContent:t._s(s.icon)}})]}}],null,!1,466396624)})],1),a("v-snackbar",{attrs:{timeout:2e3},scopedSlots:t._u([{key:"action",fn:function(e){var s=e.attrs;return[a("v-btn",t._b({attrs:{color:"info",text:""},on:{click:function(e){t.snackbarSave=!1}}},"v-btn",s,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbarSave,callback:function(e){t.snackbarSave=e},expression:"snackbarSave"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},i=[],n=a("b85c"),o=(a("99af"),a("e9c4"),a("d3b7"),a("159b"),a("b64b"),a("ac1f"),a("5319"),a("ddb0"),a("d81d"),a("af52")),r=a("96f7"),l=a("1fca"),c=l["d"].reactiveProp,u={extends:l["a"],mixins:[c],props:["options"],mounted:function(){this.renderChart(this.chartData,this.options)}},d=a("c1df"),h={name:"Home",components:{BarChart:u},data:function(){return{selectedItem:-1,items:[],reportsHeaders:[],sortBy:"text",sortDesc:!1,headers:[],rows:[],options:{},loading:!0,snackbarSave:!1,snackbarText:"",reportCode:null,search:"",moment:d,appData:o["a"],filteredItems:"",hasDateRange:!1,dateRanges:[],selectedDateRange:"",customdDateRange:!1,fromDate:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),fromMenu:!1,toDate:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),toMenu:!1,hasChart:!1,chartData:{},chartOptions:{responsive:!0,aspectRatio:2}}},methods:{openReport:function(t){console.log("Open report: "+t),this.$router.push("/Report/"+t.reportCode)},applyDateRange:function(t){var e,a,s=Object(n["a"])(this.dateRanges);try{for(s.s();!(a=s.n()).done;){var i=a.value;if(i.value==t){e=i;break}}}catch(o){s.e(o)}finally{s.f()}e?(e.dvalue?(this.fromDate=e.dvalue.from,this.toDate=e.dvalue.to,this.customdDateRange=!1):this.customdDateRange=!0,this.selectedDateRange=t,console.log("applyDateRange. from ".concat(this.fromDate,", to: ").concat(this.toDate,", val: ").concat(t,", selectedDateRange: ").concat(this.selectedDateRange))):console.error("Error date range not found for value: ".concat(t))},dateRangeChanged:function(t){this.applyDateRange(t),this.refresh()},dateChanged:function(){this.customdDateRange&&this.refresh()},updateOptions:function(){console.log("Update options: ".concat(JSON.stringify(this.options,null,2))),this.savePage()},getFiltered:function(t){this.filteredItems=t},downloadCSV:function(){var t=this;console.log("downloadCSV..");var e=document.querySelector("#download-csv");e&&document.body.removeChild(e);var a="",s=this.headers.length,i=0;this.headers.forEach((function(t){a+=t.text+(i+1<s?",":""),i++})),a+="\r\n";for(var n=function(e){var s=Object.keys(t.filteredItems[e]).length,i=0;t.headers.forEach((function(n){var o=t.rows[e][n.value];console.log("head.value: "+n.value),"Insert_Time"==n.value&&(o=d(o).format("LLL")),a+='"'+o+'"'+(i+1<s?",":"\r\n"),i++})),i=0},o=0;o<this.filteredItems.length;o++)n(o);var r=document.createElement("a");r.id="download-csv",r.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(a)),r.setAttribute("download",this.reportName+".csv"),document.body.appendChild(r),document.querySelector("#download-csv").click()},getHHMM:function(t){return"".concat(parseInt(t/60),":").concat((t%60).toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}))},savePage:function(){r["a"].savePageData("report_".concat(this.reportCode),this,["options","search","selectedDateRange","fromDate","toDate"])},refresh:function(){var t=this,e=[{text:this.$t("control-panel"),to:"/",disabled:!1},{text:this.$t("Reports"),to:"/Reports",disabled:!1}];if(this.reportCode&&""!=this.reportCode){this.items.forEach((function(e){e.reportCode==t.reportCode&&(t.reportName=e.text,t.hasDateRange=e.hasDateRange,t.hasChart=e.hasChart)}));var a={};this.hasDateRange&&(this.selectedDateRange||(this.selectedDateRange=this.dateRanges[3].value,this.applyDateRange(this.selectedDateRange)),a={from:this.fromDate,to:this.toDate}),e.push({text:this.reportName,to:"/Report/"+this.reportCode,disabled:!1}),this.$emit("updatePage",e),this.loading=!0,r["a"].get({url:"api/reports/"+this.reportCode,params:a}).then((function(e){if(console.log(e.data),1==e.data.status){if(console.log("status: ".concat(e.data.status)),t.loading=!1,t.rows=[],t.headers=[],e.data.headers.forEach((function(e){var a=e.replace(/ /g,"_"),s={text:e,value:a};t.headers.push(s)})),e.data.values.forEach((function(a){var s={};a.forEach((function(t,a){var i=e.data.headers[a].replace(/ /g,"_");s[i]=t})),t.rows.push(s)})),t.hasChart){t.chartOptions={scales:{yAxes:[{ticks:{suggestedMin:0}}]}};var a=e.data.values.map((function(t){return t[1]})),s=e.data.values.map((function(t){return t[0]})),i=t.$vuetify.theme.themes.light;t.chartData={datasets:[{data:a,backgroundColor:i.primary,label:t.headers[1].text,fill:!1}],labels:s},t.height=100}t.savePage()}else console.log("status: ".concat(e.data.status)),t.$router.push("/Login")})).catch((function(e){console.log(e),t.$router.push("/Login")}))}else this.$emit("updatePage",e)}},watch:{$route:function(t){console.log(t),this.reportCode=t.params.reportCode,this.reportCode&&(r["a"].loadPageData("report_".concat(this.reportCode),this),this.selectedDateRange&&this.applyDateRange(this.selectedDateRange)),this.refresh()},toDate:function(t){this.customdDateRange&&(console.log("toDate watch: ".concat(t)),this.refresh())},fromDate:function(t){this.customdDateRange&&(console.log("fromDate watch: ".concat(t)),this.refresh())},search:function(t){console.log("search watch: ".concat(t)),this.savePage()}},created:function(){this.reportCode=this.$route.params.reportCode;var t=d().format("YYYY-MM-DD");this.dateRanges=[{value:"this_day",text:"This day",dvalue:{from:t,to:t}},{value:"last_7_days",text:"Last 7 days",dvalue:{from:d().subtract(7,"days").format("YYYY-MM-DD"),to:t}},{value:"this_month",text:"This month",dvalue:{from:d().startOf("month").format("YYYY-MM-DD"),to:t}},{value:"last_month",text:"Last month",dvalue:{from:d().subtract(1,"months").format("YYYY-MM-DD"),to:t}},{value:"this_year",text:"This Year",dvalue:{from:d().startOf("year").format("YYYY-MM-DD"),to:t}},{value:"last_12_months",text:"Last 12 months",dvalue:{from:d().subtract(12,"months").format("YYYY-MM-DD"),to:t}},{value:"custom",text:"Custom"}],this.reportCode&&(r["a"].loadPageData("report_".concat(this.reportCode),this),this.selectedDateRange&&this.applyDateRange(this.selectedDateRange)),this.reportsHeaders=[{text:this.$t("Report"),value:"text"}],this.items=[{text:this.$t("Blocked/Disabled Logins"),icon:"mdi-account-off",reportCode:"8",hasDateRange:!0,hasChart:!1},{text:this.$t("Active users"),icon:"mdi-account-check",reportCode:"3",hasDateRange:!1},{text:this.$t("App list by user"),icon:"mdi-apps",reportCode:"1"},{text:this.$t("Number of users per platform"),icon:"mdi-account-multiple-outline",reportCode:"2",hasDateRange:!1},{text:this.$t("App usage by user"),icon:"mdi-book-clock",reportCode:"4",hasDateRange:!1},{text:this.$t("Session Report"),icon:"mdi-clipboard-list-outline",reportCode:"5",hasDateRange:!0},{text:this.$t("Daily Active Sessions"),icon:"mdi-calendar-multiple-check",reportCode:"6",hasDateRange:!0,hasChart:!0},{text:this.$t("Daily Active Users"),icon:"mdi-account-details",reportCode:"7",hasDateRange:!0,hasChart:!0}],this.refresh()}},p=h,f=(a("09f4"),a("2877")),v=a("6544"),m=a.n(v),g=a("8336"),b=a("b0af"),y=a("99d9"),k=a("62ad"),x=a("8fea"),w=a("5530"),S=(a("a9e3"),a("caad"),a("1276"),a("4de4"),a("b0c0"),a("d951"),a("9d26")),$=(a("498a"),a("a9ad")),D=a("58df"),C=a("80d2"),_=Object(D["a"])($["a"]).extend({methods:{genPickerButton:function(t,e,a){var s=this,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=this[t]===e,r=function(a){a.stopPropagation(),s.$emit("update:".concat(Object(C["z"])(t)),e)};return this.$createElement("div",{staticClass:"v-picker__title__btn ".concat(n).trim(),class:{"v-picker__title__btn--active":o,"v-picker__title__btn--readonly":i},on:o||i?void 0:{click:r}},Array.isArray(a)?a:[a])}}}),T=Object(D["a"])(_).extend({name:"v-date-picker-title",props:{date:{type:String,default:""},disabled:Boolean,readonly:Boolean,selectingYear:Boolean,value:{type:String},year:{type:[Number,String],default:""},yearIcon:{type:String}},data:function(){return{isReversing:!1}},computed:{computedTransition:function(){return this.isReversing?"picker-reverse-transition":"picker-transition"}},watch:{value:function(t,e){this.isReversing=t<e}},methods:{genYearIcon:function(){return this.$createElement(S["a"],{props:{dark:!0}},this.yearIcon)},getYearBtn:function(){return this.genPickerButton("selectingYear",!0,[String(this.year),this.yearIcon?this.genYearIcon():null],!1,"v-date-picker-title__year")},genTitleText:function(){return this.$createElement("transition",{props:{name:this.computedTransition}},[this.$createElement("div",{domProps:{innerHTML:this.date||"&nbsp;"},key:this.value})])},genTitleDate:function(){return this.genPickerButton("selectingYear",!1,[this.genTitleText()],!1,"v-date-picker-title__date")}},render:function(t){return t("div",{staticClass:"v-date-picker-title",class:{"v-date-picker-title--disabled":this.disabled}},[this.getYearBtn(),this.genTitleDate()])}}),A=a("3835"),I=(a("2102"),a("afdd")),P=a("2b0e"),O=P["a"].extend({name:"localable",props:{locale:String},computed:{currentLocale:function(){return this.locale||this.$vuetify.lang.current}}}),L=a("7560"),V=(a("a15b"),a("38cf"),a("fb6a"),function(t,e,a){return e>>=0,t=String(t),a=String(a),t.length>e?String(t):(e-=t.length,e>a.length&&(a+=a.repeat(e/a.length)),a.slice(0,e)+String(t))}),R=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return V(t,e,"0")};function E(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{start:0,length:0},s=function(t){var e=t.trim().split(" ")[0].split("-"),a=Object(A["a"])(e,3),s=a[0],i=a[1],n=a[2];return[R(s,4),R(i||1),R(n||1)].join("-")};try{var i=new Intl.DateTimeFormat(t||void 0,e);return function(t){return i.format(new Date("".concat(s(t),"T00:00:00+00:00")))}}catch(n){return a.start||a.length?function(t){return s(t).substr(a.start||0,a.length)}:void 0}}var N=E,j=function(t,e){var a=t.split("-").map(Number),s=Object(A["a"])(a,2),i=s[0],n=s[1];return n+e===0?"".concat(i-1,"-12"):n+e===13?"".concat(i+1,"-01"):"".concat(i,"-").concat(R(n+e))},B=Object(D["a"])($["a"],O,L["a"]).extend({name:"v-date-picker-header",props:{disabled:Boolean,format:Function,min:String,max:String,nextAriaLabel:String,nextIcon:{type:String,default:"$next"},prevAriaLabel:String,prevIcon:{type:String,default:"$prev"},readonly:Boolean,value:{type:[Number,String],required:!0}},data:function(){return{isReversing:!1}},computed:{formatter:function(){return this.format?this.format:String(this.value).split("-")[1]?N(this.currentLocale,{month:"long",year:"numeric",timeZone:"UTC"},{length:7}):N(this.currentLocale,{year:"numeric",timeZone:"UTC"},{length:4})}},watch:{value:function(t,e){this.isReversing=t<e}},methods:{genBtn:function(t){var e=this,a=t>0?this.nextAriaLabel:this.prevAriaLabel,s=a?this.$vuetify.lang.t(a):void 0,i=this.disabled||t<0&&this.min&&this.calculateChange(t)<this.min||t>0&&this.max&&this.calculateChange(t)>this.max;return this.$createElement(I["a"],{attrs:{"aria-label":s},props:{dark:this.dark,disabled:i,icon:!0,light:this.light},on:{click:function(a){a.stopPropagation(),e.$emit("input",e.calculateChange(t))}}},[this.$createElement(S["a"],t<0===!this.$vuetify.rtl?this.prevIcon:this.nextIcon)])},calculateChange:function(t){var e=String(this.value).split("-").map(Number),a=Object(A["a"])(e,2),s=a[0],i=a[1];return null==i?"".concat(s+t):j(String(this.value),t)},genHeader:function(){var t=this,e=!this.disabled&&(this.color||"accent"),a=this.$createElement("div",this.setTextColor(e,{key:String(this.value)}),[this.$createElement("button",{attrs:{type:"button"},on:{click:function(){return t.$emit("toggle")}}},[this.$slots.default||this.formatter(String(this.value))])]),s=this.$createElement("transition",{props:{name:this.isReversing===!this.$vuetify.rtl?"tab-reverse-transition":"tab-transition"}},[a]);return this.$createElement("div",{staticClass:"v-date-picker-header__value",class:{"v-date-picker-header__value--disabled":this.disabled}},[s])}},render:function(){return this.$createElement("div",{staticClass:"v-date-picker-header",class:Object(w["a"])({"v-date-picker-header--disabled":this.disabled},this.themeClasses)},[this.genBtn(-1),this.genHeader(),this.genBtn(1)])}}),U=(a("2af1"),a("4d90"),a("2909")),F=(a("2532"),a("4e827"),a("c982"),a("c3f0"));a("8a79");function M(t,e,a){return Object.keys(t.$listeners).reduce((function(s,i){return i.endsWith(e)&&(s[i.slice(0,-e.length)]=function(e){return t.$emit(i,a,e)}),s}),{})}function H(t,e){return Object.keys(t.$listeners).reduce((function(a,s){return s.endsWith(e)&&(a[s]=t.$listeners[s]),a}),{})}var G=function(t,e){var a=t.split("-"),s=Object(A["a"])(a,3),i=s[0],n=s[1],o=void 0===n?1:n,r=s[2],l=void 0===r?1:r;return"".concat(i,"-").concat(R(o),"-").concat(R(l)).substr(0,{date:10,month:7,year:4}[e])};function Y(t,e,a,s){return(!s||s(t))&&(!e||t>=e.substr(0,10))&&(!a||t<=a)}var W=a("d9f7"),z=Object(D["a"])($["a"],O,L["a"]).extend({directives:{Touch:F["a"]},props:{allowedDates:Function,current:String,disabled:Boolean,format:Function,events:{type:[Array,Function,Object],default:function(){return null}},eventColor:{type:[Array,Function,Object,String],default:function(){return"warning"}},min:String,max:String,range:Boolean,readonly:Boolean,scrollable:Boolean,tableDate:{type:String,required:!0},value:[String,Array]},data:function(){return{isReversing:!1,wheelThrottle:null}},computed:{computedTransition:function(){return this.isReversing===!this.$vuetify.rtl?"tab-reverse-transition":"tab-transition"},displayedMonth:function(){return Number(this.tableDate.split("-")[1])-1},displayedYear:function(){return Number(this.tableDate.split("-")[0])}},watch:{tableDate:function(t,e){this.isReversing=t<e}},mounted:function(){this.wheelThrottle=Object(C["H"])(this.wheel,250)},methods:{genButtonClasses:function(t,e,a,s,i,n){return Object(w["a"])({"v-size--default":!e,"v-date-picker-table__current":s,"v-btn--active":a,"v-btn--flat":!t||this.disabled,"v-btn--text":a===s,"v-btn--rounded":e,"v-btn--disabled":!t||this.disabled,"v-btn--outlined":s&&!a,"v-date-picker--first-in-range":i,"v-date-picker--last-in-range":n},this.themeClasses)},genButtonEvents:function(t,e,a){var s=this;if(!this.disabled)return Object(W["c"])({click:function(){e&&!s.readonly&&s.$emit("input",t)}},M(this,":".concat(a),t))},genButton:function(t,e,a,s){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],n=Y(t,this.min,this.max,this.allowedDates),o=this.isSelected(t)&&n,r=t===this.current,l=o?this.setBackgroundColor:this.setTextColor,c=(o||r)&&(this.color||"accent"),u=!1,d=!1;return this.range&&this.value&&Array.isArray(this.value)&&(u=t===this.value[0],d=t===this.value[this.value.length-1]),this.$createElement("button",l(c,{staticClass:"v-btn",class:this.genButtonClasses(n&&!i,e,o,r,u,d),attrs:{type:"button"},domProps:{disabled:this.disabled||!n||i},on:this.genButtonEvents(t,n,a)}),[this.$createElement("div",{staticClass:"v-btn__content"},[s(t)]),this.genEvents(t)])},getEventColors:function(t){var e,a=function(t){return Array.isArray(t)?t:[t]},s=[];return e=Array.isArray(this.events)?this.events.includes(t):this.events instanceof Function?this.events(t)||!1:this.events&&this.events[t]||!1,e?(s=!0!==e?a(e):"string"===typeof this.eventColor?[this.eventColor]:"function"===typeof this.eventColor?a(this.eventColor(t)):Array.isArray(this.eventColor)?this.eventColor:a(this.eventColor[t]),s.filter((function(t){return t}))):[]},genEvents:function(t){var e=this,a=this.getEventColors(t);return a.length?this.$createElement("div",{staticClass:"v-date-picker-table__events"},a.map((function(t){return e.$createElement("div",e.setBackgroundColor(t))}))):null},isValidScroll:function(t,e){var a=e(t),s=1===a.split("-").length?"year":"month";return t<0&&(!this.min||a>=G(this.min,s))||t>0&&(!this.max||a<=G(this.max,s))},wheel:function(t,e){this.$emit("update:table-date",e(t.deltaY))},touch:function(t,e){this.$emit("update:table-date",e(t))},genTable:function(t,e,a){var s=this,i=this.$createElement("transition",{props:{name:this.computedTransition}},[this.$createElement("table",{key:this.tableDate},e)]),n={name:"touch",value:{left:function(t){return t.offsetX<-15&&s.isValidScroll(1,a)&&s.touch(1,a)},right:function(t){return t.offsetX>15&&s.isValidScroll(-1,a)&&s.touch(-1,a)}}};return this.$createElement("div",{staticClass:t,class:Object(w["a"])({"v-date-picker-table--disabled":this.disabled},this.themeClasses),on:!this.disabled&&this.scrollable?{wheel:function(t){t.preventDefault(),s.isValidScroll(t.deltaY,a)&&s.wheelThrottle(t,a)}}:void 0,directives:[n]},[i])},isSelected:function(t){if(Array.isArray(this.value)){if(this.range&&2===this.value.length){var e=Object(U["a"])(this.value).sort(),a=Object(A["a"])(e,2),s=a[0],i=a[1];return s<=t&&t<=i}return-1!==this.value.indexOf(t)}return t===this.value}}});function q(t){var e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return t<100&&t>=0?(e=new Date(Date.UTC(t,a,s)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC(t,a,s)),e}function K(t,e,a){var s=7+e-a,i=(7+q(t,0,s).getUTCDay()-e)%7;return-i+s-1}function J(t,e,a,s){var i=[0,31,59,90,120,151,181,212,243,273,304,334][e];return e>1&&Q(t)&&i++,i+a}function Z(t,e,a){var s=K(t,e,a),i=K(t+1,e,a),n=Q(t)?366:365;return(n-s+i)/7}function X(t,e,a,s,i){var n=K(t,s,i),o=Math.ceil((J(t,e,a,s)-n)/7);return o<1?o+Z(t-1,s,i):o>Z(t,s,i)?o-Z(t,s,i):o}function Q(t){return t%4===0&&t%100!==0||t%400===0}var tt=Object(D["a"])(z).extend({name:"v-date-picker-date-table",props:{firstDayOfWeek:{type:[String,Number],default:0},localeFirstDayOfYear:{type:[String,Number],default:0},showAdjacentMonths:Boolean,showWeek:Boolean,weekdayFormat:Function},computed:{formatter:function(){return this.format||N(this.currentLocale,{day:"numeric",timeZone:"UTC"},{start:8,length:2})},weekdayFormatter:function(){return this.weekdayFormat||N(this.currentLocale,{weekday:"narrow",timeZone:"UTC"})},weekDays:function(){var t=this,e=parseInt(this.firstDayOfWeek,10);return this.weekdayFormatter?Object(C["j"])(7).map((function(a){return t.weekdayFormatter("2017-01-".concat(e+a+15))})):Object(C["j"])(7).map((function(t){return["S","M","T","W","T","F","S"][(t+e)%7]}))}},methods:{calculateTableDate:function(t){return j(this.tableDate,Math.sign(t||1))},genTHead:function(){var t=this,e=this.weekDays.map((function(e){return t.$createElement("th",e)}));return this.showWeek&&e.unshift(this.$createElement("th")),this.$createElement("thead",this.genTR(e))},weekDaysBeforeFirstDayOfTheMonth:function(){var t=new Date("".concat(this.displayedYear,"-").concat(R(this.displayedMonth+1),"-01T00:00:00+00:00")),e=t.getUTCDay();return(e-parseInt(this.firstDayOfWeek)+7)%7},getWeekNumber:function(t){return X(this.displayedYear,this.displayedMonth,t,parseInt(this.firstDayOfWeek),parseInt(this.localeFirstDayOfYear))},genWeekNumber:function(t){return this.$createElement("td",[this.$createElement("small",{staticClass:"v-date-picker-table--date__week"},String(t).padStart(2,"0"))])},genTBody:function(){var t=[],e=new Date(this.displayedYear,this.displayedMonth+1,0).getDate(),a=[],s=this.weekDaysBeforeFirstDayOfTheMonth();this.showWeek&&a.push(this.genWeekNumber(this.getWeekNumber(1)));var i=this.displayedMonth?this.displayedYear:this.displayedYear-1,n=(this.displayedMonth+11)%12,o=new Date(this.displayedYear,this.displayedMonth,0).getDate(),r=this.showWeek?8:7;while(s--){var l="".concat(i,"-").concat(R(n+1),"-").concat(R(o-s));a.push(this.$createElement("td",this.showAdjacentMonths?[this.genButton(l,!0,"date",this.formatter,!0)]:[]))}for(s=1;s<=e;s++){var c="".concat(this.displayedYear,"-").concat(R(this.displayedMonth+1),"-").concat(R(s));a.push(this.$createElement("td",[this.genButton(c,!0,"date",this.formatter)])),a.length%r===0&&(t.push(this.genTR(a)),a=[],this.showWeek&&(s<e||this.showAdjacentMonths)&&a.push(this.genWeekNumber(this.getWeekNumber(s+7))))}var u=11===this.displayedMonth?this.displayedYear+1:this.displayedYear,d=(this.displayedMonth+1)%12,h=1;while(a.length<r){var p="".concat(u,"-").concat(R(d+1),"-").concat(R(h++));a.push(this.$createElement("td",this.showAdjacentMonths?[this.genButton(p,!0,"date",this.formatter,!0)]:[]))}return a.length&&t.push(this.genTR(a)),this.$createElement("tbody",t)},genTR:function(t){return[this.$createElement("tr",t)]}},render:function(){return this.genTable("v-date-picker-table v-date-picker-table--date",[this.genTHead(),this.genTBody()],this.calculateTableDate)}}),et=(a("cb29"),Object(D["a"])(z).extend({name:"v-date-picker-month-table",computed:{formatter:function(){return this.format||N(this.currentLocale,{month:"short",timeZone:"UTC"},{start:5,length:2})}},methods:{calculateTableDate:function(t){return"".concat(parseInt(this.tableDate,10)+Math.sign(t||1))},genTBody:function(){for(var t=this,e=[],a=Array(3).fill(null),s=12/a.length,i=function(s){var i=a.map((function(e,i){var n=s*a.length+i,o="".concat(t.displayedYear,"-").concat(R(n+1));return t.$createElement("td",{key:n},[t.genButton(o,!1,"month",t.formatter)])}));e.push(t.$createElement("tr",{key:s},i))},n=0;n<s;n++)i(n);return this.$createElement("tbody",e)}},render:function(){return this.genTable("v-date-picker-table v-date-picker-table--month",[this.genTBody()],this.calculateTableDate)}})),at=(a("02f0"),Object(D["a"])($["a"],O).extend({name:"v-date-picker-years",props:{format:Function,min:[Number,String],max:[Number,String],readonly:Boolean,value:[Number,String]},data:function(){return{defaultColor:"primary"}},computed:{formatter:function(){return this.format||N(this.currentLocale,{year:"numeric",timeZone:"UTC"},{length:4})}},mounted:function(){var t=this;setTimeout((function(){var e=t.$el.getElementsByClassName("active")[0];e?t.$el.scrollTop=e.offsetTop-t.$el.offsetHeight/2+e.offsetHeight/2:t.min&&!t.max?t.$el.scrollTop=t.$el.scrollHeight:!t.min&&t.max?t.$el.scrollTop=0:t.$el.scrollTop=t.$el.scrollHeight/2-t.$el.offsetHeight/2}))},methods:{genYearItem:function(t){var e=this,a=this.formatter("".concat(t)),s=parseInt(this.value,10)===t,i=s&&(this.color||"primary");return this.$createElement("li",this.setTextColor(i,{key:t,class:{active:s},on:Object(W["c"])({click:function(){return e.$emit("input",t)}},M(this,":year",t))}),a)},genYearItems:function(){for(var t=[],e=this.value?parseInt(this.value,10):(new Date).getFullYear(),a=this.max?parseInt(this.max,10):e+100,s=Math.min(a,this.min?parseInt(this.min,10):e-100),i=a;i>=s;i--)t.push(this.genYearItem(i));return t}},render:function(){return this.$createElement("ul",{staticClass:"v-date-picker-years",ref:"years"},this.genYearItems())}})),st=(a("0481"),a("4069"),a("e53c"),a("615b"),a("c995")),it=Object(D["a"])($["a"],st["a"],L["a"]).extend({name:"v-picker",props:{flat:Boolean,fullWidth:Boolean,landscape:Boolean,noTitle:Boolean,transition:{type:String,default:"fade-transition"},width:{type:[Number,String],default:290}},computed:{computedTitleColor:function(){var t=!this.isDark&&(this.color||"primary");return this.color||t}},methods:{genTitle:function(){return this.$createElement("div",this.setBackgroundColor(this.computedTitleColor,{staticClass:"v-picker__title",class:{"v-picker__title--landscape":this.landscape}}),this.$slots.title)},genBodyTransition:function(){return this.$createElement("transition",{props:{name:this.transition}},this.$slots.default)},genBody:function(){return this.$createElement("div",{staticClass:"v-picker__body",class:Object(w["a"])({"v-picker__body--no-title":this.noTitle},this.themeClasses),style:this.fullWidth?void 0:{width:Object(C["i"])(this.width)}},[this.genBodyTransition()])},genActions:function(){return this.$createElement("div",{staticClass:"v-picker__actions v-card__actions",class:{"v-picker__actions--no-title":this.noTitle}},this.$slots.actions)}},render:function(t){return t("div",{staticClass:"v-picker v-card",class:Object(w["a"])(Object(w["a"])({"v-picker--flat":this.flat,"v-picker--landscape":this.landscape,"v-picker--full-width":this.fullWidth},this.themeClasses),this.elevationClasses)},[this.$slots.title?this.genTitle():null,this.genBody(),this.$slots.actions?this.genActions():null])}}),nt=it,ot=Object(D["a"])($["a"],st["a"],L["a"]).extend({name:"picker",props:{flat:Boolean,fullWidth:Boolean,headerColor:String,landscape:Boolean,noTitle:Boolean,width:{type:[Number,String],default:290}},methods:{genPickerTitle:function(){return null},genPickerBody:function(){return null},genPickerActionsSlot:function(){return this.$scopedSlots.default?this.$scopedSlots.default({save:this.save,cancel:this.cancel}):this.$slots.default},genPicker:function(t){var e=[];if(!this.noTitle){var a=this.genPickerTitle();a&&e.push(a)}var s=this.genPickerBody();return s&&e.push(s),e.push(this.$createElement("template",{slot:"actions"},[this.genPickerActionsSlot()])),this.$createElement(nt,{staticClass:t,props:{color:this.headerColor||this.color,dark:this.dark,elevation:this.elevation,flat:this.flat,fullWidth:this.fullWidth,landscape:this.landscape,light:this.light,width:this.width,noTitle:this.noTitle}},e)}}}),rt=(a("53ca"),a("d9e2"),[0,31,28,31,30,31,30,31,31,30,31,30,31]),lt=[0,31,29,31,30,31,30,31,31,30,31,30,31];function ct(t,e){return Q(t)?lt[e]:rt[e]}var ut=a("d9bd"),dt=Object(D["a"])(O,ot).extend({name:"v-date-picker",props:{activePicker:String,allowedDates:Function,dayFormat:Function,disabled:Boolean,events:{type:[Array,Function,Object],default:function(){return null}},eventColor:{type:[Array,Function,Object,String],default:function(){return"warning"}},firstDayOfWeek:{type:[String,Number],default:0},headerDateFormat:Function,localeFirstDayOfYear:{type:[String,Number],default:0},max:String,min:String,monthFormat:Function,multiple:Boolean,nextIcon:{type:String,default:"$next"},nextMonthAriaLabel:{type:String,default:"$vuetify.datePicker.nextMonthAriaLabel"},nextYearAriaLabel:{type:String,default:"$vuetify.datePicker.nextYearAriaLabel"},pickerDate:String,prevIcon:{type:String,default:"$prev"},prevMonthAriaLabel:{type:String,default:"$vuetify.datePicker.prevMonthAriaLabel"},prevYearAriaLabel:{type:String,default:"$vuetify.datePicker.prevYearAriaLabel"},range:Boolean,reactive:Boolean,readonly:Boolean,scrollable:Boolean,showCurrent:{type:[Boolean,String],default:!0},selectedItemsText:{type:String,default:"$vuetify.datePicker.itemsSelected"},showAdjacentMonths:Boolean,showWeek:Boolean,titleDateFormat:Function,type:{type:String,default:"date",validator:function(t){return["date","month"].includes(t)}},value:[Array,String],weekdayFormat:Function,yearFormat:Function,yearIcon:String},data:function(){var t=this,e=new Date;return{internalActivePicker:this.type.toUpperCase(),inputDay:null,inputMonth:null,inputYear:null,isReversing:!1,now:e,tableDate:function(){if(t.pickerDate)return t.pickerDate;var a=Object(C["J"])(t.value),s=a[a.length-1]||("string"===typeof t.showCurrent?t.showCurrent:"".concat(e.getFullYear(),"-").concat(e.getMonth()+1));return G(s,"date"===t.type?"month":"year")}()}},computed:{multipleValue:function(){return Object(C["J"])(this.value)},isMultiple:function(){return this.multiple||this.range},lastValue:function(){return this.isMultiple?this.multipleValue[this.multipleValue.length-1]:this.value},selectedMonths:function(){return this.value&&"month"!==this.type?this.isMultiple?this.multipleValue.map((function(t){return t.substr(0,7)})):this.value.substr(0,7):this.value},current:function(){return!0===this.showCurrent?G("".concat(this.now.getFullYear(),"-").concat(this.now.getMonth()+1,"-").concat(this.now.getDate()),this.type):this.showCurrent||null},inputDate:function(){return"date"===this.type?"".concat(this.inputYear,"-").concat(R(this.inputMonth+1),"-").concat(R(this.inputDay)):"".concat(this.inputYear,"-").concat(R(this.inputMonth+1))},tableMonth:function(){return Number((this.pickerDate||this.tableDate).split("-")[1])-1},tableYear:function(){return Number((this.pickerDate||this.tableDate).split("-")[0])},minMonth:function(){return this.min?G(this.min,"month"):null},maxMonth:function(){return this.max?G(this.max,"month"):null},minYear:function(){return this.min?G(this.min,"year"):null},maxYear:function(){return this.max?G(this.max,"year"):null},formatters:function(){return{year:this.yearFormat||N(this.currentLocale,{year:"numeric",timeZone:"UTC"},{length:4}),titleDate:this.titleDateFormat||(this.isMultiple?this.defaultTitleMultipleDateFormatter:this.defaultTitleDateFormatter)}},defaultTitleMultipleDateFormatter:function(){var t=this;return function(e){return e.length?1===e.length?t.defaultTitleDateFormatter(e[0]):t.$vuetify.lang.t(t.selectedItemsText,e.length):"-"}},defaultTitleDateFormatter:function(){var t={year:{year:"numeric",timeZone:"UTC"},month:{month:"long",timeZone:"UTC"},date:{weekday:"short",month:"short",day:"numeric",timeZone:"UTC"}},e=N(this.currentLocale,t[this.type],{start:0,length:{date:10,month:7,year:4}[this.type]}),a=function(t){return e(t).replace(/([^\d\s])([\d])/g,(function(t,e,a){return"".concat(e," ").concat(a)})).replace(", ",",<br>")};return this.landscape?a:e}},watch:{internalActivePicker:{immediate:!0,handler:function(t){this.$emit("update:active-picker",t)}},activePicker:function(t){this.internalActivePicker=t},tableDate:function(t,e){var a="month"===this.type?"year":"month";this.isReversing=G(t,a)<G(e,a),this.$emit("update:picker-date",t)},pickerDate:function(t){t?this.tableDate=t:this.lastValue&&"date"===this.type?this.tableDate=G(this.lastValue,"month"):this.lastValue&&"month"===this.type&&(this.tableDate=G(this.lastValue,"year"))},value:function(t,e){this.checkMultipleProp(),this.setInputDate(),(this.isMultiple||!this.value||this.pickerDate)&&(!this.isMultiple||!this.multipleValue.length||e&&e.length||this.pickerDate)||(this.tableDate=G(this.inputDate,"month"===this.type?"year":"month"))},type:function(t){if(this.internalActivePicker=t.toUpperCase(),this.value&&this.value.length){var e=this.multipleValue.map((function(e){return G(e,t)})).filter(this.isDateAllowed);this.$emit("input",this.isMultiple?e:e[0])}}},created:function(){this.checkMultipleProp(),this.pickerDate!==this.tableDate&&this.$emit("update:picker-date",this.tableDate),this.setInputDate()},methods:{emitInput:function(t){if(this.range)if(1!==this.multipleValue.length)this.$emit("input",[t]);else{var e=[this.multipleValue[0],t];this.$emit("input",e),this.$emit("change",e)}else{var a=this.multiple?-1===this.multipleValue.indexOf(t)?this.multipleValue.concat([t]):this.multipleValue.filter((function(e){return e!==t})):t;this.$emit("input",a),this.multiple||this.$emit("change",t)}},checkMultipleProp:function(){if(null!=this.value){var t=this.value.constructor.name,e=this.isMultiple?"Array":"String";t!==e&&Object(ut["c"])("Value must be ".concat(this.isMultiple?"an":"a"," ").concat(e,", got ").concat(t),this)}},isDateAllowed:function(t){return Y(t,this.min,this.max,this.allowedDates)},yearClick:function(t){this.inputYear=t,"month"===this.type?this.tableDate="".concat(t):this.tableDate="".concat(t,"-").concat(R((this.tableMonth||0)+1)),this.internalActivePicker="MONTH",this.reactive&&!this.readonly&&!this.isMultiple&&this.isDateAllowed(this.inputDate)&&this.$emit("input",this.inputDate)},monthClick:function(t){this.inputYear=parseInt(t.split("-")[0],10),this.inputMonth=parseInt(t.split("-")[1],10)-1,"date"===this.type?(this.inputDay&&(this.inputDay=Math.min(this.inputDay,ct(this.inputYear,this.inputMonth+1))),this.tableDate=t,this.internalActivePicker="DATE",this.reactive&&!this.readonly&&!this.isMultiple&&this.isDateAllowed(this.inputDate)&&this.$emit("input",this.inputDate)):this.emitInput(this.inputDate)},dateClick:function(t){this.inputYear=parseInt(t.split("-")[0],10),this.inputMonth=parseInt(t.split("-")[1],10)-1,this.inputDay=parseInt(t.split("-")[2],10),this.emitInput(this.inputDate)},genPickerTitle:function(){var t=this;return this.$createElement(T,{props:{date:this.value?this.formatters.titleDate(this.isMultiple?this.multipleValue:this.value):"",disabled:this.disabled,readonly:this.readonly,selectingYear:"YEAR"===this.internalActivePicker,year:this.formatters.year(this.multipleValue.length?"".concat(this.inputYear):this.tableDate),yearIcon:this.yearIcon,value:this.multipleValue[0]},slot:"title",on:{"update:selecting-year":function(e){return t.internalActivePicker=e?"YEAR":t.type.toUpperCase()}}})},genTableHeader:function(){var t=this;return this.$createElement(B,{props:{nextIcon:this.nextIcon,color:this.color,dark:this.dark,disabled:this.disabled,format:this.headerDateFormat,light:this.light,locale:this.locale,min:"DATE"===this.internalActivePicker?this.minMonth:this.minYear,max:"DATE"===this.internalActivePicker?this.maxMonth:this.maxYear,nextAriaLabel:"DATE"===this.internalActivePicker?this.nextMonthAriaLabel:this.nextYearAriaLabel,prevAriaLabel:"DATE"===this.internalActivePicker?this.prevMonthAriaLabel:this.prevYearAriaLabel,prevIcon:this.prevIcon,readonly:this.readonly,value:"DATE"===this.internalActivePicker?"".concat(R(this.tableYear,4),"-").concat(R(this.tableMonth+1)):"".concat(R(this.tableYear,4))},on:{toggle:function(){return t.internalActivePicker="DATE"===t.internalActivePicker?"MONTH":"YEAR"},input:function(e){return t.tableDate=e}}})},genDateTable:function(){var t=this;return this.$createElement(tt,{props:{allowedDates:this.allowedDates,color:this.color,current:this.current,dark:this.dark,disabled:this.disabled,events:this.events,eventColor:this.eventColor,firstDayOfWeek:this.firstDayOfWeek,format:this.dayFormat,light:this.light,locale:this.locale,localeFirstDayOfYear:this.localeFirstDayOfYear,min:this.min,max:this.max,range:this.range,readonly:this.readonly,scrollable:this.scrollable,showAdjacentMonths:this.showAdjacentMonths,showWeek:this.showWeek,tableDate:"".concat(R(this.tableYear,4),"-").concat(R(this.tableMonth+1)),value:this.value,weekdayFormat:this.weekdayFormat},ref:"table",on:Object(w["a"])({input:this.dateClick,"update:table-date":function(e){return t.tableDate=e}},H(this,":date"))})},genMonthTable:function(){var t=this;return this.$createElement(et,{props:{allowedDates:"month"===this.type?this.allowedDates:null,color:this.color,current:this.current?G(this.current,"month"):null,dark:this.dark,disabled:this.disabled,events:"month"===this.type?this.events:null,eventColor:"month"===this.type?this.eventColor:null,format:this.monthFormat,light:this.light,locale:this.locale,min:this.minMonth,max:this.maxMonth,range:this.range,readonly:this.readonly&&"month"===this.type,scrollable:this.scrollable,value:this.selectedMonths,tableDate:"".concat(R(this.tableYear,4))},ref:"table",on:Object(w["a"])({input:this.monthClick,"update:table-date":function(e){return t.tableDate=e}},H(this,":month"))})},genYears:function(){return this.$createElement(at,{props:{color:this.color,format:this.yearFormat,locale:this.locale,min:this.minYear,max:this.maxYear,value:this.tableYear},on:Object(w["a"])({input:this.yearClick},H(this,":year"))})},genPickerBody:function(){var t="YEAR"===this.internalActivePicker?[this.genYears()]:[this.genTableHeader(),"DATE"===this.internalActivePicker?this.genDateTable():this.genMonthTable()];return this.$createElement("div",{key:this.internalActivePicker},t)},setInputDate:function(){if(this.lastValue){var t=this.lastValue.split("-");this.inputYear=parseInt(t[0],10),this.inputMonth=parseInt(t[1],10)-1,"date"===this.type&&(this.inputDay=parseInt(t[2],10))}else this.inputYear=this.inputYear||this.now.getFullYear(),this.inputMonth=null==this.inputMonth?this.inputMonth:this.now.getMonth(),this.inputDay=this.inputDay||this.now.getDate()}},render:function(){return this.genPicker("v-picker--date")}}),ht=a("132d"),pt=a("e449"),ft=a("0fd9"),vt=a("b974"),mt=a("2db4"),gt=a("2fa4"),bt=a("8654"),yt=Object(f["a"])(p,s,i,!1,null,null,null);e["default"]=yt.exports;m()(yt,{VBtn:g["a"],VCard:b["a"],VCardTitle:y["d"],VCol:k["a"],VDataTable:x["a"],VDatePicker:dt,VIcon:ht["a"],VMenu:pt["a"],VRow:ft["a"],VSelect:vt["a"],VSnackbar:mt["a"],VSpacer:gt["a"],VTextField:bt["a"]})},c66d:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:"bg"}},[a("v-toolbar",{attrs:{color:"secondary",dark:"",flat:""},scopedSlots:t._u([{key:"extension",fn:function(){return[a("v-tabs",{attrs:{"align-with-title":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tabs-slider",{attrs:{color:"primary"}}),a("v-tab",{key:"details"},[t._v(" "+t._s(t.$t("Details"))+" ")]),t.newProfile?t._e():a("v-tab",{key:"activity"},[t._v(" "+t._s(t.$t("Activity"))+" ")]),t.newProfile?t._e():a("v-tab",{key:"apps"},[t._v(" "+t._s(t.$t("Apps"))+" ")]),t.newProfile?t._e():a("v-tab",{key:"devices"},[t._v(" "+t._s(t.$t("Devices"))+" ")]),t.newProfile?t._e():a("v-tab",{key:"groups"},[t._v(" "+t._s(t.$t("Groups"))+" ")])],1)]},proxy:!0}])},[t.newProfile?a("v-toolbar-title",[t._v(t._s(t.$t("New Profile")))]):a("v-toolbar-title",[t._v(t._s(t.details.firstname)+" "+t._s(t.details.lastname))]),a("v-spacer"),!t.newProfile&&t.appData.checkPermission("/profiles","w")?a("v-menu",{attrs:{bottom:"",left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({attrs:{dark:"",icon:""}},"v-btn",i,!1),s),[a("v-icon",[t._v("mdi-dots-vertical")])],1)]}}],null,!1,1510716892)},[a("v-list",[a("v-list-item",{on:{click:function(e){return t.sendInvitation()}}},[a("v-list-item-title",[t._v(t._s(t.$t("Send invitation")))])],1),a("v-list-item",{on:{click:function(e){t.dialogDeleteProfile=!0}}},[a("v-list-item-title",[t._v(t._s(t.$t("Delete profile")))])],1)],1)],1):t._e(),a("v-dialog",{attrs:{"max-width":"500px",color:"bg"},model:{value:t.dialogDeleteProfile,callback:function(e){t.dialogDeleteProfile=e},expression:"dialogDeleteProfile"}},[a("v-card",{attrs:{color:"bg"}},[a("v-card-subtitle",{staticClass:"headline"},[t._v(t._s(t.$t("Are you sure you want to delete profile",{profileName:t.details.firstname+" "+t.details.lastname})))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"warning"},on:{click:function(e){t.dialogDeleteProfile=!1}}},[t._v(t._s(t.$t("Cancel")))]),a("v-btn",{attrs:{color:"error"},on:{click:function(e){return t.deleteProfile()}}},[t._v(t._s(t.$t("OK")))]),a("v-spacer")],1)],1)],1)],1),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",{key:"details"},[a("v-card",{staticClass:"ma-0",attrs:{flat:"",color:"bg"}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("First Name"),rules:t.requiredRules},model:{value:t.details.firstname,callback:function(e){t.$set(t.details,"firstname",e)},expression:"details.firstname"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("Last Name"),rules:t.requiredRules},model:{value:t.details.lastname,callback:function(e){t.$set(t.details,"lastname",e)},expression:"details.lastname"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("Office Phone")},model:{value:t.details.officePhone,callback:function(e){t.$set(t.details,"officePhone",e)},expression:"details.officePhone"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("Mobile Phone")},model:{value:t.details.mobilePhone,callback:function(e){t.$set(t.details,"mobilePhone",e)},expression:"details.mobilePhone"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("Manager")},model:{value:t.details.manager,callback:function(e){t.$set(t.details,"manager",e)},expression:"details.manager"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("Country")},model:{value:t.details.country,callback:function(e){t.$set(t.details,"country",e)},expression:"details.country"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("Email"),readonly:!t.newProfile,rules:t.emailRules},model:{value:t.details.email,callback:function(e){t.$set(t.details,"email",e)},expression:"details.email"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("User Name"),readonly:""},model:{value:t.details.userName,callback:function(e){t.$set(t.details,"userName",e)},expression:"details.userName"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[t.appData.checkPermission("/profiles","w")?a("v-btn",{staticClass:"mr-4",attrs:{color:"primary",loading:t.saveLoading},on:{click:t.saveDetails}},[t._v(" "+t._s(t.$t("Save"))+" ")]):t._e()],1)],1)],1)],1)],1)],1),a("v-tab-item",{key:"activity"},[a("v-card",{staticClass:"ma-0",attrs:{flat:"",color:"bg"}},[a("v-form",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("Last Login"),readonly:""},model:{value:t.details.lastActivityTimeFormat,callback:function(e){t.$set(t.details,"lastActivityTimeFormat",e)},expression:"details.lastActivityTimeFormat"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("Data Center"),readonly:""},model:{value:t.details.dataCenter,callback:function(e){t.$set(t.details,"dataCenter",e)},expression:"details.dataCenter"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("Storage Usage"),readonly:""},model:{value:t.details.storageUsage,callback:function(e){t.$set(t.details,"storageUsage",e)},expression:"details.storageUsage"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("EWS Subscription"),readonly:""},model:{value:t.details.subscriptionUpdateDateFormat,callback:function(e){t.$set(t.details,"subscriptionUpdateDateFormat",e)},expression:"details.subscriptionUpdateDateFormat"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[t.appData.checkPermission("/profiles","w")?a("v-btn",{attrs:{color:"primary"},on:{click:t.notificationTest}},[t._v(t._s(t.$t("Notification Test")))]):t._e()],1)],1),a("v-row",[a("v-card",{staticClass:"mt-6",attrs:{color:"bg"}},[a("v-card-title",[t._v(t._s(t.$t("Activity Log")))]),a("v-data-table",{staticClass:"elevation-1 ma-4 bg",attrs:{headers:t.logsHead,items:t.logsRows,"items-per-page":20,loading:t.logsLoading,"sort-by":t.logsSort,"sort-desc":t.logsSortDesc},on:{"update:sortBy":function(e){t.logsSort=e},"update:sort-by":function(e){t.logsSort=e},"update:sortDesc":function(e){t.logsSortDesc=e},"update:sort-desc":function(e){t.logsSortDesc=e}},scopedSlots:t._u([{key:"item.Time",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.moment(a.Time).format("LLL"))+" ")]}}])})],1)],1)],1)],1)],1)],1),a("v-tab-item",{key:"apps"},[a("v-card",{attrs:{flat:"",color:"bg"}},[a("v-card-title",[t._v(t._s(t.$t("App List")))]),a("v-dialog",{attrs:{"max-width":"500px",color:"bg"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[a("v-card",{attrs:{color:"bg"}},[a("v-card-title",{staticClass:"headline"},[t._v(t._s(t.$t("Are you sure you want to delete",{deleteAppName:t.deleteAppItem.appName})))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"warning"},on:{click:t.closeDelete}},[t._v(t._s(t.$t("Cancel")))]),a("v-btn",{attrs:{color:"primary"},on:{click:t.deleteAppConfirm}},[t._v(t._s(t.$t("OK")))]),a("v-spacer")],1)],1)],1),a("v-data-table",{staticClass:"elevation-1 ma-4 bg",attrs:{headers:t.appsHead,items:t.apps,"items-per-page":10,loading:t.appsLoading,"sort-by":t.appsSort,"sort-desc":t.appsSortDesc},on:{"update:sortBy":function(e){t.appsSort=e},"update:sort-by":function(e){t.appsSort=e},"update:sortDesc":function(e){t.appsSortDesc=e},"update:sort-desc":function(e){t.appsSortDesc=e}},scopedSlots:t._u([{key:"item.imageUrl",fn:function(t){var e=t.item;return[a("v-img",{attrs:{"max-height":"40","max-width":"40",src:e.imageUrl}})]}},{key:"item.actions",fn:function(e){var s=e.item;return[t.appData.checkPermission("/apps","i")?a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.reinstallItem(s)}}},[t._v(" mdi-refresh ")]):t._e(),1==s.privateApp&&t.appData.checkPermission("/apps","i")?a("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteApp(s)}}},[t._v(" mdi-delete ")]):t._e()]}}])})],1)],1),a("v-tab-item",{key:"devices"},[a("v-card",{attrs:{flat:"",color:"bg"}},[a("v-card-title",[t._v(t._s(t.$t("Devices")))]),a("v-data-table",{staticClass:"elevation-1 ma-4 bg",attrs:{headers:t.devicesHead,items:t.devices,"items-per-page":10},scopedSlots:t._u([{key:"item.isOnline",fn:function(e){var s=e.item;return[s.isOnline?a("v-chip",{staticClass:"ma-2",attrs:{color:"success","text-color":"white"}},[t._v(" "+t._s(t.$t("Online"))+" ")]):t._e(),!s.isOnline&&s.isActive?a("v-chip",{staticClass:"ma-2",attrs:{color:"warning"}},[t._v(" "+t._s(t.$t("Offline"))+" ")]):t._e(),s.isActive?t._e():a("v-chip",{staticClass:"ma-2",attrs:{color:"error","text-color":"white"}},[t._v(" "+t._s(t.$t("Disabled"))+" ")])]}},{key:"item.actions",fn:function(e){var s=e.item;return[s.isOnline&&t.appData.checkPermission("/profiles","w")?a("v-btn",{staticClass:"ma-1",attrs:{small:"",color:"primary",dark:""},on:{click:function(e){return t.endSession(s)}}},[t._v(" "+t._s(t.$t("End Session"))+" ")]):s.isActive&&t.appData.checkPermission("/profiles","w")?a("v-btn",{staticClass:"ma-1",attrs:{small:"",color:"primary",dark:""},on:{click:function(e){return t.disableDevice(s)}}},[t._v(" "+t._s(t.$t("Disable"))+" ")]):t.appData.checkPermission("/profiles","w")?a("v-btn",{staticClass:"ma-1",attrs:{small:"",color:"primary",dark:""},on:{click:function(e){return t.enableDevice(s)}}},[t._v(" "+t._s(t.$t("Enable"))+" ")]):t._e()]}}])})],1)],1),a("v-tab-item",{key:"groups"},[a("v-card",{attrs:{flat:"",color:"bg"}},[a("v-card-title",[t._v(t._s(t.$t("Groups")))]),a("v-data-table",{staticClass:"elevation-1 ma-4 bg",attrs:{headers:t.groupHeaders,items:t.groupRows},scopedSlots:t._u([{key:"item.adDomain",fn:function(e){var s=e.item;return["All"==s.groupName?a("div",[t._v(t._s(t.$t("Automatic")))]):""==s.adDomain?a("div",[t._v(t._s(t.$t("Manual")))]):a("div",[t._v(t._s(t.$t("Active Directory")))])]}}])})],1)],1)],1),a("v-snackbar",{attrs:{timeout:2e3},scopedSlots:t._u([{key:"action",fn:function(e){var s=e.attrs;return[a("v-btn",t._b({attrs:{color:"blue",text:""},on:{click:function(e){t.snackbarSave=!1}}},"v-btn",s,!1),[t._v(" "+t._s(t.$t("Close"))+" ")])]}}]),model:{value:t.snackbarSave,callback:function(e){t.snackbarSave=e},expression:"snackbarSave"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},i=[],n=(a("d3b7"),a("99af"),a("ac1f"),a("5319"),a("00b4"),a("af52")),o=a("96f7"),r=a("c1df"),l={name:"Profile",components:{},data:function(){return{details:{},tab:{},appData:n["a"],saveLoading:!1,snackbarSave:!1,snackbarText:"",moment:r,logsHead:[],logsRows:[],logsLoading:!0,logsSort:"Time",logsSortDesc:!0,appsHead:[],apps:[],appsLoading:!0,appsSort:"appName",appsSortDesc:!1,dialogDelete:!1,deleteAppItem:{},devicesHead:[],devices:[],groupHeaders:[],groupRows:[],newProfile:!1,profileID:null,emailRules:[],requiredRules:[],dialogDeleteProfile:!1,valid:!0}},methods:{deleteApp:function(t){this.deleteAppItem=t,this.dialogDelete=!0},deleteAppConfirm:function(){var t=this;console.log(this.deleteAppItem),this.dialogDelete=!1,o["a"].get({url:"api/apps/".concat(encodeURIComponent(this.deleteAppItem.packageName),"/deleteFromProfiles?email=").concat(encodeURIComponent(this.details.email))}).then((function(e){console.log(e.data),1==e.data.status?(console.log("Success"),t.snackbarText="App deleted",t.snackbarSave=!0,t.loadDetails()):(console.log("status: ".concat(e.data.status)),t.snackbarText="Error",t.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){}))},closeDelete:function(){this.dialogDelete=!1},reinstallItem:function(t){var e=this;console.log("reinstallItem.."),o["a"].get({url:"api/apps/".concat(encodeURIComponent(t.packageName),"/install?email=").concat(encodeURIComponent(this.details.email))+"&privateApp=".concat(encodeURIComponent(t.privateApp))+"&appStoreOnly=0"}).then((function(t){console.log(t.data),1==t.data.status?(console.log("Success"),e.snackbarText="App re-installed",e.snackbarSave=!0):(console.log("status: ".concat(t.data.status)),e.snackbarText="Error",e.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){}))},endSession:function(t){var e=this;o["a"].post({url:"api/devices/".concat(encodeURIComponent(this.details.email),"/").concat(encodeURIComponent(t.IMEI)),data:{action:"endSession"}}).then((function(t){console.log(t.data),1==t.data.status?(console.log("Success"),e.snackbarText=e.$t("Session closed"),e.snackbarSave=!0,e.loadDetails()):(console.log("status: ".concat(t.data.status)),e.snackbarText=e.$t("Error"),e.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){}))},disableDevice:function(t){var e=this;o["a"].post({url:"api/devices/".concat(encodeURIComponent(this.details.email),"/").concat(encodeURIComponent(t.IMEI)),data:{action:"disable"}}).then((function(t){console.log(t.data),1==t.data.status||0==t.data.status?(console.log("Success"),e.snackbarText=e.$t("Device disabled"),e.snackbarSave=!0,e.loadDetails()):(console.log("status: ".concat(t.data.status)),e.snackbarText=e.$t("Error"),e.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){}))},enableDevice:function(t){var e=this;o["a"].post({url:"api/devices/".concat(encodeURIComponent(this.details.email),"/").concat(encodeURIComponent(t.IMEI)),data:{action:"enable"}}).then((function(t){console.log(t.data),1==t.data.status?(console.log("Success"),e.snackbarText=e.$t("Device enabled"),e.snackbarSave=!0,e.loadDetails()):(console.log("status: ".concat(t.data.status)),e.snackbarText=e.$t("Error"),e.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){}))},loadDetails:function(){var t=this;this.newProfile?console.log("loadDetails new profile.."):o["a"].get({url:"api/profiles/"+encodeURIComponent(this.profileID)}).then((function(e){if(console.log(e.data),1==e.data.status){t.details=e.data.details,t.details.email=t.profileID;var a=r(t.details.lastActivityTime);a.isValid()?t.details.lastActivityTimeFormat=a.format("LLL"):t.details.lastActivityTimeFormat="",a=r(t.details.subscriptionUpdateDate),a.isValid()?t.details.subscriptionUpdateDateFormat=a.format("LLL"):t.details.subscriptionUpdateDateFormat="",t.apps=e.data.apps,t.appsHead=[{text:t.$t("Icon"),value:"imageUrl",sortable:!1},{text:t.$t("Name"),value:"appName"},{text:t.$t("Package"),value:"packageName"},{text:"Actions",value:"actions",sortable:!1}],t.appsLoading=!1,t.devices=e.data.devices,t.devicesHead=[{text:t.$t("Name"),value:"deviceName"},{text:t.$t("ID"),value:"IMEI"},{text:t.$t("Created"),value:"insertTime"},{text:t.$t("Online"),value:"isOnline"},{text:t.$t("Platform"),value:"platform"},{text:t.$t("Gateway"),value:"gateway"},{text:"Actions",value:"actions",sortable:!1}],t.groupRows=e.data.groups,t.groupHeaders=[{text:t.$t("Group Name"),value:"groupName"},{text:t.$t("Group Type"),value:"adDomain"}]}else console.log("status: ".concat(e.data.status))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},sendInvitation:function(){var t=this;console.log("sendInvitation"),o["a"].put({url:"api/profiles/"+encodeURIComponent(this.profileID)+"/invite"}).then((function(e){console.log(e.data),1==e.data.status?(t.saveLoading=!1,t.snackbarText=t.$t("Invitation sent"),t.snackbarSave=!0):(t.snackbarText="Error",t.snackbarSave=!0)})).catch((function(e){t.snackbarText="Error",t.snackbarSave=!0,console.log(e)}))},deleteProfile:function(){var t=this;console.log("deleteProfile"),o["a"].delete({url:"api/profiles/"+encodeURIComponent(this.profileID)}).then((function(e){console.log(e.data),1==e.data.status?(t.saveLoading=!1,t.snackbarText=t.$t("Profile deleted"),t.snackbarSave=!0,t.$router.push("/Profiles")):(t.snackbarText="Error",t.snackbarSave=!0)})).catch((function(e){t.snackbarText="Error",t.snackbarSave=!0,console.log(e)}))},saveDetails:function(){var t,e=this;(this.$refs.form.validate(),this.valid)&&(this.newProfile?(this.profileID=this.details.email,t="put"):t="post",this.saveLoading=!0,o["a"].req({method:t,url:"api/profiles/"+encodeURIComponent(this.profileID),data:{first:this.details.firstname,last:this.details.lastname,manager:this.details.manager,country:this.details.country,officePhone:this.details.officePhone,mobilePhone:this.details.mobilePhone}}).then((function(t){console.log(t.data),1==t.data.status?(console.log("Success"),e.saveLoading=!1,e.snackbarText=e.$t("Profile saved"),e.snackbarSave=!0,e.newProfile&&(e.newProfile=!1,e.snackbarText=e.$t("Profile added"),e.updatePageHead(),e.$router.replace("/Profile/"+encodeURIComponent(e.profileID)),e.loadDetails())):(console.log("status: ".concat(t.data.status)),e.snackbarText="Error",e.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){return e.saveLoading=!1})))},notificationTest:function(){var t=this;console.log("notificationTest"),o["a"].put({url:"api/notifications",data:{email:this.details.email,titleText:"Test",notifyTime:"Test Notification",notifyLocation:"Test Notification",appName:"test",authKey:"test"}}).then((function(e){console.log(e.data),1==e.data.status?(console.log("Success"),t.snackbarText="Notification Sent",t.snackbarSave=!0):(console.log("status: ".concat(e.data.status)),t.snackbarText="Notification Error",t.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},resetLogin:function(){console.log("resetLogin")},updatePageHead:function(){var t=[{text:this.$t("control-panel"),to:"/",disabled:!1},{text:this.$t("Profiles"),to:"/Profiles",disabled:!1},{text:""!=this.profileID?this.profileID:this.$t("New Profile"),to:"/Profile/"+this.profileID,disabled:!1}];this.$emit("updatePage",t)}},created:function(){var t=this;this.profileID=this.$route.params.id,this.profileID&&""!=this.profileID?this.newProfile=!1:(this.profileID="",this.newProfile=!0),this.updatePageHead(),this.emailRules=[function(e){return!!e||t.$t("Field is required")},function(e){return/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,10})+$/.test(e)||t.$t("Email must be valid")}],this.requiredRules=[function(e){return!!e||t.$t("Field is required")}],this.loadDetails()},watch:{tab:function(t){var e=this;if(1==t){this.logsHead=[{text:this.$t("Time"),value:"Time"},{text:this.$t("Component"),value:"ComponentType"},{text:this.$t("Message"),value:"Message"}];var a=Math.round((new Date).getTime()/1e3-432e3);this.logsLoading=!0,o["a"].get({url:"api/logs?u="+encodeURIComponent(this.details.email)+"&mtype=important&limit=200"+"&s=".concat(a)}).then((function(t){console.log(t.data),1==t.data.status?(console.log("Success"),t.data.logs&&(e.logsRows=t.data.logs,e.logsLoading=!1)):(console.log("status: ".concat(t.data.status)),e.snackbarText="Error",e.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){return e.saveLoading=!1}))}}}},c=l,u=a("2877"),d=a("6544"),h=a.n(d),p=a("8336"),f=a("b0af"),v=a("99d9"),m=a("cc20"),g=a("62ad"),b=a("a523"),y=a("8fea"),k=a("169a"),x=a("4bd4"),w=a("132d"),S=a("adda"),$=a("8860"),D=a("da13"),C=a("5d23"),_=a("e449"),T=a("0fd9"),A=a("2db4"),I=a("2fa4"),P=a("71a3"),O=a("c671"),L=a("fe57"),V=a("aac8"),R=a("9a96"),E=a("8654"),N=a("71d9"),j=a("2a7f"),B=Object(u["a"])(c,s,i,!1,null,null,null);e["default"]=B.exports;h()(B,{VBtn:p["a"],VCard:f["a"],VCardActions:v["a"],VCardSubtitle:v["b"],VCardTitle:v["d"],VChip:m["a"],VCol:g["a"],VContainer:b["a"],VDataTable:y["a"],VDialog:k["a"],VForm:x["a"],VIcon:w["a"],VImg:S["a"],VList:$["a"],VListItem:D["a"],VListItemTitle:C["c"],VMenu:_["a"],VRow:T["a"],VSnackbar:A["a"],VSpacer:I["a"],VTab:P["a"],VTabItem:O["a"],VTabs:L["a"],VTabsItems:V["a"],VTabsSlider:R["a"],VTextField:E["a"],VToolbar:N["a"],VToolbarTitle:j["a"]})},c671:function(t,e,a){"use strict";var s=a("9d65"),i=a("4e82"),n=a("c3f0"),o=a("80d2"),r=a("58df"),l=Object(r["a"])(s["a"],Object(i["a"])("windowGroup","v-window-item","v-window")),c=l.extend().extend().extend({name:"v-window-item",directives:{Touch:n["a"]},props:{disabled:Boolean,reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},value:{required:!1}},data:function(){return{isActive:!1,inTransition:!1}},computed:{classes:function(){return this.groupClasses},computedTransition:function(){return this.windowGroup.internalReverse?"undefined"!==typeof this.reverseTransition?this.reverseTransition||"":this.windowGroup.computedTransition:"undefined"!==typeof this.transition?this.transition||"":this.windowGroup.computedTransition}},methods:{genDefaultSlot:function(){return this.$slots.default},genWindowItem:function(){return this.$createElement("div",{staticClass:"v-window-item",class:this.classes,directives:[{name:"show",value:this.isActive}],on:this.$listeners},this.genDefaultSlot())},onAfterTransition:function(){this.inTransition&&(this.inTransition=!1,this.windowGroup.transitionCount>0&&(this.windowGroup.transitionCount--,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=void 0)))},onBeforeTransition:function(){this.inTransition||(this.inTransition=!0,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=Object(o["i"])(this.windowGroup.$el.clientHeight)),this.windowGroup.transitionCount++)},onTransitionCancelled:function(){this.onAfterTransition()},onEnter:function(t){var e=this;this.inTransition&&this.$nextTick((function(){e.computedTransition&&e.inTransition&&(e.windowGroup.transitionHeight=Object(o["i"])(t.clientHeight))}))}},render:function(t){var e=this;return t("transition",{props:{name:this.computedTransition},on:{beforeEnter:this.onBeforeTransition,afterEnter:this.onAfterTransition,enterCancelled:this.onTransitionCancelled,beforeLeave:this.onBeforeTransition,afterLeave:this.onAfterTransition,leaveCancelled:this.onTransitionCancelled,enter:this.onEnter}},this.showLazyContent((function(){return[e.genWindowItem()]})))}});e["a"]=c.extend({name:"v-tab-item",props:{id:String},methods:{genWindowItem:function(){var t=c.options.methods.genWindowItem.call(this);return t.data.domProps=t.data.domProps||{},t.data.domProps.id=this.id||this.value,t}}})},c6a6:function(t,e,a){"use strict";var s=a("5530"),i=(a("d81d"),a("d3b7"),a("4de4"),a("498a"),a("7db0"),a("c740"),a("caad"),a("2532"),a("2bfd"),a("b974")),n=a("8654"),o=a("d9f7"),r=a("80d2"),l=Object(s["a"])(Object(s["a"])({},i["b"]),{},{offsetY:!0,offsetOverflow:!0,transition:!1});e["a"]=i["a"].extend({name:"v-autocomplete",props:{allowOverflow:{type:Boolean,default:!0},autoSelectFirst:{type:Boolean,default:!1},filter:{type:Function,default:function(t,e,a){return a.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())>-1}},hideNoData:Boolean,menuProps:{type:i["a"].options.props.menuProps.type,default:function(){return l}},noFilter:Boolean,searchInput:{type:String}},data:function(){return{lazySearch:this.searchInput}},computed:{classes:function(){return Object(s["a"])(Object(s["a"])({},i["a"].options.computed.classes.call(this)),{},{"v-autocomplete":!0,"v-autocomplete--is-selecting-index":this.selectedIndex>-1})},computedItems:function(){return this.filteredItems},selectedValues:function(){var t=this;return this.selectedItems.map((function(e){return t.getValue(e)}))},hasDisplayedItems:function(){var t=this;return this.hideSelected?this.filteredItems.some((function(e){return!t.hasItem(e)})):this.filteredItems.length>0},currentRange:function(){return null==this.selectedItem?0:String(this.getText(this.selectedItem)).length},filteredItems:function(){var t=this;return!this.isSearching||this.noFilter||null==this.internalSearch?this.allItems:this.allItems.filter((function(e){var a=Object(r["t"])(e,t.itemText),s=null!=a?String(a):"";return t.filter(e,String(t.internalSearch),s)}))},internalSearch:{get:function(){return this.lazySearch},set:function(t){this.lazySearch!==t&&(this.lazySearch=t,this.$emit("update:search-input",t))}},isAnyValueAllowed:function(){return!1},isDirty:function(){return this.searchIsDirty||this.selectedItems.length>0},isSearching:function(){return this.multiple&&this.searchIsDirty||this.searchIsDirty&&this.internalSearch!==this.getText(this.selectedItem)},menuCanShow:function(){return!!this.isFocused&&(this.hasDisplayedItems||!this.hideNoData)},$_menuProps:function(){var t=i["a"].options.computed.$_menuProps.call(this);return t.contentClass="v-autocomplete__content ".concat(t.contentClass||"").trim(),Object(s["a"])(Object(s["a"])({},l),t)},searchIsDirty:function(){return null!=this.internalSearch&&""!==this.internalSearch},selectedItem:function(){var t=this;return this.multiple?null:this.selectedItems.find((function(e){return t.valueComparator(t.getValue(e),t.getValue(t.internalValue))}))},listData:function(){var t=i["a"].options.computed.listData.call(this);return t.props=Object(s["a"])(Object(s["a"])({},t.props),{},{items:this.virtualizedItems,noFilter:this.noFilter||!this.isSearching||!this.filteredItems.length,searchInput:this.internalSearch}),t}},watch:{filteredItems:"onFilteredItemsChanged",internalValue:"setSearch",isFocused:function(t){t?(document.addEventListener("copy",this.onCopy),this.$refs.input&&this.$refs.input.select()):(document.removeEventListener("copy",this.onCopy),this.blur(),this.updateSelf())},isMenuActive:function(t){!t&&this.hasSlot&&(this.lazySearch=null)},items:function(t,e){e&&e.length||!this.hideNoData||!this.isFocused||this.isMenuActive||!t.length||this.activateMenu()},searchInput:function(t){this.lazySearch=t},internalSearch:"onInternalSearchChanged",itemText:"updateSelf"},created:function(){this.setSearch()},destroyed:function(){document.removeEventListener("copy",this.onCopy)},methods:{onFilteredItemsChanged:function(t,e){var a=this;if(t!==e){if(!this.autoSelectFirst){var s=e[this.$refs.menu.listIndex];s?this.setMenuIndex(t.findIndex((function(t){return t===s}))):this.setMenuIndex(-1),this.$emit("update:list-index",this.$refs.menu.listIndex)}this.$nextTick((function(){a.internalSearch&&(1===t.length||a.autoSelectFirst)&&(a.$refs.menu.getTiles(),a.autoSelectFirst&&t.length&&(a.setMenuIndex(0),a.$emit("update:list-index",a.$refs.menu.listIndex)))}))}},onInternalSearchChanged:function(){this.updateMenuDimensions()},updateMenuDimensions:function(){this.isMenuActive&&this.$refs.menu&&this.$refs.menu.updateDimensions()},changeSelectedIndex:function(t){this.searchIsDirty||(this.multiple&&t===r["A"].left?-1===this.selectedIndex?this.selectedIndex=this.selectedItems.length-1:this.selectedIndex--:this.multiple&&t===r["A"].right?this.selectedIndex>=this.selectedItems.length-1?this.selectedIndex=-1:this.selectedIndex++:t!==r["A"].backspace&&t!==r["A"].delete||this.deleteCurrentItem())},deleteCurrentItem:function(){var t=this.selectedIndex,e=this.selectedItems[t];if(this.isInteractive&&!this.getDisabled(e)){var a=this.selectedItems.length-1;if(-1!==this.selectedIndex||0===a){var s=this.selectedItems.length,i=t!==s-1?t:t-1,n=this.selectedItems[i];n?this.selectItem(e):this.setValue(this.multiple?[]:null),this.selectedIndex=i}else this.selectedIndex=a}},clearableCallback:function(){this.internalSearch=null,i["a"].options.methods.clearableCallback.call(this)},genInput:function(){var t=n["a"].options.methods.genInput.call(this);return t.data=Object(o["a"])(t.data,{attrs:{"aria-activedescendant":Object(r["r"])(this.$refs.menu,"activeTile.id"),autocomplete:Object(r["r"])(t.data,"attrs.autocomplete","off")},domProps:{value:this.internalSearch}}),t},genInputSlot:function(){var t=i["a"].options.methods.genInputSlot.call(this);return t.data.attrs.role="combobox",t},genSelections:function(){return this.hasSlot||this.multiple?i["a"].options.methods.genSelections.call(this):[]},onClick:function(t){this.isInteractive&&(this.selectedIndex>-1?this.selectedIndex=-1:this.onFocus(),this.isAppendInner(t.target)||this.activateMenu())},onInput:function(t){if(!(this.selectedIndex>-1)&&t.target){var e=t.target,a=e.value;e.value&&this.activateMenu(),this.multiple||""!==a||this.deleteCurrentItem(),this.internalSearch=a,this.badInput=e.validity&&e.validity.badInput}},onKeyDown:function(t){var e=t.keyCode;!t.ctrlKey&&[r["A"].home,r["A"].end].includes(e)||i["a"].options.methods.onKeyDown.call(this,t),this.changeSelectedIndex(e)},onSpaceDown:function(t){},onTabDown:function(t){i["a"].options.methods.onTabDown.call(this,t),this.updateSelf()},onUpDown:function(t){t.preventDefault(),this.activateMenu()},selectItem:function(t){i["a"].options.methods.selectItem.call(this,t),this.setSearch()},setSelectedItems:function(){i["a"].options.methods.setSelectedItems.call(this),this.isFocused||this.setSearch()},setSearch:function(){var t=this;this.$nextTick((function(){t.multiple&&t.internalSearch&&t.isMenuActive||(t.internalSearch=!t.selectedItems.length||t.multiple||t.hasSlot?null:t.getText(t.selectedItem))}))},updateSelf:function(){(this.searchIsDirty||this.internalValue)&&(this.multiple||this.valueComparator(this.internalSearch,this.getValue(this.internalValue))||this.setSearch())},hasItem:function(t){return this.selectedValues.indexOf(this.getValue(t))>-1},onCopy:function(t){var e,a;if(-1!==this.selectedIndex){var s=this.selectedItems[this.selectedIndex],i=this.getText(s);null==(e=t.clipboardData)||e.setData("text/plain",i),null==(a=t.clipboardData)||a.setData("text/vnd.vuetify.autocomplete.item+plain",i),t.preventDefault()}}}})},c982:function(t,e,a){},d6d6:function(t,e,a){var s=a("da84"),i=s.TypeError;t.exports=function(t,e){if(t<e)throw i("Not enough arguments");return t}},d6db:function(t,e,a){"use strict";a("e67a")},d951:function(t,e,a){},dc6c:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:"bg"}},[a("v-toolbar",{attrs:{color:"secondary",dark:"",flat:""},scopedSlots:t._u([{key:"extension",fn:function(){return[a("v-tabs",{attrs:{"align-with-title":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tabs-slider",{attrs:{color:"primary"}}),a("v-tab",{key:"setup"},[t._v(" Setup ")]),a("v-tab",{key:"ous",attrs:{disabled:t.disableOUs}},[t._v(" Organization Units ")])],1)]},proxy:!0}])},[a("v-toolbar-title",[t._v(t._s(t.$t("LDAP Domain"))+": "+t._s(t.addomain))]),a("v-spacer")],1),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",{key:"setup"},[a("v-card",{attrs:{flat:"",color:"bg"}},[a("v-form",{ref:"form",model:{value:t.formValid,callback:function(e){t.formValid=e},expression:"formValid"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("LDAP Domain"),disabled:t.addominReadonly,rules:[function(e){return!!e||t.$t("Required")}]},on:{change:t.addomainChanged},model:{value:t.ldapDetails.addomain,callback:function(e){t.$set(t.ldapDetails,"addomain",e)},expression:"ldapDetails.addomain"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("Host"),rules:[function(e){return!!e||t.$t("Required")}]},model:{value:t.ldapDetails.host,callback:function(e){t.$set(t.ldapDetails,"host",e)},expression:"ldapDetails.host"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("Port"),disabled:t.portReadonly,rules:[function(e){return!!e||t.$t("Required")},function(t){return/^[0-9]{1,5}$/.test(t)||"Port must be a number"}]},model:{value:t.ldapDetails.port,callback:function(e){t.$set(t.ldapDetails,"port",e)},expression:"ldapDetails.port"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-select",{attrs:{items:t.connectionTypeItems,label:t.$t("Connection Type"),value:t.connectionType,rules:[function(e){return!!e||t.$t("Required")}]},on:{change:t.connectionTypeChanged}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("User Name"),rules:[function(e){return!!e||t.$t("Required")}]},model:{value:t.ldapDetails.username,callback:function(e){t.$set(t.ldapDetails,"username",e)},expression:"ldapDetails.username"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("Password"),rules:[function(e){return!!e||t.$t("Password is required")}],type:t.showPass?"text":"password","append-icon":t.showPass?"mdi-eye":"mdi-eye-off"},on:{"click:append":function(e){t.showPass=!t.showPass}},model:{value:t.ldapDetails.password,callback:function(e){t.$set(t.ldapDetails,"password",e)},expression:"ldapDetails.password"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("Base DN"),rules:[function(e){return!!e||t.$t("Required")}]},model:{value:t.ldapDetails.basedn,callback:function(e){t.$set(t.ldapDetails,"basedn",e)},expression:"ldapDetails.basedn"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-btn",{staticClass:"mr-4",attrs:{disabled:!t.formValid,color:"primary",loading:t.saveLoading},on:{click:t.saveForm}},[t._v(" "+t._s(t.$t("Save"))+" ")])],1)],1)],1)],1)],1)],1),a("v-tab-item",{key:"ous"},[a("v-card",{attrs:{flat:"",color:"bg"}},[a("v-treeview",{staticClass:"bg",attrs:{selectable:"","item-disabled":"locked","selection-type":"independent",items:t.items,value:t.value,"open-all":""},on:{input:t.input}}),a("v-btn",{staticClass:"ma-4",attrs:{color:"primary",loading:t.saveOULoading,disabled:t.disableOUs},on:{click:t.saveOUs}},[t._v(" Save OUs ")])],1)],1)],1),a("v-snackbar",{attrs:{timeout:2e3},scopedSlots:t._u([{key:"action",fn:function(e){var s=e.attrs;return[a("v-btn",t._b({attrs:{color:"info",text:""},on:{click:function(e){t.snackbarSave=!1}}},"v-btn",s,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbarSave,callback:function(e){t.snackbarSave=e},expression:"snackbarSave"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},i=[],n=(a("ac1f"),a("1276"),a("a15b"),a("d3b7"),a("b0c0"),a("99af"),a("e9c4"),a("159b"),a("af52")),o=a("96f7"),r={name:"LDAP",data:function(){return{createLDAP:!1,tab:{},addomain:{},ldapDetails:{},items:[],ousList:[],value:[],inputValues:[],formValid:!0,showPass:!1,connectionTypeItems:[],connectionType:"auto",snackbarSave:!1,snackbarText:"",saveLoading:!1,saveOULoading:!1,portReadonly:!1,addominReadonly:!1,disableOUs:!0,appData:n["a"]}},watch:{"ldapDetails.addomain":function(t){if(console.log("ldapDetails.addomain: "+t),this.createLDAP&&t.length>0){for(var e=t.split("."),a=0;a<e.length;a++)e[a]="DC="+e[a];this.ldapDetails.basedn=e.join(",")}}},methods:{input:function(t){console.log("input: ".concat(t)),this.inputValues=t},connectionTypeChanged:function(t){console.log("connectionTypeChanged: ".concat(t)),"auto"==t?this.portReadonly=!0:(this.portReadonly=!1,"ldaps://"==t?(console.log("Change port to 636"),this.ldapDetails.port="636"):(console.log("Change port to 389"),this.ldapDetails.port="389"),this.$forceUpdate())},saveForm:function(){var t=this;this.$refs.form.validate(),this.formValid?(this.saveLoading=!0,o["a"].put({url:"api/ldap/"+encodeURIComponent(this.ldapDetails.addomain),data:{host:this.ldapDetails.host,user:this.ldapDetails.username,password:this.ldapDetails.password,port:this.ldapDetails.port,baseDN:this.ldapDetails.basedn,sync:!0,SSL:this.connectionType}}).then((function(e){console.log(e.data),1==e.data.status?(console.log("Success"),t.saveLoading=!1,t.snackbarText="Saved",t.snackbarSave=!0,t.addomain=t.ldapDetails.addomain,t.createLDAP=!1,t.addominReadonly=!0,t.refresh()):(console.log("status: ".concat(e.data.status)),t.saveLoading=!1,e.data.message?e.data.message.message&&e.data.message.name?t.snackbarText="".concat(t.$t("Error"),": ").concat(e.data.message.name," - ").concat(e.data.message.message):t.snackbarText="".concat(t.$t("Error"),": ").concat(e.data.message):t.snackbarText="Error",t.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))):console.log("Invalid!")},addomainChanged:function(t){console.log("addomainChanged: ".concat(t))},saveOUs:function(){for(var t=this,e=[],a=0;a<this.inputValues.length;a++){var s=this.inputValues[a];e.push(this.ousList[s].key)}console.log("Selected orgUnits: "+JSON.stringify(e)),0!=e.length&&(this.saveOULoading=!0,o["a"].post({url:"api/ldap/"+encodeURIComponent(this.addomain),data:{orgUnits:e}}).then((function(e){console.log(e.data),1==e.data.status?(console.log("Success"),t.saveOULoading=!1,t.snackbarText="Saved",t.snackbarSave=!0):(console.log("status: ".concat(e.data.status)),t.snackbarText="Error",t.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1})))},refresh:function(){var t=this;this.disableOUs=!0,o["a"].get({url:"api/ldap"}).then((function(e){console.log(e.data),1==e.data.status?e.data.ldapDomains.forEach((function(e){if(e.addomain==t.addomain){t.addominReadonly=!0;var a=e.connectionurl.split("://");if(2==a.length){var s=a[1].split(":");t.ldapDetails.host=s[0],t.ldapDetails.port=s[1],"ldaps"!=a[0]&&"ldap"!=a[0]||(t.connectionType=a[0]+"://")}t.ldapDetails.password=e.password,t.ldapDetails.addomain=e.addomain,t.ldapDetails.username=e.username,t.ldapDetails.basedn=e.basedn}})):(console.log("status: ".concat(e.data.status)),t.rows=[])})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1})),o["a"].get({url:"api/ldap/"+encodeURIComponent(this.addomain)}).then((function(e){if(console.log(e.data),1==e.data.status){console.log("status: ".concat(e.data.status)),t.ousList=e.data.ousList;var a={};t.items=[],t.value=[];for(var s=0;s<t.ousList.length;s++){var i=t.ousList[s],n={id:s,name:i.ouName,children:[]};if(a[i.key]=n,i.checked&&t.value.push(s),0==i.level)t.items.push(n),t.disableOUs=!1;else{var o=i.key.split(",");o.shift();var r=o.join(","),l=a[r];l?l.children.push(n):console.log("Parent not found: "+r)}}console.log("values: ".concat(t.value)),t.inputValues=t.value}else console.log("status: ".concat(e.data.status))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))}},created:function(){"CREATELDAP"!=this.$route.params.addomain?this.addomain=this.$route.params.addomain:(this.addomain="",this.createLDAP=!0,this.addominReadonly=!1,this.ldapDetails={addomain:"",port:"389",host:"",username:"",basedn:""});var t=[{text:this.$t("control-panel"),to:"/",disabled:!1},{text:this.$t("LDAP"),to:"/LDAP",disabled:!1},{text:this.addomain,to:"/LDAP/"+encodeURIComponent(this.addomain),disabled:!1}];this.$emit("updatePage",t),this.connectionTypeItems=[{text:this.$t("Automatic"),value:"auto"},{text:this.$t("LDAP Over SSL"),value:"ldaps://"},{text:this.$t("LDAP"),value:"ldap://"}],this.createLDAP||this.refresh()}},l=r,c=l,u=a("2877"),d=a("6544"),h=a.n(d),p=a("8336"),f=a("b0af"),v=a("62ad"),m=a("a523"),g=a("4bd4"),b=a("0fd9"),y=a("b974"),k=a("2db4"),x=a("2fa4"),w=a("71a3"),S=a("c671"),$=a("fe57"),D=a("aac8"),C=a("9a96"),_=a("8654"),T=a("71d9"),A=a("2a7f"),I=a("3835"),P=a("b85c"),O=a("2909"),L=a("5530"),V=(a("6062"),a("3ca3"),a("ddb0"),a("841c"),a("4de4"),a("d81d"),a("b64b"),a("4ec9"),a("fa9e"),a("ade3")),R=(a("caad"),a("a9e3"),a("0789")),E=a("132d"),N=a("3206"),j=a("a9ad"),B=a("58df"),U=a("80d2"),F=Object(B["a"])(j["a"],Object(N["a"])("treeview")),M={activatable:Boolean,activeClass:{type:String,default:"v-treeview-node--active"},color:{type:String,default:"primary"},disablePerNode:Boolean,expandIcon:{type:String,default:"$subgroup"},indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},itemChildren:{type:String,default:"children"},itemDisabled:{type:String,default:"disabled"},itemKey:{type:String,default:"id"},itemText:{type:String,default:"name"},loadChildren:Function,loadingIcon:{type:String,default:"$loading"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"},openOnClick:Boolean,rounded:Boolean,selectable:Boolean,selectedColor:{type:String,default:"accent"},shaped:Boolean,transition:Boolean,selectionType:{type:String,default:"leaf",validator:function(t){return["leaf","independent"].includes(t)}}},H=F.extend().extend({name:"v-treeview-node",inject:{treeview:{default:null}},props:Object(L["a"])({level:Number,item:{type:Object,default:function(){return null}},parentIsDisabled:Boolean},M),data:function(){return{hasLoaded:!1,isActive:!1,isIndeterminate:!1,isLoading:!1,isOpen:!1,isSelected:!1}},computed:{disabled:function(){return Object(U["r"])(this.item,this.itemDisabled)||!this.disablePerNode&&this.parentIsDisabled&&"leaf"===this.selectionType},key:function(){return Object(U["r"])(this.item,this.itemKey)},children:function(){var t=this,e=Object(U["r"])(this.item,this.itemChildren);return e&&e.filter((function(e){return!t.treeview.isExcluded(Object(U["r"])(e,t.itemKey))}))},text:function(){return Object(U["r"])(this.item,this.itemText)},scopedProps:function(){return{item:this.item,leaf:!this.children,selected:this.isSelected,indeterminate:this.isIndeterminate,active:this.isActive,open:this.isOpen}},computedIcon:function(){return this.isIndeterminate?this.indeterminateIcon:this.isSelected?this.onIcon:this.offIcon},hasChildren:function(){return!!this.children&&(!!this.children.length||!!this.loadChildren)}},created:function(){this.treeview.register(this)},beforeDestroy:function(){this.treeview.unregister(this)},methods:{checkChildren:function(){var t=this;return new Promise((function(e){if(!t.children||t.children.length||!t.loadChildren||t.hasLoaded)return e();t.isLoading=!0,e(t.loadChildren(t.item))})).then((function(){t.isLoading=!1,t.hasLoaded=!0}))},open:function(){this.isOpen=!this.isOpen,this.treeview.updateOpen(this.key,this.isOpen),this.treeview.emitOpen()},genLabel:function(){var t=[];return this.$scopedSlots.label?t.push(this.$scopedSlots.label(this.scopedProps)):t.push(this.text),this.$createElement("div",{slot:"label",staticClass:"v-treeview-node__label"},t)},genPrependSlot:function(){return this.$scopedSlots.prepend?this.$createElement("div",{staticClass:"v-treeview-node__prepend"},this.$scopedSlots.prepend(this.scopedProps)):null},genAppendSlot:function(){return this.$scopedSlots.append?this.$createElement("div",{staticClass:"v-treeview-node__append"},this.$scopedSlots.append(this.scopedProps)):null},genContent:function(){var t=[this.genPrependSlot(),this.genLabel(),this.genAppendSlot()];return this.$createElement("div",{staticClass:"v-treeview-node__content"},t)},genToggle:function(){var t=this;return this.$createElement(E["a"],{staticClass:"v-treeview-node__toggle",class:{"v-treeview-node__toggle--open":this.isOpen,"v-treeview-node__toggle--loading":this.isLoading},slot:"prepend",on:{click:function(e){e.stopPropagation(),t.isLoading||t.checkChildren().then((function(){return t.open()}))}}},[this.isLoading?this.loadingIcon:this.expandIcon])},genCheckbox:function(){var t=this;return this.$createElement(E["a"],{staticClass:"v-treeview-node__checkbox",props:{color:this.isSelected||this.isIndeterminate?this.selectedColor:void 0,disabled:this.disabled},on:{click:function(e){e.stopPropagation(),t.isLoading||t.checkChildren().then((function(){t.$nextTick((function(){t.isSelected=!t.isSelected,t.isIndeterminate=!1,t.treeview.updateSelected(t.key,t.isSelected),t.treeview.emitSelected()}))}))}}},[this.computedIcon])},genLevel:function(t){var e=this;return Object(U["j"])(t).map((function(){return e.$createElement("div",{staticClass:"v-treeview-node__level"})}))},genNode:function(){var t=this,e=[this.genContent()];return this.selectable&&e.unshift(this.genCheckbox()),this.hasChildren?e.unshift(this.genToggle()):e.unshift.apply(e,Object(O["a"])(this.genLevel(1))),e.unshift.apply(e,Object(O["a"])(this.genLevel(this.level))),this.$createElement("div",this.setTextColor(this.isActive&&this.color,{staticClass:"v-treeview-node__root",class:Object(V["a"])({},this.activeClass,this.isActive),on:{click:function(){t.openOnClick&&t.hasChildren?t.checkChildren().then(t.open):t.activatable&&!t.disabled&&(t.isActive=!t.isActive,t.treeview.updateActive(t.key,t.isActive),t.treeview.emitActive())}}}),e)},genChild:function(t,e){return this.$createElement(H,{key:Object(U["r"])(t,this.itemKey),props:{activatable:this.activatable,activeClass:this.activeClass,item:t,selectable:this.selectable,selectedColor:this.selectedColor,color:this.color,disablePerNode:this.disablePerNode,expandIcon:this.expandIcon,indeterminateIcon:this.indeterminateIcon,offIcon:this.offIcon,onIcon:this.onIcon,loadingIcon:this.loadingIcon,itemKey:this.itemKey,itemText:this.itemText,itemDisabled:this.itemDisabled,itemChildren:this.itemChildren,loadChildren:this.loadChildren,transition:this.transition,openOnClick:this.openOnClick,rounded:this.rounded,shaped:this.shaped,level:this.level+1,selectionType:this.selectionType,parentIsDisabled:e},scopedSlots:this.$scopedSlots})},genChildrenWrapper:function(){var t=this;if(!this.isOpen||!this.children)return null;var e=[this.children.map((function(e){return t.genChild(e,t.disabled)}))];return this.$createElement("div",{staticClass:"v-treeview-node__children"},e)},genTransition:function(){return this.$createElement(R["a"],[this.genChildrenWrapper()])}},render:function(t){var e=[this.genNode()];return this.transition?e.push(this.genTransition()):e.push(this.genChildrenWrapper()),t("div",{staticClass:"v-treeview-node",class:{"v-treeview-node--leaf":!this.hasChildren,"v-treeview-node--click":this.openOnClick,"v-treeview-node--disabled":this.disabled,"v-treeview-node--rounded":this.rounded,"v-treeview-node--shaped":this.shaped,"v-treeview-node--selected":this.isSelected},attrs:{"aria-expanded":String(this.isOpen)}},e)}}),G=H,Y=a("7560"),W=a("d9bd");function z(t,e,a){var s=Object(U["r"])(t,a);return s.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())>-1}function q(t,e,a,s,i,n,o){if(t(e,a,i))return!0;var r=Object(U["r"])(e,n);if(r){for(var l=!1,c=0;c<r.length;c++)q(t,r[c],a,s,i,n,o)&&(l=!0);if(l)return!0}return o.add(Object(U["r"])(e,s)),!1}var K=Object(B["a"])(Object(N["b"])("treeview"),Y["a"]).extend({name:"v-treeview",provide:function(){return{treeview:this}},props:Object(L["a"])({active:{type:Array,default:function(){return[]}},dense:Boolean,disabled:Boolean,filter:Function,hoverable:Boolean,items:{type:Array,default:function(){return[]}},multipleActive:Boolean,open:{type:Array,default:function(){return[]}},openAll:Boolean,returnObject:{type:Boolean,default:!1},search:String,value:{type:Array,default:function(){return[]}}},M),data:function(){return{level:-1,activeCache:new Set,nodes:{},openCache:new Set,selectedCache:new Set}},computed:{excludedItems:function(){var t=new Set;if(!this.search)return t;for(var e=0;e<this.items.length;e++)q(this.filter||z,this.items[e],this.search,this.itemKey,this.itemText,this.itemChildren,t);return t}},watch:{items:{handler:function(){var t=this,e=Object.keys(this.nodes).map((function(e){return Object(U["r"])(t.nodes[e].item,t.itemKey)})),a=this.getKeys(this.items),s=Object(U["c"])(a,e);if(s.length||!(a.length<e.length)){s.forEach((function(e){return delete t.nodes[e]}));var i=Object(O["a"])(this.selectedCache);this.selectedCache=new Set,this.activeCache=new Set,this.openCache=new Set,this.buildTree(this.items),Object(U["l"])(i,Object(O["a"])(this.selectedCache))||this.emitSelected()}},deep:!0},active:function(t){this.handleNodeCacheWatcher(t,this.activeCache,this.updateActive,this.emitActive)},value:function(t){this.handleNodeCacheWatcher(t,this.selectedCache,this.updateSelected,this.emitSelected)},open:function(t){this.handleNodeCacheWatcher(t,this.openCache,this.updateOpen,this.emitOpen)}},created:function(){var t=this,e=function(e){return t.returnObject?Object(U["r"])(e,t.itemKey):e};this.buildTree(this.items);var a,s=Object(P["a"])(this.value.map(e));try{for(s.s();!(a=s.n()).done;){var i=a.value;this.updateSelected(i,!0,!0)}}catch(l){s.e(l)}finally{s.f()}var n,o=Object(P["a"])(this.active.map(e));try{for(o.s();!(n=o.n()).done;){var r=n.value;this.updateActive(r,!0)}}catch(l){o.e(l)}finally{o.f()}},mounted:function(){var t=this;(this.$slots.prepend||this.$slots.append)&&Object(W["c"])("The prepend and append slots require a slot-scope attribute",this),this.openAll?this.updateAll(!0):(this.open.forEach((function(e){return t.updateOpen(t.returnObject?Object(U["r"])(e,t.itemKey):e,!0)})),this.emitOpen())},methods:{updateAll:function(t){var e=this;Object.keys(this.nodes).forEach((function(a){return e.updateOpen(Object(U["r"])(e.nodes[a].item,e.itemKey),t)})),this.emitOpen()},getKeys:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=0;a<t.length;a++){var s=Object(U["r"])(t[a],this.itemKey);e.push(s);var i=Object(U["r"])(t[a],this.itemChildren);i&&e.push.apply(e,Object(O["a"])(this.getKeys(i)))}return e},buildTree:function(t){for(var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=0;s<t.length;s++){var i,n=t[s],o=Object(U["r"])(n,this.itemKey),r=null!=(i=Object(U["r"])(n,this.itemChildren))?i:[],l=this.nodes.hasOwnProperty(o)?this.nodes[o]:{isSelected:!1,isIndeterminate:!1,isActive:!1,isOpen:!1,vnode:null},c={vnode:l.vnode,parent:a,children:r.map((function(t){return Object(U["r"])(t,e.itemKey)})),item:n};if(this.buildTree(r,o),!this.nodes.hasOwnProperty(o)&&null!==a&&this.nodes.hasOwnProperty(a)?c.isSelected=this.nodes[a].isSelected:(c.isSelected=l.isSelected,c.isIndeterminate=l.isIndeterminate),c.isActive=l.isActive,c.isOpen=l.isOpen,this.nodes[o]=c,r.length&&"independent"!==this.selectionType){var u=this.calculateState(o,this.nodes),d=u.isSelected,h=u.isIndeterminate;c.isSelected=d,c.isIndeterminate=h}!this.nodes[o].isSelected||"independent"!==this.selectionType&&0!==c.children.length||this.selectedCache.add(o),this.nodes[o].isActive&&this.activeCache.add(o),this.nodes[o].isOpen&&this.openCache.add(o),this.updateVnodeState(o)}},calculateState:function(t,e){var a=e[t].children,s=a.reduce((function(t,a){return t[0]+=+Boolean(e[a].isSelected),t[1]+=+Boolean(e[a].isIndeterminate),t}),[0,0]),i=!!a.length&&s[0]===a.length,n=!i&&(s[0]>0||s[1]>0);return{isSelected:i,isIndeterminate:n}},emitOpen:function(){this.emitNodeCache("update:open",this.openCache)},emitSelected:function(){this.emitNodeCache("input",this.selectedCache)},emitActive:function(){this.emitNodeCache("update:active",this.activeCache)},emitNodeCache:function(t,e){var a=this;this.$emit(t,this.returnObject?Object(O["a"])(e).map((function(t){return a.nodes[t].item})):Object(O["a"])(e))},handleNodeCacheWatcher:function(t,e,a,s){var i=this;t=this.returnObject?t.map((function(t){return Object(U["r"])(t,i.itemKey)})):t;var n=Object(O["a"])(e);Object(U["l"])(n,t)||(n.forEach((function(t){return a(t,!1)})),t.forEach((function(t){return a(t,!0)})),s())},getDescendants:function(t){var e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=this.nodes[t].children;(e=a).push.apply(e,Object(O["a"])(s));for(var i=0;i<s.length;i++)a=this.getDescendants(s[i],a);return a},getParents:function(t){var e=this.nodes[t].parent,a=[];while(null!==e)a.push(e),e=this.nodes[e].parent;return a},register:function(t){var e=Object(U["r"])(t.item,this.itemKey);this.nodes[e].vnode=t,this.updateVnodeState(e)},unregister:function(t){var e=Object(U["r"])(t.item,this.itemKey);this.nodes[e]&&(this.nodes[e].vnode=null)},isParent:function(t){return this.nodes[t].children&&this.nodes[t].children.length},updateActive:function(t,e){var a=this;if(this.nodes.hasOwnProperty(t)){this.multipleActive||this.activeCache.forEach((function(t){a.nodes[t].isActive=!1,a.updateVnodeState(t),a.activeCache.delete(t)}));var s=this.nodes[t];s&&(e?this.activeCache.add(t):this.activeCache.delete(t),s.isActive=e,this.updateVnodeState(t))}},updateSelected:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.nodes.hasOwnProperty(t)){var s=new Map;if("independent"!==this.selectionType){var i,n=Object(P["a"])(this.getDescendants(t));try{for(n.s();!(i=n.n()).done;){var o=i.value;Object(U["r"])(this.nodes[o].item,this.itemDisabled)&&!a||(this.nodes[o].isSelected=e,this.nodes[o].isIndeterminate=!1,s.set(o,e))}}catch(g){n.e(g)}finally{n.f()}var r=this.calculateState(t,this.nodes);this.nodes[t].isSelected=e,this.nodes[t].isIndeterminate=r.isIndeterminate,s.set(t,e);var l,c=Object(P["a"])(this.getParents(t));try{for(c.s();!(l=c.n()).done;){var u=l.value,d=this.calculateState(u,this.nodes);this.nodes[u].isSelected=d.isSelected,this.nodes[u].isIndeterminate=d.isIndeterminate,s.set(u,d.isSelected)}}catch(g){c.e(g)}finally{c.f()}}else this.nodes[t].isSelected=e,this.nodes[t].isIndeterminate=!1,s.set(t,e);var h,p=Object(P["a"])(s.entries());try{for(p.s();!(h=p.n()).done;){var f=Object(I["a"])(h.value,2),v=f[0],m=f[1];this.updateVnodeState(v),"leaf"===this.selectionType&&this.isParent(v)||(!0===m?this.selectedCache.add(v):this.selectedCache.delete(v))}}catch(g){p.e(g)}finally{p.f()}}},updateOpen:function(t,e){var a=this;if(this.nodes.hasOwnProperty(t)){var s=this.nodes[t],i=Object(U["r"])(s.item,this.itemChildren);i&&!i.length&&s.vnode&&!s.vnode.hasLoaded?s.vnode.checkChildren().then((function(){return a.updateOpen(t,e)})):i&&i.length&&(s.isOpen=e,s.isOpen?this.openCache.add(t):this.openCache.delete(t),this.updateVnodeState(t))}},updateVnodeState:function(t){var e=this.nodes[t];e&&e.vnode&&(e.vnode.isSelected=e.isSelected,e.vnode.isIndeterminate=e.isIndeterminate,e.vnode.isActive=e.isActive,e.vnode.isOpen=e.isOpen)},isExcluded:function(t){return!!this.search&&this.excludedItems.has(t)}},render:function(t){var e=this,a=this.items.length?this.items.filter((function(t){return!e.isExcluded(Object(U["r"])(t,e.itemKey))})).map((function(t){var a=G.options.methods.genChild.bind(e);return a(t,e.disabled||Object(U["r"])(t,e.itemDisabled))})):this.$slots.default;return t("div",{staticClass:"v-treeview",class:Object(L["a"])({"v-treeview--hoverable":this.hoverable,"v-treeview--dense":this.dense},this.themeClasses)},a)}}),J=Object(u["a"])(c,s,i,!1,null,null,null);e["default"]=J.exports;h()(J,{VBtn:p["a"],VCard:f["a"],VCol:v["a"],VContainer:m["a"],VForm:g["a"],VRow:b["a"],VSelect:y["a"],VSnackbar:k["a"],VSpacer:x["a"],VTab:w["a"],VTabItem:S["a"],VTabs:$["a"],VTabsItems:D["a"],VTabsSlider:C["a"],VTextField:_["a"],VToolbar:T["a"],VToolbarTitle:A["a"],VTreeview:K})},e082:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(t._s(t.$t("Apps"))+" ")]),a("v-data-table",{staticClass:"elevation-1 ma-4 bg",attrs:{headers:t.headers,items:t.rows,search:t.searchApps,"items-per-page":20,loading:t.loading,options:t.options},on:{"update:options":[function(e){t.options=e},t.updateOptions],"click:row":t.rowClick},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"bg"}},[t.appData.checkPermission("/apps","w")?a("v-btn",{staticClass:"ma-2",attrs:{color:"primary",dark:""},on:{click:function(e){t.uploadDialog=!0}}},[t._v(" "+t._s(t.$t("App Upload"))+" ")]):t._e(),t.appData.isMobile()&&t.appData.checkPermission("/apps","w")?a("v-btn",{staticClass:"ma-2",attrs:{color:"primary",dark:""},on:{click:function(e){t.webappDialog=!0}}},[t._v(" "+t._s(t.$t("Generate Web App"))+" ")]):t._e(),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search"},model:{value:t.searchApps,callback:function(e){t.searchApps=e},expression:"searchApps"}})],1)]},proxy:!0},{key:"item.imageUrl",fn:function(t){var e=t.item;return[a("v-img",{attrs:{"max-height":"40","max-width":"40",src:e.imageUrl}})]}},{key:"item.actions",fn:function(e){var s=e.item;return[t.appData.checkPermission("/apps","w")?a("v-icon",{staticClass:"mx-2",attrs:{small:""},on:{click:function(e){return t.deleteApp(s,e)}}},[t._v(" mdi-delete ")]):t._e()]}}])}),a("v-dialog",{attrs:{persistent:"","max-width":"290","overlay-color":"bg"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[t._v(" "+t._s(t.$t("Delete deleteAppName",{deleteAppName:t.deleteAppName}))+" ")]),a("v-card-text",[t._v(" "+t._s(t.$t("Are you sure you want to delete",{deleteAppName:t.deleteAppName}))+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"warning"},on:{click:function(e){t.dialog=!1}}},[t._v(" Cancel ")]),a("v-btn",{attrs:{color:"primary"},on:{click:t.deleteOK}},[t._v(" OK ")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"1000","overlay-color":"bg"},model:{value:t.uploadDialog,callback:function(e){t.uploadDialog=e},expression:"uploadDialog"}},[a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(" "+t._s(t.$t("Upload App"))+" ")]),a("v-container",{staticClass:"ma-4"},[a("v-form",{ref:"uploadForm"},[a("v-row",{staticClass:"mx-4"},[a("v-col",[a("v-select",{staticClass:"ma-4",attrs:{items:t.appTypes,label:t.$t("App Type")},model:{value:t.appType,callback:function(e){t.appType=e},expression:"appType"}})],1)],1),"deb"==t.appType?a("v-row",{staticClass:"mx-4"},[a("v-col",[a("v-autocomplete",{attrs:{clearable:"",items:t.aptPackages,loading:t.aptPackagesLoading,"search-input":t.search,rules:t.fileRules,"hide-no-data":"","hide-selected":"","item-text":"desc","item-value":"package",label:t.$t("APT Package Name"),placeholder:t.$t("Start typing to Search"),"prepend-icon":"mdi-database-search"},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e}},model:{value:t.aptPackage,callback:function(e){t.aptPackage=e},expression:"aptPackage"}})],1)],1):t._e(),a("v-row",{staticClass:"mx-4"},[a("v-col",[a("v-file-input",{attrs:{"show-size":"",accept:"apk"==t.appType?".apk":".deb",label:"apk"==t.appType?t.$t("APK File"):t.$t("DEB File"),rules:t.fileRules},on:{change:t.selectFile},model:{value:t.filename,callback:function(e){t.filename=e},expression:"filename"}})],1)],1),t.uploadAppDesc.appName&&""!=t.uploadAppDesc.appName?a("v-row",{staticClass:"mx-4"},[a("v-col",[a("v-text-field",{attrs:{label:t.$t("App Name"),readonly:""},model:{value:t.uploadAppDesc.appName,callback:function(e){t.$set(t.uploadAppDesc,"appName",e)},expression:"uploadAppDesc.appName"}})],1),a("v-col",[a("v-text-field",{attrs:{label:t.$t("Package Name"),readonly:""},model:{value:t.uploadAppDesc.packageName,callback:function(e){t.$set(t.uploadAppDesc,"packageName",e)},expression:"uploadAppDesc.packageName"}})],1)],1):t._e(),t.uploadAppDesc.appName&&""!=t.uploadAppDesc.appName?a("v-row",{staticClass:"mx-4"},[a("v-col",[a("v-text-field",{attrs:{label:t.$t("Version Name"),readonly:""},model:{value:t.uploadAppDesc.versionName,callback:function(e){t.$set(t.uploadAppDesc,"versionName",e)},expression:"uploadAppDesc.versionName"}})],1),a("v-col",[a("v-text-field",{attrs:{label:t.$t("Version Code"),readonly:""},model:{value:t.uploadAppDesc.versionCode,callback:function(e){t.$set(t.uploadAppDesc,"versionCode",e)},expression:"uploadAppDesc.versionCode"}})],1)],1):t._e(),a("v-row",{staticClass:"mx-4"},[a("v-col",[t.uploadAppDesc.uploadStatus&&""!=t.uploadAppDesc.uploadStatus?a("v-alert",{attrs:{type:t.uploadAppDesc.uploadAlertType,text:""}},[t._v(" "+t._s(t.uploadAppDesc.uploadStatus)+" "),t.uploadProgress>0?a("v-progress-linear",{model:{value:t.uploadProgress,callback:function(e){t.uploadProgress=e},expression:"uploadProgress"}}):t._e(),"success"==t.uploadAppDesc.uploadAlertType?a("v-btn",{staticClass:"ma-2",attrs:{color:"success"},on:{click:t.goToUploadedApp}},[t._v(" "+t._s(t.$t("Go to App"))+" ")]):t._e()],1):t._e()],1)],1)],1)],1),a("v-card-actions",{staticClass:"mx-4"},[a("v-spacer"),a("v-btn",{attrs:{color:"warning"},on:{click:function(e){t.uploadDialog=!1}}},[t._v(" "+t._s(t.$t("Cancel"))+" ")]),a("v-btn",{attrs:{color:"primary",loading:t.uploading,disabled:!t.uploadSelectedFile&&!t.aptPackage||t.uploading||!t.uploadValid},on:{click:t.startUpload}},[t._v(" "+t._s(t.$t("Upload"))+" "),a("v-icon",{attrs:{right:"",dark:""}},[t._v(" mdi-cloud-upload ")])],1)],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"1000","overlay-color":"bg"},model:{value:t.webappDialog,callback:function(e){t.webappDialog=e},expression:"webappDialog"}},[a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(" "+t._s(t.$t("Generate Web App"))+" ")]),a("v-container",{staticClass:"ma-4"},[a("v-row",{staticClass:"mx-4"},[a("v-col",[a("v-text-field",{attrs:{label:t.$t("URL"),placeholder:"https://youwebsite.com",rules:t.httpRules},model:{value:t.uploadAppDesc.appURL,callback:function(e){t.$set(t.uploadAppDesc,"appURL",e)},expression:"uploadAppDesc.appURL"}})],1)],1),a("v-row",{staticClass:"mx-4"},[a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:t.$t("App Name")},model:{value:t.uploadAppDesc.appName,callback:function(e){t.$set(t.uploadAppDesc,"appName",e)},expression:"uploadAppDesc.appName"}})],1),a("v-col",{attrs:{cols:"1"}},[a("v-img",{attrs:{height:"50",width:"50",src:t.iconURL}})],1),a("v-col",{attrs:{cols:"5"}},[a("v-file-input",{attrs:{"show-size":"",accept:".png",label:t.$t("App Icon")},on:{change:t.selectIcon}})],1)],1),a("v-row",{staticClass:"mx-4"},[a("v-col",[t.uploadAppDesc.uploadStatus&&""!=t.uploadAppDesc.uploadStatus?a("v-alert",{attrs:{type:t.uploadAppDesc.uploadAlertType,text:""}},[t._v(" "+t._s(t.uploadAppDesc.uploadStatus)+" "),t.uploadProgress>0?a("v-progress-linear",{model:{value:t.uploadProgress,callback:function(e){t.uploadProgress=e},expression:"uploadProgress"}}):t._e(),"success"==t.uploadAppDesc.uploadAlertType?a("v-btn",{staticClass:"ma-2",attrs:{color:"success"},on:{click:t.goToUploadedApp}},[t._v(" "+t._s(t.$t("Go to App"))+" ")]):t._e()],1):t._e()],1)],1)],1),a("v-card-actions",{staticClass:"mx-4"},[a("v-spacer"),a("v-btn",{attrs:{color:"warning"},on:{click:function(e){t.webappDialog=!1}}},[t._v(" "+t._s(t.$t("Cancel"))+" ")]),a("v-btn",{attrs:{color:"primary",loading:t.uploading,disabled:!t.uploadAppDesc.appURL||""==t.uploadAppDesc.appURL||!t.uploadAppDesc.appName||""==t.uploadAppDesc.appName||""==t.iconURL||t.uploading},on:{click:t.startWebapp}},[t._v(" "+t._s(t.$t("Generate App"))+" "),a("v-icon",{attrs:{right:"",dark:""}},[t._v(" mdi-cloud-upload ")])],1)],1)],1)],1),a("v-snackbar",{attrs:{timeout:2e3},scopedSlots:t._u([{key:"action",fn:function(e){var s=e.attrs;return[a("v-btn",t._b({attrs:{color:"info",text:""},on:{click:function(e){t.snackbarSave=!1}}},"v-btn",s,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbarSave,callback:function(e){t.snackbarSave=e},expression:"snackbarSave"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},i=[],n=(a("ac1f"),a("00b4"),a("b0c0"),a("d3b7"),a("1276"),a("ddb0"),a("af52")),o=a("96f7"),r={name:"Apps",data:function(){return{headers:[],rows:[],searchApps:"",search:"",totalItems:0,loading:!0,options:{},dialog:!1,deleteObj:null,deleteAppName:"",snackbarSave:!1,snackbarText:"",filename:null,uploadDialog:!1,uploading:!1,uploadProgress:0,uploadFileName:"",uploadSelectedFile:null,uploadValid:!1,uploadAppDesc:{},webappDialog:!1,appTypes:[],appType:"apk",aptPackage:"",aptPackagesLoading:!1,aptPackages:[],fileRules:[],iconURL:"",httpRules:[function(t){return!!t||"URL is required"},function(t){return/[(http(s)?)://(www.)?a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/.test(t)||"URL must be valid"}],appData:n["a"]}},methods:{savePage:function(){o["a"].savePageData("".concat(r.name),this,["options","searchApps"])},updateOptions:function(){this.savePage()},rowClick:function(t){console.log("rowClick: ".concat(t.packageName)),this.$router.push("/App/"+t.packageName)},deleteApp:function(t,e){e.stopPropagation(),this.deleteObj=t,this.deleteAppName=t.appName,this.dialog=!0},deleteOK:function(){var t=this;console.log("deleteApp: ".concat(this.deleteAppName)),this.dialog=!1,o["a"].delete({url:"api/apps/"+encodeURIComponent(this.deleteObj.packageName)}).then((function(e){console.log(e.data),1==e.data.status?(t.snackbarText=t.$t("Deleted"),t.snackbarSave=!0,t.refresh()):(console.log("status: ".concat(e.data.status)),t.snackbarText=t.$t("Error")+" - "+e.data.message,t.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},selectFile:function(t){console.log("selectFile: "+t),this.uploadSelectedFile=t},startUpload:function(){var t=this;this.uploading=!0;var e=new FormData;e.append("file",this.uploadSelectedFile),this.uploadAppDesc.uploadAlertType="info",this.uploadAppDesc.uploadStatus=this.$t("Uploading file..");var a=this;o["a"].post({url:"api/upload",data:e,headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(t){var e=Math.round(100*t.loaded/t.total);console.log(e),a.uploadProgress=Math.round(e/2)}}).then((function(e){console.log(e.data),t.uploadSelectedFile=null,1==e.data.status?(console.log("status: ".concat(e.data.status)),t.uploadFileName=e.data.uploadFileName,t.uploadAPK()):(console.log("status: ".concat(e.data.status)),t.uploading=!1,t.uploadAppDesc.uploadStatus=t.$t("Error uploading apk")+" - "+e.data.message,t.uploadAppDesc.uploadAlertType="error")})).catch((function(e){t.uploadSelectedFile=null,t.uploading=!1,t.uploadAppDesc.uploadStatus=t.$t("Error uploading apk")+" - "+e,t.uploadAppDesc.uploadAlertType="error"})).finally((function(){return t.loading=!1}))},uploadAPK:function(){var t=this;console.log("uploadAPK: "+this.uploadFileName),o["a"].put({url:"api/apps",data:{fileName:this.uploadFileName,packageName:this.aptPackage,appType:this.appType}}).then((function(e){console.log(e.data),1==e.data.status?(console.log("status: ".concat(e.data.status)),t.uploadAppDesc=e.data,t.uploadAppDesc.uploadAlertType="info",t.uploadAppDesc.uploadStatus=t.$t("Installing apk.."),t.uploadProgress=60,t.checkUploadStatus()):(console.log("status: ".concat(e.data.status)),t.uploadAppDesc.uploadStatus=t.$t("Error installing apk")+" - "+e.data.message,t.uploadAppDesc.uploadAlertType="error",t.uploading=!1)})).catch((function(e){t.uploadAppDesc.uploadStatus=t.$t("Error installing apk")+" - "+e,t.uploadAppDesc.uploadAlertType="error",t.uploading=!1})).finally((function(){return t.loading=!1}))},goToUploadedApp:function(){this.$router.push("/App/"+this.uploadAppDesc.packageName)},checkUploadStatus:function(){var t=this,e=this;o["a"].get({url:"api/apps/"+encodeURIComponent(this.uploadAppDesc.packageName)+"/checkUploadStatus"}).then((function(a){if(console.log(a.data),1==a.data.status){console.log("status: ".concat(a.data.status));var s=a.data.apkStatus;s>0?(1==s?(t.uploadAppDesc.uploadStatus=t.$t("Processing apk.."),t.uploadProgress=70):(t.uploadAppDesc.uploadStatus=t.$t("Installing app.."),t.uploadProgress=90),t.uploadAppDesc.uploadAlertType="info",setTimeout((function(){e.checkUploadStatus()}),1e3)):(0==s?(t.uploadAppDesc.uploadStatus=t.$t("The apk was installed successfully"),t.uploadAppDesc.uploadAlertType="success",t.refresh()):(t.uploadAppDesc.uploadStatus=t.$t("Error installing apk"),t.uploadAppDesc.uploadAlertType="error"),t.uploadProgress=0,t.uploading=!1)}else console.log("status: ".concat(a.data.status)),t.uploadAppDesc.uploadStatus=t.$t("Error installing apk")+" - "+a.data.status,t.uploadAppDesc.uploadAlertType="error",t.uploading=!1})).catch((function(e){t.uploadAppDesc.uploadStatus=t.$t("Error installing apk")+" - "+e,t.uploadAppDesc.uploadAlertType="error",t.uploading=!1})).finally((function(){return t.loading=!1}))},refresh:function(){var t=this;o["a"].get({url:"api/apps"}).then((function(e){console.log(e.data),1==e.data.status?t.rows=e.data.apps:(console.log("status: ".concat(e.data.status)),t.rows=[])})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},selectIcon:function(t){console.log(t);var e=this;if(t){var a=new FileReader;a.onload=function(){var t=a.result;console.log("dataURL: "+t),e.iconURL=t},a.readAsDataURL(t)}else e.iconURL=""},startWebapp:function(){var t=this;this.uploading=!0,console.log("startWebapp"),this.uploadAppDesc.uploadAlertType="info",this.uploadAppDesc.uploadStatus=this.$t("Sending web app information.."),this.uploadProgress=1;var e=this.iconURL.split(","),a=e[1];console.log("arr.length: "+e.length),o["a"].put({url:"api/apps/webapp",data:{appURL:this.uploadAppDesc.appURL,appName:this.uploadAppDesc.appName,ssoURL:this.uploadAppDesc.appURL,OrientationMode:"0",icLauncher:a}}).then((function(e){console.log(e.data),1==e.data.status?(console.log("status: ".concat(e.data.status)),t.uploadAppDesc.packageName=e.data.apkname,t.uploadAppDesc.uploadAlertType="info",t.uploadAppDesc.uploadStatus=t.$t("Building web app.."),t.uploadProgress=10,t.checkWebappStatus()):(console.log("status: ".concat(e.data.status)),t.uploadAppDesc.uploadStatus=t.$t("Error building web app")+" - "+e.data.message,t.uploadAppDesc.uploadAlertType="error",t.uploading=!1)})).catch((function(e){t.uploadAppDesc.uploadStatus=t.$t("Error building web app")+" - "+e,t.uploadAppDesc.uploadAlertType="error",t.uploading=!1})).finally((function(){return t.loading=!1}))},checkWebappStatus:function(){var t=this,e=this;o["a"].get({url:"api/apps/webapp?appURL="+encodeURIComponent(this.uploadAppDesc.appURL)}).then((function(a){if(console.log(a.data),1==a.data.status){console.log("status: ".concat(a.data.status)),t.uploadAppDesc.uploadAlertType="info";var s=!0,i=!1;1==a.data.URLLauncherStatus?(s=!1,i=!0,t.uploadAppDesc.uploadStatus=t.$t("Web app was genereated successfully")):2==a.data.URLLauncherStatus?(s=!1,t.uploadAppDesc.uploadStatus=t.$t("Building web app..."),t.uploadProgress=20):4==a.data.URLLauncherStatus?(s=!1,t.uploadAppDesc.uploadStatus=t.$t("Installing web app..."),t.uploadProgress=60):3==a.data.URLLauncherStatus?(s=!0,i=!0,t.uploadAppDesc.uploadStatus=t.$t("Build error")):5==a.data.URLLauncherStatus?(s=!0,i=!0,t.uploadAppDesc.uploadStatus=t.$t("Install error")):(s=!0,i=!0,t.uploadAppDesc.uploadStatus=t.$t("Unknown status: "+t.uploadAppDesc.uploadStatus)),s?(t.uploadAppDesc.uploadAlertType="error",t.uploadProgress=0):i?(t.uploadAppDesc.uploadAlertType="success",t.uploadProgress=0):t.uploadAppDesc.uploadAlertType="info",t.$forceUpdate(),i?t.uploading=!1:setTimeout((function(){e.checkWebappStatus()}),1e3)}else console.log("status: ".concat(a.data.status)),t.uploadAppDesc.uploadStatus=t.$t("Error building web app")+" - "+a.data.message,t.uploadAppDesc.uploadAlertType="error",t.uploading=!1})).catch((function(e){t.uploadAppDesc.uploadStatus=t.$t("Error building web app")+" - "+e,t.uploadAppDesc.uploadAlertType="error",t.uploading=!1})).finally((function(){return t.loading=!1}))}},watch:{aptPackage:function(t){console.log("aptPackage: ".concat(t)),this.uploadValid=this.$refs.uploadForm.validate()},uploadSelectedFile:function(){this.uploadValid=this.$refs.uploadForm.validate()},searchApps:function(){this.savePage()},appType:function(){this.aptPackage="",this.filename=null},search:function(){var t=this;this.aptPackages.length>0||this.aptPackagesLoading||(this.aptPackagesLoading=!0,o["a"].get({url:"api/apps/debs"}).then((function(e){if(console.log(e.data),t.aptPackagesLoading=!1,1==e.data.status){console.log("aptlist OK!"),t.aptPackages=[];for(var a=e.data.aptList.split("\n"),s=1;s<a.length;s++){var i=a[s].split("/");if(i.length>=2){var n={package:i[0],desc:a[s]};t.aptPackages.push(n)}}}})).catch((function(e){console.error(e),t.aptPackagesLoading=!1})),fetch("https://api.publicapis.org/entries").then((function(t){return t.json()})).then((function(e){var a=e.count,s=e.entries;t.count=a,t.entries=s})).catch((function(t){console.log(t)})).finally((function(){return t.isLoading=!1})))}},created:function(){var t=this,e=[{text:this.$t("control-panel"),to:"/",disabled:!1},{text:this.$t("Apps"),to:"/Apps",disabled:!1}];this.$emit("updatePage",e),this.headers=[{text:this.$t("Icon"),value:"imageUrl",sortable:!1},{text:this.$t("Name"),value:"appName"},{text:this.$t("Package"),value:"packageName"},{text:"Actions",value:"actions",sortable:!1}],this.appTypes=[],n["a"].isMobile()&&this.appTypes.push({text:this.$t("Android (APK)"),value:"apk"}),n["a"].isDesktop()&&this.appTypes.push({text:this.$t("Linux (DEB)"),value:"deb"}),this.appTypes.length>0&&(this.appType=this.appTypes[0].value),this.fileRules=[function(){return!t.uploadSelectedFile||!t.aptPackage||t.$t("Please select either APT package or DEB file")}],o["a"].loadPageData(r.name,this),this.refresh()}},l=r,c=l,u=a("2877"),d=a("6544"),h=a.n(d),p=a("0798"),f=a("c6a6"),v=a("8336"),m=a("b0af"),g=a("99d9"),b=a("62ad"),y=a("a523"),k=a("8fea"),x=a("169a"),w=a("2909"),S=a("5530"),$=a("53ca"),D=(a("a9e3"),a("caad"),a("d81d"),a("99af"),a("a434"),a("159b"),a("fb6a"),a("5803"),a("2677")),C=a("cc20"),_=a("80d2"),T=a("d9bd"),A=a("d9f7"),I=D["a"].extend({name:"v-file-input",model:{prop:"value",event:"change"},props:{chips:Boolean,clearable:{type:Boolean,default:!0},counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,placeholder:String,prependIcon:{type:String,default:"$file"},readonly:{type:Boolean,default:!1},showSize:{type:[Boolean,Number],default:!1,validator:function(t){return"boolean"===typeof t||[1e3,1024].includes(t)}},smallChips:Boolean,truncateLength:{type:[Number,String],default:22},type:{type:String,default:"file"},value:{default:void 0,validator:function(t){return Object(_["J"])(t).every((function(t){return null!=t&&"object"===Object($["a"])(t)}))}}},computed:{classes:function(){return Object(S["a"])(Object(S["a"])({},D["a"].options.computed.classes.call(this)),{},{"v-file-input":!0})},computedCounterValue:function(){var t=this.multiple&&this.lazyValue?this.lazyValue.length:this.lazyValue instanceof File?1:0;if(!this.showSize)return this.$vuetify.lang.t(this.counterString,t);var e=this.internalArrayValue.reduce((function(t,e){var a=e.size,s=void 0===a?0:a;return t+s}),0);return this.$vuetify.lang.t(this.counterSizeString,t,Object(_["y"])(e,1024===this.base))},internalArrayValue:function(){return Object(_["J"])(this.internalValue)},internalValue:{get:function(){return this.lazyValue},set:function(t){this.lazyValue=t,this.$emit("change",this.lazyValue)}},isDirty:function(){return this.internalArrayValue.length>0},isLabelActive:function(){return this.isDirty},text:function(){var t=this;return this.isDirty||!this.persistentPlaceholder&&!this.isFocused&&this.hasLabel?this.internalArrayValue.map((function(e){var a=e.name,s=void 0===a?"":a,i=e.size,n=void 0===i?0:i,o=t.truncateText(s);return t.showSize?"".concat(o," (").concat(Object(_["y"])(n,1024===t.base),")"):o})):[this.placeholder]},base:function(){return"boolean"!==typeof this.showSize?this.showSize:void 0},hasChips:function(){return this.chips||this.smallChips}},watch:{readonly:{handler:function(t){!0===t&&Object(T["b"])("readonly is not supported on <v-file-input>",this)},immediate:!0},value:function(t){var e=this.multiple?t:t?[t]:[];Object(_["l"])(e,this.$refs.input.files)||(this.$refs.input.value="")}},methods:{clearableCallback:function(){this.internalValue=this.multiple?[]:null,this.$refs.input.value=""},genChips:function(){var t=this;return this.isDirty?this.text.map((function(e,a){return t.$createElement(C["a"],{props:{small:t.smallChips},on:{"click:close":function(){var e=t.internalValue;e.splice(a,1),t.internalValue=e}}},[e])})):[]},genControl:function(){var t=D["a"].options.methods.genControl.call(this);return this.hideInput&&(t.data.style=Object(A["d"])(t.data.style,{display:"none"})),t},genInput:function(){var t=D["a"].options.methods.genInput.call(this);return t.data.attrs.multiple=this.multiple,delete t.data.domProps.value,delete t.data.on.input,t.data.on.change=this.onInput,[this.genSelections(),t]},genPrependSlot:function(){var t=this;if(!this.prependIcon)return null;var e=this.genIcon("prepend",(function(){t.$refs.input.click()}));return this.genSlot("prepend","outer",[e])},genSelectionText:function(){var t=this.text.length;return t<2?this.text:this.showSize&&!this.counter?[this.computedCounterValue]:[this.$vuetify.lang.t(this.counterString,t)]},genSelections:function(){var t=this,e=[];return this.isDirty&&this.$scopedSlots.selection?this.internalArrayValue.forEach((function(a,s){t.$scopedSlots.selection&&e.push(t.$scopedSlots.selection({text:t.text[s],file:a,index:s}))})):e.push(this.hasChips&&this.isDirty?this.genChips():this.genSelectionText()),this.$createElement("div",{staticClass:"v-file-input__text",class:{"v-file-input__text--placeholder":this.placeholder&&!this.isDirty,"v-file-input__text--chips":this.hasChips&&!this.$scopedSlots.selection}},e)},genTextFieldSlot:function(){var t=this,e=D["a"].options.methods.genTextFieldSlot.call(this);return e.data.on=Object(S["a"])(Object(S["a"])({},e.data.on||{}),{},{click:function(){return t.$refs.input.click()}}),e},onInput:function(t){var e=Object(w["a"])(t.target.files||[]);this.internalValue=this.multiple?e:e[0],this.initialValue=this.internalValue},onKeyDown:function(t){this.$emit("keydown",t)},truncateText:function(t){if(t.length<Number(this.truncateLength))return t;var e=Math.floor((Number(this.truncateLength)-1)/2);return"".concat(t.slice(0,e),"…").concat(t.slice(t.length-e))}}}),P=a("4bd4"),O=a("132d"),L=a("adda"),V=a("8e36"),R=a("0fd9"),E=a("b974"),N=a("2db4"),j=a("2fa4"),B=a("8654"),U=a("71d9"),F=Object(u["a"])(c,s,i,!1,null,null,null);e["default"]=F.exports;h()(F,{VAlert:p["a"],VAutocomplete:f["a"],VBtn:v["a"],VCard:m["a"],VCardActions:g["a"],VCardText:g["c"],VCardTitle:g["d"],VCol:b["a"],VContainer:y["a"],VDataTable:k["a"],VDialog:x["a"],VFileInput:I,VForm:P["a"],VIcon:O["a"],VImg:L["a"],VProgressLinear:V["a"],VRow:R["a"],VSelect:E["a"],VSnackbar:N["a"],VSpacer:j["a"],VTextField:B["a"],VToolbar:U["a"]})},e53c:function(t,e,a){},e67a:function(t,e,a){},ec29:function(t,e,a){},fa9e:function(t,e,a){},fb8b:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[t._v(t._s(t.$t("Platforms")))]),a("v-data-table",{staticClass:"elevation-1 ma-4 bg",attrs:{headers:t.headers,items:t.rows,"items-per-page":20,loading:t.loading},on:{"click:row":t.rowClick},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"bg"}},[a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:t.startNew}},[t._v(" "+t._s(t.$t("Start New Platform"))+" ")])],1)]},proxy:!0},{key:"item.status",fn:function(e){var s=e.item;return["running"==s.status?a("v-chip",{staticClass:"ma-2",attrs:{color:"success","text-color":"white"}},[t._v(" "+t._s(t.$t("Running"))+" ")]):t._e(),"error"==s.status?a("v-chip",{staticClass:"ma-2",attrs:{color:"error","text-color":"white"}},[t._v(" "+t._s(t.$t("Error"))+" ")]):t._e(),"revive"==s.status?a("v-chip",{staticClass:"ma-2",attrs:{color:"warning","text-color":"white"}},[t._v(" "+t._s(t.$t("Revive"))+" ")]):t._e(),"starting"==s.status?a("v-chip",{staticClass:"ma-2",attrs:{color:"warning","text-color":"white"}},[t._v(" "+t._s(t.$t("Starting"))+" ")]):t._e(),"stopping"==s.status?a("v-chip",{staticClass:"ma-2",attrs:{color:"warning","text-color":"white"}},[t._v(" "+t._s(t.$t("Stopping"))+" ")]):t._e(),"available"==s.status?a("v-chip",{staticClass:"ma-2",attrs:{"text-color":"white"}},[t._v(" "+t._s(t.$t("Available"))+" ")]):t._e(),"not_available"==s.status?a("v-chip",{staticClass:"ma-2",attrs:{"text-color":"white"}},[t._v(" "+t._s(t.$t("Not Available"))+" ")]):t._e()]}},{key:"item.actions",fn:function(e){var s=e.item;return["running"==s.status||"error"==s.status||"revive"==s.status?a("v-icon",{staticClass:"mx-2",attrs:{small:""},on:{click:function(e){return t.stopCheck(s,e)}}},[t._v(" mdi-stop ")]):t._e(),"available"==s.status?a("v-icon",{staticClass:"mx-2",attrs:{small:""},on:{click:function(e){return t.start(s,e)}}},[t._v(" mdi-play ")]):t._e()]}}])}),a("v-dialog",{attrs:{persistent:"","max-width":"590"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[t._v(" "+t._s(t.$t("Stop platform",{stopPlatID:t.stopPlatID}))+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" "+t._s(t.$t("Cancel"))+" ")]),"running"==t.stopStatus?a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:t.stopGracefully}},[t._v(" "+t._s(t.$t("Stop Gracefully"))+" ")]):t._e(),a("v-btn",{attrs:{color:"orange darken-1",text:""},on:{click:t.stopNow}},[t._v(" "+t._s(t.$t("Stop Now"))+" ")])],1)],1)],1),a("v-snackbar",{attrs:{timeout:2e3},scopedSlots:t._u([{key:"action",fn:function(e){var s=e.attrs;return[a("v-btn",t._b({attrs:{color:"info",text:""},on:{click:function(e){t.snackbarSave=!1}}},"v-btn",s,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbarSave,callback:function(e){t.snackbarSave=e},expression:"snackbarSave"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},i=[],n=a("b85c"),o=(a("99af"),a("d3b7"),a("159b"),a("b680"),a("b0c0"),a("af52")),r=a("96f7"),l=a("c1df"),c={name:"Platforms",data:function(){return{headers:[],rows:[],search:"",totalItems:0,loading:!0,options:{},dialog:!1,stopPlatID:0,stopStatus:"",snackbarSave:!1,snackbarText:"",appData:o["a"]}},methods:{rowClick:function(t){console.log("rowClick: ".concat(t.platID)),this.$router.push("/Platform/"+t.platID)},stopCheck:function(t,e){e.stopPropagation(),this.stopStatus=t.status,this.stopPlatID=t.platID,this.dialog=!0},scheduleLongOperCheck:function(t,e){var a=this;console.log("scheduleLongOperCheck: "+t),r["a"].get({url:"api/longOperations/"+t}).then((function(s){console.log(s.data),50==s.data.status?setTimeout(a.scheduleLongOperCheck,5e3,t,e):1==s.data.status?(console.log("response.data.status == 1"),a.$notification.success(s.data.message,{title:e,infiniteTimer:!0,showCloseIcn:!0})):(console.log("response.data.status != 1"),a.$notification.error(s.data.message,{title:e,infiniteTimer:!0,showCloseIcn:!0}))})).catch((function(t){return console.log(t)}))},stopGracefully:function(){this.stop(!0)},stopNow:function(){this.stop(!1)},stop:function(t){var e=this;this.dialog=!1;var a=t?"?gracefully=Y":"?gracefully=N";console.log("stop: ".concat(this.stopPlatID,", gracefully: ").concat(t)),r["a"].delete({url:"api/platforms/"+this.stopPlatID+a}).then((function(t){console.log(t.data),1==t.data.status?(e.snackbarText=e.$t("Stopping platform")+" "+e.stopPlatID,e.snackbarSave=!0,t.data.notifToken&&e.scheduleLongOperCheck(t.data.notifToken,e.$t("Stopping platform")+" "+e.stopPlatID)):(console.log("status: ".concat(t.data.status)),e.snackbarText=e.$t("Error"),e.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){return e.loading=!1}))},startNew:function(){var t=this,e=!1;this.rows.forEach((function(a){e||"available"!=a.status||(e=!0,t.start(a))})),e||(this.snackbarText=this.$t("Cannot find available platform"),this.snackbarSave=!0)},start:function(t,e){var a=this;e.stopPropagation(),r["a"].put({url:"api/platforms/"+t.platID}).then((function(e){console.log(e.data),1==e.data.status?(a.snackbarText=a.$t("Starting platform")+" "+t.platID,a.snackbarSave=!0,e.data.notifToken&&a.scheduleLongOperCheck(e.data.notifToken,a.$t("Starting platform")+" "+t.platID)):(console.log("status: ".concat(e.data.status)),a.snackbarText=a.$t("Error"),a.snackbarSave=!0)})).catch((function(t){return console.log(t)})).finally((function(){return a.loading=!1}))},printMem:function(t){if(isNaN(t))return"";var e=t/1024;if(e<1)return"".concat(t," bytes");var a=e/1024;if(a<1)return"".concat(e.toFixed(1)," kb");var s=a/1024;return s<1?"".concat(a.toFixed(1)," mb"):"".concat(s.toFixed(1)," gb")},refresh:function(){var t=this;console.log("Platforms refresh. route: "+this.$route.name),"Platforms"==this.$route.name&&r["a"].get({url:"api/platforms"}).then((function(e){if(console.log(e.data),1==e.data.status){var a,s=Object(n["a"])(e.data.platforms);try{for(s.s();!(a=s.n()).done;){var i=a.value;i.availMem=i.params?"".concat(t.printMem(i.params.memAvailable)):"",i.cpuLoad=i.params&&!isNaN(i.params.currentLoad)?"".concat((1*i.params.currentLoad).toFixed(1),"%"):"",i.uptime=i.params&&i.params.startTime?l(i.params.startTime).fromNow():""}}catch(o){s.e(o)}finally{s.f()}t.rows=e.data.platforms,setTimeout(t.refresh,5e3)}else console.log("status: ".concat(e.data.status)),t.rows=[]})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))}},created:function(){var t=[{text:this.$t("control-panel"),to:"/",disabled:!1},{text:this.$t("Platforms"),to:"/Platforms",disabled:!1}];this.$emit("updatePage",t),this.headers=[{text:this.$t("Platform ID"),value:"platID"},{text:this.$t("Status"),value:"status"},{text:this.$t("Current Sessions"),value:"sessions"},{text:this.$t("Created Sessions"),value:"params.created_sessions_cnt"},{text:this.$t("Available Memory"),value:"availMem"},{text:this.$t("CPU Load"),value:"cpuLoad"},{text:this.$t("Up Time"),value:"uptime"},{text:this.$t("IP Address"),value:"platform_ip"},{text:"Actions",value:"actions",sortable:!1}],this.refresh()}},u=c,d=u,h=a("2877"),p=a("6544"),f=a.n(p),v=a("8336"),m=a("b0af"),g=a("99d9"),b=a("cc20"),y=a("8fea"),k=a("169a"),x=a("132d"),w=a("2db4"),S=a("2fa4"),$=a("71d9"),D=Object(h["a"])(d,s,i,!1,null,null,null);e["default"]=D.exports;f()(D,{VBtn:v["a"],VCard:m["a"],VCardActions:g["a"],VCardTitle:g["d"],VChip:b["a"],VDataTable:y["a"],VDialog:k["a"],VIcon:x["a"],VSnackbar:w["a"],VSpacer:S["a"],VToolbar:$["a"]})},fe09:function(t,e,a){"use strict";a.d(e,"b",(function(){return r}));a("d3b7"),a("25f0"),a("4de4");var s=a("c37a"),i=a("5311"),n=a("8547"),o=a("58df");function r(t){t.preventDefault()}e["a"]=Object(o["a"])(s["a"],i["a"],n["a"]).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data:function(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor:function(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple:function(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive:function(){var t=this,e=this.value,a=this.internalValue;return this.isMultiple?!!Array.isArray(a)&&a.some((function(a){return t.valueComparator(a,e)})):void 0===this.trueValue||void 0===this.falseValue?e?this.valueComparator(e,a):Boolean(a):this.valueComparator(a,this.trueValue)},isDirty:function(){return this.isActive},rippleState:function(){return this.isDisabled||this.validationState?this.validationState:void 0}},watch:{inputValue:function(t){this.lazyValue=t,this.hasColor=t}},methods:{genLabel:function(){var t=s["a"].options.methods.genLabel.call(this);return t?(t.data.on={click:r},t):t},genInput:function(t,e){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:t,type:t},e),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown,click:r},ref:"input"})},onBlur:function(){this.isFocused=!1},onClick:function(t){this.onChange(),this.$emit("click",t)},onChange:function(){var t=this;if(this.isInteractive){var e=this.value,a=this.internalValue;if(this.isMultiple){Array.isArray(a)||(a=[]);var s=a.length;a=a.filter((function(a){return!t.valueComparator(a,e)})),a.length===s&&a.push(e)}else a=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(a,this.trueValue)?this.falseValue:this.trueValue:e?this.valueComparator(a,e)?null:e:!a;this.validate(!0,a),this.internalValue=a,this.hasColor=a}},onFocus:function(){this.isFocused=!0},onKeydown:function(t){}}})},fe57:function(t,e,a){"use strict";var s=a("5530"),i=(a("a9e3"),a("b0c0"),a("1bfb"),a("b85c")),n=(a("2af1"),a("caad"),a("99af"),a("fb6a"),a("608c"),a("9d26")),o=a("0789"),r=a("604c"),l=a("e4cd"),c=a("dc22"),u=a("c3f0"),d=a("58df"),h=a("80d2");function p(t){var e=.501,a=Math.abs(t);return Math.sign(t)*(a/((1/e-2)*(1-a)+1))}function f(t,e,a,s){var i=t.clientWidth,n=a?e.content-t.offsetLeft-i:t.offsetLeft;a&&(s=-s);var o=e.wrapper+s,r=i+n,l=.4*i;return n<=s?s=Math.max(n-l,0):o<=r&&(s=Math.min(s-(o-r-l),e.content-e.wrapper)),a?-s:s}function v(t,e,a){var s=t.offsetLeft,i=t.clientWidth;if(a){var n=e.content-s-i/2-e.wrapper/2;return-Math.min(e.content-e.wrapper,Math.max(0,n))}var o=s+i/2-e.wrapper/2;return Math.min(e.content-e.wrapper,Math.max(0,o))}var m=Object(d["a"])(r["a"],l["a"]).extend({name:"base-slide-group",directives:{Resize:c["a"],Touch:u["a"]},props:{activeClass:{type:String,default:"v-slide-item--active"},centerActive:Boolean,nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},showArrows:{type:[Boolean,String],validator:function(t){return"boolean"===typeof t||["always","desktop","mobile"].includes(t)}}},data:function(){return{internalItemsLength:0,isOverflowing:!1,resizeTimeout:0,startX:0,isSwipingHorizontal:!1,isSwiping:!1,scrollOffset:0,widths:{content:0,wrapper:0}}},computed:{canTouch:function(){return"undefined"!==typeof window},__cachedNext:function(){return this.genTransition("next")},__cachedPrev:function(){return this.genTransition("prev")},classes:function(){return Object(s["a"])(Object(s["a"])({},r["a"].options.computed.classes.call(this)),{},{"v-slide-group":!0,"v-slide-group--has-affixes":this.hasAffixes,"v-slide-group--is-overflowing":this.isOverflowing})},hasAffixes:function(){switch(this.showArrows){case"always":return!0;case"desktop":return!this.isMobile;case!0:return this.isOverflowing||Math.abs(this.scrollOffset)>0;case"mobile":return this.isMobile||this.isOverflowing||Math.abs(this.scrollOffset)>0;default:return!this.isMobile&&(this.isOverflowing||Math.abs(this.scrollOffset)>0)}},hasNext:function(){if(!this.hasAffixes)return!1;var t=this.widths,e=t.content,a=t.wrapper;return e>Math.abs(this.scrollOffset)+a},hasPrev:function(){return this.hasAffixes&&0!==this.scrollOffset}},watch:{internalValue:"setWidths",isOverflowing:"setWidths",scrollOffset:function(t){this.$vuetify.rtl&&(t=-t);var e=t<=0?p(-t):t>this.widths.content-this.widths.wrapper?-(this.widths.content-this.widths.wrapper)+p(this.widths.content-this.widths.wrapper-t):-t;this.$vuetify.rtl&&(e=-e),this.$refs.content.style.transform="translateX(".concat(e,"px)")}},beforeUpdate:function(){this.internalItemsLength=(this.$children||[]).length},updated:function(){this.internalItemsLength!==(this.$children||[]).length&&this.setWidths()},methods:{onScroll:function(){this.$refs.wrapper.scrollLeft=0},onFocusin:function(t){if(this.isOverflowing){var e,a=Object(i["a"])(Object(h["h"])(t));try{for(a.s();!(e=a.n()).done;){var s,n=e.value,o=Object(i["a"])(this.items);try{for(o.s();!(s=o.n()).done;){var r=s.value;if(r.$el===n)return void(this.scrollOffset=f(r.$el,this.widths,this.$vuetify.rtl,this.scrollOffset))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){a.e(l)}finally{a.f()}}},genNext:function(){var t=this,e=this.$scopedSlots.next?this.$scopedSlots.next({}):this.$slots.next||this.__cachedNext;return this.$createElement("div",{staticClass:"v-slide-group__next",class:{"v-slide-group__next--disabled":!this.hasNext},on:{click:function(){return t.onAffixClick("next")}},key:"next"},[e])},genContent:function(){return this.$createElement("div",{staticClass:"v-slide-group__content",ref:"content",on:{focusin:this.onFocusin}},this.$slots.default)},genData:function(){return{class:this.classes,directives:[{name:"resize",value:this.onResize}]}},genIcon:function(t){var e=t;this.$vuetify.rtl&&"prev"===t?e="next":this.$vuetify.rtl&&"next"===t&&(e="prev");var a="".concat(t[0].toUpperCase()).concat(t.slice(1)),s=this["has".concat(a)];return this.showArrows||s?this.$createElement(n["a"],{props:{disabled:!s}},this["".concat(e,"Icon")]):null},genPrev:function(){var t=this,e=this.$scopedSlots.prev?this.$scopedSlots.prev({}):this.$slots.prev||this.__cachedPrev;return this.$createElement("div",{staticClass:"v-slide-group__prev",class:{"v-slide-group__prev--disabled":!this.hasPrev},on:{click:function(){return t.onAffixClick("prev")}},key:"prev"},[e])},genTransition:function(t){return this.$createElement(o["d"],[this.genIcon(t)])},genWrapper:function(){var t=this;return this.$createElement("div",{staticClass:"v-slide-group__wrapper",directives:[{name:"touch",value:{start:function(e){return t.overflowCheck(e,t.onTouchStart)},move:function(e){return t.overflowCheck(e,t.onTouchMove)},end:function(e){return t.overflowCheck(e,t.onTouchEnd)}}}],ref:"wrapper",on:{scroll:this.onScroll}},[this.genContent()])},calculateNewOffset:function(t,e,a,s){var i=a?-1:1,n=i*s+("prev"===t?-1:1)*e.wrapper;return i*Math.max(Math.min(n,e.content-e.wrapper),0)},onAffixClick:function(t){this.$emit("click:".concat(t)),this.scrollTo(t)},onResize:function(){this._isDestroyed||this.setWidths()},onTouchStart:function(t){var e=this.$refs.content;this.startX=this.scrollOffset+t.touchstartX,e.style.setProperty("transition","none"),e.style.setProperty("willChange","transform")},onTouchMove:function(t){if(this.canTouch){if(!this.isSwiping){var e=t.touchmoveX-t.touchstartX,a=t.touchmoveY-t.touchstartY;this.isSwipingHorizontal=Math.abs(e)>Math.abs(a),this.isSwiping=!0}this.isSwipingHorizontal&&(this.scrollOffset=this.startX-t.touchmoveX,document.documentElement.style.overflowY="hidden")}},onTouchEnd:function(){if(this.canTouch){var t=this.$refs,e=t.content,a=t.wrapper,s=e.clientWidth-a.clientWidth;e.style.setProperty("transition",null),e.style.setProperty("willChange",null),this.$vuetify.rtl?this.scrollOffset>0||!this.isOverflowing?this.scrollOffset=0:this.scrollOffset<=-s&&(this.scrollOffset=-s):this.scrollOffset<0||!this.isOverflowing?this.scrollOffset=0:this.scrollOffset>=s&&(this.scrollOffset=s),this.isSwiping=!1,document.documentElement.style.removeProperty("overflow-y")}},overflowCheck:function(t,e){t.stopPropagation(),this.isOverflowing&&e(t)},scrollIntoView:function(){if(!this.selectedItem&&this.items.length){var t=this.items[this.items.length-1].$el.getBoundingClientRect(),e=this.$refs.wrapper.getBoundingClientRect();(this.$vuetify.rtl&&e.right<t.right||!this.$vuetify.rtl&&e.left>t.left)&&this.scrollTo("prev")}this.selectedItem&&(0===this.selectedIndex||!this.centerActive&&!this.isOverflowing?this.scrollOffset=0:this.centerActive?this.scrollOffset=v(this.selectedItem.$el,this.widths,this.$vuetify.rtl):this.isOverflowing&&(this.scrollOffset=f(this.selectedItem.$el,this.widths,this.$vuetify.rtl,this.scrollOffset)))},scrollTo:function(t){this.scrollOffset=this.calculateNewOffset(t,{content:this.$refs.content?this.$refs.content.clientWidth:0,wrapper:this.$refs.wrapper?this.$refs.wrapper.clientWidth:0},this.$vuetify.rtl,this.scrollOffset)},setWidths:function(){var t=this;window.requestAnimationFrame((function(){if(!t._isDestroyed){var e=t.$refs,a=e.content,s=e.wrapper;t.widths={content:a?a.clientWidth:0,wrapper:s?s.clientWidth:0},t.isOverflowing=t.widths.wrapper+1<t.widths.content,t.scrollIntoView()}}))}},render:function(t){return t("div",this.genData(),[this.genPrev(),this.genWrapper(),this.genNext()])}}),g=(m.extend({name:"v-slide-group",provide:function(){return{slideGroup:this}}}),a("7560")),b=a("d10f"),y=Object(d["a"])(m,b["a"],g["a"]).extend({name:"v-tabs-bar",provide:function(){return{tabsBar:this}},computed:{classes:function(){return Object(s["a"])(Object(s["a"])({},m.options.computed.classes.call(this)),{},{"v-tabs-bar":!0,"v-tabs-bar--is-mobile":this.isMobile,"v-tabs-bar--show-arrows":this.showArrows},this.themeClasses)}},watch:{items:"callSlider",internalValue:"callSlider",$route:"onRouteChange"},methods:{callSlider:function(){this.isBooted&&this.$emit("call:slider")},genContent:function(){var t=m.options.methods.genContent.call(this);return t.data=t.data||{},t.data.staticClass+=" v-tabs-bar__content",t},onRouteChange:function(t,e){if(!this.mandatory){var a,s=this.items,n=t.path,o=e.path,r=!1,l=!1,c=Object(i["a"])(s);try{for(c.s();!(a=c.n()).done;){var u=a.value;if(u.to===o?l=!0:u.to===n&&(r=!0),r&&l)break}}catch(d){c.e(d)}finally{c.f()}!r&&l&&(this.internalValue=void 0)}}},render:function(t){var e=m.options.render.call(this,t);return e.data.attrs={role:"tablist"},e}}),k=a("aac8"),x=a("9a96"),w=a("a9ad"),S=a("a452"),$=Object(d["a"])(w["a"],S["a"],g["a"]);e["a"]=$.extend().extend({name:"v-tabs",directives:{Resize:c["a"]},props:{activeClass:{type:String,default:""},alignWithTitle:Boolean,backgroundColor:String,centerActive:Boolean,centered:Boolean,fixedTabs:Boolean,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,iconsAndText:Boolean,mobileBreakpoint:[String,Number],nextIcon:{type:String,default:"$next"},optional:Boolean,prevIcon:{type:String,default:"$prev"},right:Boolean,showArrows:[Boolean,String],sliderColor:String,sliderSize:{type:[Number,String],default:2},vertical:Boolean},data:function(){return{resizeTimeout:0,slider:{height:null,left:null,right:null,top:null,width:null},transitionTime:300}},computed:{classes:function(){return Object(s["a"])({"v-tabs--align-with-title":this.alignWithTitle,"v-tabs--centered":this.centered,"v-tabs--fixed-tabs":this.fixedTabs,"v-tabs--grow":this.grow,"v-tabs--icons-and-text":this.iconsAndText,"v-tabs--right":this.right,"v-tabs--vertical":this.vertical},this.themeClasses)},isReversed:function(){return this.$vuetify.rtl&&this.vertical},sliderStyles:function(){return{height:Object(h["i"])(this.slider.height),left:this.isReversed?void 0:Object(h["i"])(this.slider.left),right:this.isReversed?Object(h["i"])(this.slider.right):void 0,top:this.vertical?Object(h["i"])(this.slider.top):void 0,transition:null!=this.slider.left?null:"none",width:Object(h["i"])(this.slider.width)}},computedColor:function(){return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"}},watch:{alignWithTitle:"callSlider",centered:"callSlider",centerActive:"callSlider",fixedTabs:"callSlider",grow:"callSlider",iconsAndText:"callSlider",right:"callSlider",showArrows:"callSlider",vertical:"callSlider","$vuetify.application.left":"onResize","$vuetify.application.right":"onResize","$vuetify.rtl":"onResize"},mounted:function(){var t=this;this.$nextTick((function(){window.setTimeout(t.callSlider,30)}))},methods:{callSlider:function(){var t=this;return!this.hideSlider&&this.$refs.items&&this.$refs.items.selectedItems.length?(this.$nextTick((function(){var e=t.$refs.items.selectedItems[0];if(!e||!e.$el)return t.slider.width=0,void(t.slider.left=0);var a=e.$el;t.slider={height:t.vertical?a.scrollHeight:Number(t.sliderSize),left:t.vertical?0:a.offsetLeft,right:t.vertical?0:a.offsetLeft+a.offsetWidth,top:a.offsetTop,width:t.vertical?Number(t.sliderSize):a.scrollWidth}})),!0):(this.slider.width=0,!1)},genBar:function(t,e){var a=this,s={style:{height:Object(h["i"])(this.height)},props:{activeClass:this.activeClass,centerActive:this.centerActive,dark:this.dark,light:this.light,mandatory:!this.optional,mobileBreakpoint:this.mobileBreakpoint,nextIcon:this.nextIcon,prevIcon:this.prevIcon,showArrows:this.showArrows,value:this.internalValue},on:{"call:slider":this.callSlider,change:function(t){a.internalValue=t}},ref:"items"};return this.setTextColor(this.computedColor,s),this.setBackgroundColor(this.backgroundColor,s),this.$createElement(y,s,[this.genSlider(e),t])},genItems:function(t,e){var a=this;return t||(e.length?this.$createElement(k["a"],{props:{value:this.internalValue},on:{change:function(t){a.internalValue=t}}},e):null)},genSlider:function(t){return this.hideSlider?null:(t||(t=this.$createElement(x["a"],{props:{color:this.sliderColor}})),this.$createElement("div",{staticClass:"v-tabs-slider-wrapper",style:this.sliderStyles},[t]))},onResize:function(){this._isDestroyed||(clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(this.callSlider,0))},parseNodes:function(){for(var t=null,e=null,a=[],s=[],i=this.$slots.default||[],n=i.length,o=0;o<n;o++){var r=i[o];if(r.componentOptions)switch(r.componentOptions.Ctor.options.name){case"v-tabs-slider":e=r;break;case"v-tabs-items":t=r;break;case"v-tab-item":a.push(r);break;default:s.push(r)}else s.push(r)}return{tab:s,slider:e,items:t,item:a}}},render:function(t){var e=this.parseNodes(),a=e.tab,s=e.slider,i=e.items,n=e.item;return t("div",{staticClass:"v-tabs",class:this.classes,directives:[{name:"resize",modifiers:{quiet:!0},value:this.onResize}]},[this.genBar(a,s),this.genItems(i,n)])}})}}]);
//# sourceMappingURL=about.21c10754.js.map