(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c1624"],{"468d":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-card",{attrs:{color:"bg"}},[e("v-card-title",[e("v-text-field",{attrs:{label:t.$t("Platform ID"),readonly:!0},model:{value:t.platID,callback:function(a){t.platID=a},expression:"platID"}})],1),e("v-container",[""!=t.details.platform_type?e("v-row",[e("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[e("v-text-field",{attrs:{label:t.$t("Static IP")},model:{value:t.staticIP,callback:function(a){t.staticIP=a},expression:"staticIP"}})],1),e("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[e("v-text-field",{attrs:{label:t.$t("VM Name")},model:{value:t.vmName,callback:function(a){t.vmName=a},expression:"vmName"}})],1),e("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[e("v-btn",{staticClass:"mr-4",attrs:{color:"primary"},on:{click:t.saveStaticParams}},[t._v(" "+t._s(t.$t("Save"))+" ")])],1)],1):t._e(),e("v-row",[e("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[e("v-text-field",{attrs:{label:t.$t("Status"),readonly:!0},model:{value:t.details.platform_status,callback:function(a){t.$set(t.details,"platform_status",a)},expression:"details.platform_status"}})],1),t.details.startTime?e("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[e("v-text-field",{attrs:{label:t.$t("Up Time"),readonly:!0},model:{value:t.details.uptime,callback:function(a){t.$set(t.details,"uptime",a)},expression:"details.uptime"}})],1):t._e(),t.details.startTime?e("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[e("v-text-field",{attrs:{label:t.$t("Start Time"),readonly:!0},model:{value:t.details.startTime,callback:function(a){t.$set(t.details,"startTime",a)},expression:"details.startTime"}})],1):t._e(),t.details.startTime?e("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[e("v-text-field",{attrs:{label:t.$t("IP Address"),readonly:!0},model:{value:t.details.platform_ip,callback:function(a){t.$set(t.details,"platform_ip",a)},expression:"details.platform_ip"}})],1):t._e()],1),t.details.startTime?e("v-row",[e("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[e("v-text-field",{attrs:{label:t.$t("Last Check Time"),readonly:!0},model:{value:t.details.lastCheckTime,callback:function(a){t.$set(t.details,"lastCheckTime",a)},expression:"details.lastCheckTime"}})],1),e("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[e("v-text-field",{attrs:{label:t.$t("Last Check Status"),readonly:!0},model:{value:t.details.lastCheckStatus,callback:function(a){t.$set(t.details,"lastCheckStatus",a)},expression:"details.lastCheckStatus"}})],1)],1):t._e(),t.details.startTime?e("v-row",[e("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[e("v-text-field",{attrs:{label:t.$t("CPU Load"),readonly:!0},model:{value:t.details.currentLoad,callback:function(a){t.$set(t.details,"currentLoad",a)},expression:"details.currentLoad"}})],1),e("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[e("v-text-field",{attrs:{label:t.$t("Total Memory"),readonly:!0},model:{value:t.details.memTotal,callback:function(a){t.$set(t.details,"memTotal",a)},expression:"details.memTotal"}})],1),e("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[e("v-text-field",{attrs:{label:t.$t("Active Memory"),readonly:!0},model:{value:t.details.memActive,callback:function(a){t.$set(t.details,"memActive",a)},expression:"details.memActive"}})],1),e("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[e("v-text-field",{attrs:{label:t.$t("Available Memory"),readonly:!0},model:{value:t.details.memAvailable,callback:function(a){t.$set(t.details,"memAvailable",a)},expression:"details.memAvailable"}})],1)],1):t._e(),t.details.startTime?e("v-row",[e("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[e("v-text-field",{attrs:{label:t.$t("Created Sessions"),readonly:!0},model:{value:t.details.created_sessions_cnt,callback:function(a){t.$set(t.details,"created_sessions_cnt",a)},expression:"details.created_sessions_cnt"}})],1),e("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[e("v-text-field",{attrs:{label:t.$t("Current Sessions"),readonly:!0},model:{value:t.rows.length,callback:function(a){t.$set(t.rows,"length",a)},expression:"rows.length"}})],1)],1):t._e()],1),t.rows.length>0?e("v-data-table",{staticClass:"ma-4 bg",attrs:{headers:t.headers,items:t.rows,"items-per-page":100,loading:t.loading},scopedSlots:t._u([{key:"item.actions",fn:function(a){var s=a.item;return[e("v-icon",{staticClass:"mx-2",attrs:{small:""},on:{click:function(a){return t.killSession(s,a)}}},[t._v(" mdi-stop ")])]}}],null,!1,1515370673)}):t._e(),e("v-snackbar",{attrs:{timeout:2e3},scopedSlots:t._u([{key:"action",fn:function(a){var s=a.attrs;return[e("v-btn",t._b({attrs:{color:"primary",text:""},on:{click:function(a){t.snackbarSave=!1}}},"v-btn",s,!1),[t._v(" "+t._s(t.$t("Close"))+" ")])]}}]),model:{value:t.snackbarSave,callback:function(a){t.snackbarSave=a},expression:"snackbarSave"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},l=[],i=(e("fb6a"),e("b680"),e("d3b7"),e("99af"),e("af52")),o=e("96f7"),r=e("c1df"),n=function(t){return"string"!==typeof t?"":t.charAt(0).toUpperCase()+t.slice(1)},c={name:"Group",data:function(){return{headers:[],rows:[],platID:"",search:"",totalItems:0,loading:!0,staticIP:"",vmName:"",options:{},details:{},appData:i["a"],refreshTimeout:null,snackbarSave:!1,snackbarText:""}},methods:{printMem:function(t){if(isNaN(t))return"";var a=t/1024;if(a<1)return"".concat(t," bytes");var e=a/1024;if(e<1)return"".concat(a.toFixed(1)," kb");var s=e/1024;return s<1?"".concat(e.toFixed(1)," mb"):"".concat(s.toFixed(1)," gb")},saveStaticParams:function(){var t=this;o["a"].post({url:"api/platforms/"+encodeURIComponent(this.platID),data:{ip:this.staticIP,vmname:this.vmName}}).then((function(a){console.log(a.data),1==a.data.status?(console.log("Success"),t.snackbarText=t.$t("Static Parameters Saved"),t.snackbarSave=!0,t.loadDetails()):(console.log("status: ".concat(a.data.status)),t.snackbarText=t.$t("Error"),t.snackbarSave=!0),t.refresh()})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},killSession:function(t,a){var e=this;a.stopPropagation(),o["a"].post({url:"api/devices/".concat(encodeURIComponent(t.email),"/").concat(encodeURIComponent(t.imei)),data:{action:"endSession"}}).then((function(t){console.log(t.data),1==t.data.status?(console.log("Success"),e.snackbarText=e.$t("Session closed"),e.snackbarSave=!0,e.loadDetails()):(console.log("status: ".concat(t.data.status)),e.snackbarText=e.$t("Error"),e.snackbarSave=!0),e.refresh()})).catch((function(t){return console.log(t)})).finally((function(){return e.loading=!1}))},refresh:function(){var t=this;console.log("platID: ".concat(this.platID)),this.refreshTimeout&&(clearTimeout(this.refreshTimeout),this.refreshTimeout=null);var a=!this.details.platform_type;o["a"].get({url:"api/platforms/"+encodeURIComponent(this.platID)}).then((function(e){console.log(e.data),1==e.data.status?(t.rows=e.data.sessions,t.details=e.data,t.details.params&&(t.details.params.startTime&&(t.details.uptime=r(t.details.params.startTime).fromNow(),t.details.startTime=r(t.details.params.startTime).format("LLL")),isNaN(t.details.params.currentLoad)?t.details.currentLoad="":t.details.currentLoad="".concat((1*t.details.params.currentLoad).toFixed(1),"%"),t.details.memTotal=t.printMem(t.details.params.memTotal),t.details.memAvailable=t.printMem(t.details.params.memAvailable),t.details.memActive=t.printMem(t.details.params.memActive),t.details.lastCheckTime=t.details.params.lastCheckTime?r(t.details.params.lastCheckTime).format("LLL"):"",t.details.lastCheckStatus=t.details.params.lastCheckStatus?t.details.params.lastCheckStatus.toUpperCase():"",""!=t.details.platform_type&&a&&(t.staticIP=t.details.params.ip,t.vmName=t.details.params.vmname)),t.details.platform_status=n(t.details.platform_status),t.refreshTimeout=setTimeout(t.refresh,1e4)):(console.log("status: ".concat(e.data.status)),t.$router.push("/Login"))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},updatePageHead:function(){var t=[{text:this.$t("control-panel"),to:"/",disabled:!1},{text:this.$t("Platforms"),to:"/Platforms",disabled:!1},{text:this.platID,to:"/Platform/"+this.platID,disabled:!1}];this.$emit("updatePage",t)}},created:function(){this.platID=this.$route.params.platID,this.updatePageHead(),this.headers=[{text:this.$t("First Name"),value:"user.firstname"},{text:this.$t("Last Name"),value:"user.lastname"},{text:this.$t("Email"),value:"email"},{text:this.$t("Device ID"),value:"imei"},{text:this.$t("Device Name"),value:"devicename"},{text:"Actions",value:"actions",sortable:!1}],this.refresh()},beforeDestroy:function(){console.log("lifecycle: beforeDestroy"),this.refreshTimeout&&(clearTimeout(this.refreshTimeout),this.refreshTimeout=null)}},d=c,m=d,u=e("2877"),v=e("6544"),p=e.n(v),f=e("8336"),b=e("b0af"),h=e("99d9"),k=e("62ad"),x=e("a523"),T=e("8fea"),$=e("132d"),_=e("0fd9"),S=e("2db4"),g=e("8654"),y=Object(u["a"])(m,s,l,!1,null,null,null);a["default"]=y.exports;p()(y,{VBtn:f["a"],VCard:b["a"],VCardTitle:h["d"],VCol:k["a"],VContainer:x["a"],VDataTable:T["a"],VIcon:$["a"],VRow:_["a"],VSnackbar:S["a"],VTextField:g["a"]})}}]);
//# sourceMappingURL=chunk-2d0c1624.b1b89326.js.map