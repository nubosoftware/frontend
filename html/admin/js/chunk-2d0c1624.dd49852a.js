(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c1624"],{"468d":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-card",{attrs:{color:"bg"}},[e("v-card-title",[e("v-text-field",{attrs:{label:t.$t("Platform ID"),readonly:!0},model:{value:t.platID,callback:function(a){t.platID=a},expression:"platID"}})],1),e("v-container",[e("v-row",[e("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[e("v-text-field",{attrs:{label:t.$t("Status"),readonly:!0},model:{value:t.details.platform_status,callback:function(a){t.$set(t.details,"platform_status",a)},expression:"details.platform_status"}})],1),e("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[e("v-text-field",{attrs:{label:t.$t("IP Address"),readonly:!0},model:{value:t.details.platform_ip,callback:function(a){t.$set(t.details,"platform_ip",a)},expression:"details.platform_ip"}})],1)],1),e("v-row",[e("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[e("v-text-field",{attrs:{label:t.$t("Created Sessions"),readonly:!0},model:{value:t.details.created_sessions_cnt,callback:function(a){t.$set(t.details,"created_sessions_cnt",a)},expression:"details.created_sessions_cnt"}})],1)],1)],1),e("v-data-table",{staticClass:"ma-4 bg",attrs:{headers:t.headers,items:t.rows,"items-per-page":100,loading:t.loading},scopedSlots:t._u([{key:"item.actions",fn:function(a){var s=a.item;return[e("v-icon",{staticClass:"mx-2",attrs:{small:""},on:{click:function(a){return t.killSession(s,a)}}},[t._v(" mdi-stop ")])]}}])}),e("v-snackbar",{attrs:{timeout:2e3},scopedSlots:t._u([{key:"action",fn:function(a){var s=a.attrs;return[e("v-btn",t._b({attrs:{color:"primary",text:""},on:{click:function(a){t.snackbarSave=!1}}},"v-btn",s,!1),[t._v(" "+t._s(t.$t("Close"))+" ")])]}}]),model:{value:t.snackbarSave,callback:function(a){t.snackbarSave=a},expression:"snackbarSave"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},o=[],n=(e("99af"),e("d3b7"),e("af52")),l=e("96f7"),i={name:"Group",data:function(){return{headers:[],rows:[],platID:"",search:"",totalItems:0,loading:!0,options:{},details:{},appData:n["a"],refreshTimeout:null,snackbarSave:!1,snackbarText:""}},methods:{killSession:function(t,a){var e=this;a.stopPropagation(),l["a"].post({url:"api/devices/".concat(encodeURIComponent(t.email),"/").concat(encodeURIComponent(t.imei)),data:{action:"endSession"}}).then((function(t){console.log(t.data),1==t.data.status?(console.log("Success"),e.snackbarText=e.$t("Session closed"),e.snackbarSave=!0,e.loadDetails()):(console.log("status: ".concat(t.data.status)),e.snackbarText=e.$t("Error"),e.snackbarSave=!0),e.refresh()})).catch((function(t){return console.log(t)})).finally((function(){return e.loading=!1}))},refresh:function(){var t=this;console.log("platID: ".concat(this.platID)),this.refreshTimeout&&(clearTimeout(this.refreshTimeout),this.refreshTimeout=null),l["a"].get({url:"api/platforms/"+encodeURIComponent(this.platID)}).then((function(a){console.log(a.data),1==a.data.status?(t.rows=a.data.sessions,t.details=a.data,t.refreshTimeout=setTimeout(t.refresh,2e3)):(console.log("status: ".concat(a.data.status)),t.$router.push("/Login"))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},updatePageHead:function(){var t=[{text:this.$t("control-panel"),to:"/",disabled:!1},{text:this.$t("Platforms"),to:"/Platforms",disabled:!1},{text:this.platID,to:"/Platform/"+this.platID,disabled:!1}];this.$emit("updatePage",t)}},created:function(){this.platID=this.$route.params.platID,this.updatePageHead(),this.headers=[{text:this.$t("First Name"),value:"user.firstname"},{text:this.$t("Last Name"),value:"user.lastname"},{text:this.$t("Email"),value:"email"},{text:this.$t("Device ID"),value:"imei"},{text:this.$t("Device Name"),value:"devicename"},{text:"Actions",value:"actions",sortable:!1}],this.refresh()}},r=i,c=r,d=e("2877"),u=e("6544"),f=e.n(u),m=e("8336"),p=e("b0af"),v=e("99d9"),h=e("62ad"),b=e("a523"),k=e("8fea"),x=e("132d"),g=e("0fd9"),_=e("2db4"),$=e("8654"),I=Object(d["a"])(c,s,o,!1,null,null,null);a["default"]=I.exports;f()(I,{VBtn:m["a"],VCard:p["a"],VCardTitle:v["d"],VCol:h["a"],VContainer:b["a"],VDataTable:k["a"],VIcon:x["a"],VRow:g["a"],VSnackbar:_["a"],VTextField:$["a"]})}}]);
//# sourceMappingURL=chunk-2d0c1624.dd49852a.js.map