{"version":3,"sources":["webpack:///./src/views/Platform.vue?3eff","webpack:///src/views/Platform.vue","webpack:///./src/views/Platform.vue?360f","webpack:///./src/views/Platform.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","$t","model","value","callback","$$v","platID","expression","details","$set","staticClass","headers","rows","loading","scopedSlots","_u","key","fn","ref","item","on","$event","killSession","_v","_b","snackbarSave","_s","snackbarText","staticRenderFns","name","data","methods","refresh","console","log","refreshTimeout","appUtils","updatePageHead","$emit","bcItems","created","$route","params","component","VBtn","VCard","VCardTitle","VCol","VContainer","VDataTable","VIcon","VRow","VSnackbar","VTextField"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,OAAO,CAACF,EAAG,eAAe,CAACA,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQN,EAAIO,GAAG,eAAe,UAAW,GAAMC,MAAM,CAACC,MAAOT,EAAU,OAAEU,SAAS,SAAUC,GAAMX,EAAIY,OAAOD,GAAKE,WAAW,aAAa,GAAGT,EAAG,cAAc,CAACA,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,KAAK,GAAK,IAAI,GAAK,MAAM,CAACF,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQN,EAAIO,GAAG,UAAU,UAAW,GAAMC,MAAM,CAACC,MAAOT,EAAIc,QAAuB,gBAAEJ,SAAS,SAAUC,GAAMX,EAAIe,KAAKf,EAAIc,QAAS,kBAAmBH,IAAME,WAAW,8BAA8B,GAAGT,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,KAAK,GAAK,IAAI,GAAK,MAAM,CAACF,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQN,EAAIO,GAAG,cAAc,UAAW,GAAMC,MAAM,CAACC,MAAOT,EAAIc,QAAmB,YAAEJ,SAAS,SAAUC,GAAMX,EAAIe,KAAKf,EAAIc,QAAS,cAAeH,IAAME,WAAW,0BAA0B,IAAI,GAAGT,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,KAAK,GAAK,IAAI,GAAK,MAAM,CAACF,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQN,EAAIO,GAAG,oBAAoB,UAAW,GAAMC,MAAM,CAACC,MAAOT,EAAIc,QAA4B,qBAAEJ,SAAS,SAAUC,GAAMX,EAAIe,KAAKf,EAAIc,QAAS,uBAAwBH,IAAME,WAAW,mCAAmC,IAAI,IAAI,GAAGT,EAAG,eAAe,CAACY,YAAY,UAAUV,MAAM,CAAC,QAAUN,EAAIiB,QAAQ,MAAQjB,EAAIkB,KAAK,iBAAiB,IAAI,QAAUlB,EAAImB,SAASC,YAAYpB,EAAIqB,GAAG,CAAC,CAACC,IAAI,eAAeC,GAAG,SAASC,GACj4C,IAAIC,EAAOD,EAAIC,KACf,MAAO,CAACrB,EAAG,SAAS,CAACY,YAAY,OAAOV,MAAM,CAAC,MAAQ,IAAIoB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO3B,EAAI4B,YAAYH,EAAKE,MAAW,CAAC3B,EAAI6B,GAAG,uBAAuBzB,EAAG,aAAa,CAACE,MAAM,CAAC,QAAU,KAAMc,YAAYpB,EAAIqB,GAAG,CAAC,CAACC,IAAI,SAASC,GAAG,SAASC,GACpP,IAAIlB,EAAQkB,EAAIlB,MAChB,MAAO,CAACF,EAAG,QAAQJ,EAAI8B,GAAG,CAACxB,MAAM,CAAC,MAAQ,UAAU,KAAO,IAAIoB,GAAG,CAAC,MAAQ,SAASC,GAAQ3B,EAAI+B,cAAe,KAAS,QAAQzB,GAAM,GAAO,CAACN,EAAI6B,GAAG,IAAI7B,EAAIgC,GAAGhC,EAAIO,GAAG,UAAU,YAAYC,MAAM,CAACC,MAAOT,EAAgB,aAAEU,SAAS,SAAUC,GAAMX,EAAI+B,aAAapB,GAAKE,WAAW,iBAAiB,CAACb,EAAI6B,GAAG,IAAI7B,EAAIgC,GAAGhC,EAAIiC,cAAc,QAAQ,IACjVC,EAAkB,G,8CCsEtB,GACEC,KAAM,QACNC,KAAM,WAAR,OACA,WACA,QACA,UACA,UACA,aACA,WACA,WACA,WACA,eACA,oBACA,gBACA,kBAGEC,QAAS,CAEPT,YAAa,SAAjB,gBACM,EAAN,kBACM,EAAN,WACQ,IAAR,sBACA,4BADA,YACA,4BACQ,KAAR,CACU,OAAV,gBAEA,kBACQ,QAAR,YACA,kBACU,QAAV,eAEU,EAAV,oCACU,EAAV,gBACU,EAAV,gBAGU,QAAV,sCAGU,EAAV,2BACU,EAAV,iBAEQ,EAAR,aAEA,mBAAQ,OAAR,kBACA,oBAAQ,OAAR,iBAEIU,QAAS,WAAb,WACMC,QAAQC,IAAI,WAAlB,qBACUvC,KAAKwC,iBACP,aAAR,qBACQ,KAAR,qBAEMC,EAAN,KACA,KACQ,IAAR,mDAEA,kBACQ,QAAR,YACA,kBACU,EAAV,qBACU,EAAV,eACU,EAAV,2CAEU,QAAV,sCACU,EAAV,2BAGA,mBAAQ,OAAR,kBACA,oBAAQ,OAAR,iBAIIC,eAAgB,WACd,IAAN,GACA,CACQ,KAAR,yBACQ,GAAR,IACQ,UAAR,GAEA,CACQ,KAAR,qBACQ,GAAR,aACQ,UAAR,GAEA,CACQ,KAAR,YACQ,GAAR,yBACQ,UAAR,IAGM1C,KAAK2C,MAAM,aAAcC,KAI7BC,QAAS,WACP7C,KAAKW,OAASX,KAAK8C,OAAOC,OAAOpC,OAEjCX,KAAK0C,iBACL1C,KAAKgB,QAAU,CACnB,CACM,KAAN,sBACM,MAAN,kBAEA,CACM,KAAN,qBACM,MAAN,iBAEA,CACM,KAAN,iBACM,MAAN,SAEA,CACM,KAAN,qBACM,MAAN,QAEA,CACM,KAAN,uBACM,MAAN,cAEA,CAAM,KAAN,UAAM,MAAN,UAAM,UAAN,IAGIhB,KAAKqC,YAKT,IC5MkV,I,yJCO9UW,EAAY,eACd,EACAlD,EACAmC,GACA,EACA,KACA,KACA,MAIa,aAAAe,EAAiB,QAchC,IAAkBA,EAAW,CAACC,OAAA,KAAKC,QAAA,KAAMC,WAAA,OAAWC,OAAA,KAAKC,aAAA,KAAWC,aAAA,KAAWC,QAAA,KAAMC,OAAA,KAAKC,YAAA,KAAUC,aAAA","file":"js/chunk-2d0c1624.dd49852a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{attrs:{\"color\":\"bg\"}},[_c('v-card-title',[_c('v-text-field',{attrs:{\"label\":_vm.$t('Platform ID'),\"readonly\":true},model:{value:(_vm.platID),callback:function ($$v) {_vm.platID=$$v},expression:\"platID\"}})],1),_c('v-container',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"3\"}},[_c('v-text-field',{attrs:{\"label\":_vm.$t('Status'),\"readonly\":true},model:{value:(_vm.details.platform_status),callback:function ($$v) {_vm.$set(_vm.details, \"platform_status\", $$v)},expression:\"details.platform_status\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"3\"}},[_c('v-text-field',{attrs:{\"label\":_vm.$t('IP Address'),\"readonly\":true},model:{value:(_vm.details.platform_ip),callback:function ($$v) {_vm.$set(_vm.details, \"platform_ip\", $$v)},expression:\"details.platform_ip\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"3\"}},[_c('v-text-field',{attrs:{\"label\":_vm.$t('Created Sessions'),\"readonly\":true},model:{value:(_vm.details.created_sessions_cnt),callback:function ($$v) {_vm.$set(_vm.details, \"created_sessions_cnt\", $$v)},expression:\"details.created_sessions_cnt\"}})],1)],1)],1),_c('v-data-table',{staticClass:\"ma-4 bg\",attrs:{\"headers\":_vm.headers,\"items\":_vm.rows,\"items-per-page\":100,\"loading\":_vm.loading},scopedSlots:_vm._u([{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-icon',{staticClass:\"mx-2\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.killSession(item,$event)}}},[_vm._v(\" mdi-stop \")])]}}])}),_c('v-snackbar',{attrs:{\"timeout\":2000},scopedSlots:_vm._u([{key:\"action\",fn:function(ref){\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._b({attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":function($event){_vm.snackbarSave = false}}},'v-btn',attrs,false),[_vm._v(\" \"+_vm._s(_vm.$t(\"Close\"))+\" \")])]}}]),model:{value:(_vm.snackbarSave),callback:function ($$v) {_vm.snackbarSave=$$v},expression:\"snackbarSave\"}},[_vm._v(\" \"+_vm._s(_vm.snackbarText)+\" \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card color=\"bg\">\n    <v-card-title>\n        \n      <v-text-field\n        v-model=\"platID\"\n        :label=\"$t('Platform ID')\"\n        :readonly=true\n      ></v-text-field>\n      \n     \n    </v-card-title>\n    <v-container>\n    <v-row>\n        <v-col cols=\"12\" sm=\"6\" md=\"3\">\n            <v-text-field\n                v-model=\"details.platform_status\"\n                :label=\"$t('Status')\"\n                :readonly=true\n            ></v-text-field>\n        </v-col>\n        <v-col cols=\"12\" sm=\"6\" md=\"3\">\n            <v-text-field\n                v-model=\"details.platform_ip\"\n                :label=\"$t('IP Address')\"\n                :readonly=true\n            ></v-text-field>\n        </v-col>\n    </v-row>\n    <v-row>\n        <v-col cols=\"12\" sm=\"6\" md=\"3\">\n            <v-text-field\n                v-model=\"details.created_sessions_cnt\"\n                :label=\"$t('Created Sessions')\"\n                :readonly=true\n            ></v-text-field>\n        </v-col>\n       \n    </v-row>\n    </v-container>\n    <v-data-table\n      :headers=\"headers\"\n      :items=\"rows\"\n      :items-per-page=\"100\"\n      :loading=\"loading\"\n      class=\"ma-4 bg\"\n    >\n\n    <template v-slot:item.actions=\"{ item }\">\n             <v-icon  small @click=\"killSession(item,$event)\" class=\"mx-2\"> mdi-stop </v-icon>\n    </template>\n      \n    </v-data-table>\n    \n    <v-snackbar v-model=\"snackbarSave\" :timeout=\"2000\">\n      {{ snackbarText }}\n\n      <template v-slot:action=\"{ attrs }\">\n        <v-btn\n          color=\"primary\"\n          text\n          v-bind=\"attrs\"\n          @click=\"snackbarSave = false\"\n        >\n          {{$t(\"Close\")}}\n        </v-btn>\n      </template>\n    </v-snackbar>\n  </v-card>\n</template>\n\n<script>\nimport appData from \"../modules/appData\";\nimport appUtils from \"../modules/appUtils\";\n\nlet page = {\n  name: \"Group\",\n  data: () => ({\n    headers: [],\n    rows: [],\n    platID: \"\",\n    search: \"\",\n    totalItems: 0,\n    loading: true,\n    options: {},\n    details: {},\n    appData,\n    refreshTimeout: null,\n    snackbarSave: false,\n    snackbarText: \"\",\n\n  }),\n  methods: {\n\n    killSession: function(item,event) {\n        event.stopPropagation();\n        appUtils.post({\n            url:\n                `api/devices/${encodeURIComponent(item.email)}/${encodeURIComponent(item.imei)}`,\n            data: {\n                action: \"endSession\"\n            }\n        }).then((response) => {\n            console.log(response.data);\n            if (response.data.status == 1) {\n                console.log(\"Success\");\n                \n                this.snackbarText = this.$t(\"Session closed\");\n                this.snackbarSave = true;\n                this.loadDetails();\n\n            } else {\n                console.log(`status: ${response.data.status}`);\n                //this.$router.push(\"/Login\");\n\n                this.snackbarText = this.$t(\"Error\");\n                this.snackbarSave = true;\n            }\n            this.refresh();\n        })\n        .catch((error) => console.log(error))\n        .finally(() => (this.loading = false));\n    },\n    refresh: function() {\n      console.log(`platID: ${this.platID}`);\n      if (this.refreshTimeout) {\n          clearTimeout(this.refreshTimeout);\n          this.refreshTimeout = null;\n      }\n      appUtils\n        .get({\n          url: \"api/platforms/\" + encodeURIComponent(this.platID),\n        })\n        .then((response) => {\n          console.log(response.data);\n          if (response.data.status == 1) {\n            this.rows = response.data.sessions;\n            this.details = response.data;\n            this.refreshTimeout = setTimeout(this.refresh,2000);\n          } else {\n            console.log(`status: ${response.data.status}`);\n            this.$router.push(\"/Login\");\n          }\n        })\n        .catch((error) => console.log(error))\n        .finally(() => (this.loading = false));\n    },\n    \n    \n    updatePageHead: function() {\n      let bcItems = [\n        {\n          text: this.$t(\"control-panel\"),\n          to: \"/\",\n          disabled: false,\n        },\n        {\n          text: this.$t(\"Platforms\"),\n          to: \"/Platforms\",\n          disabled: false,\n        },\n        {\n          text: this.platID,\n          to: \"/Platform/\" + this.platID,\n          disabled: false,\n        },\n      ];\n      this.$emit(\"updatePage\", bcItems);\n    },\n    \n  },\n  created: function() {\n    this.platID = this.$route.params.platID;\n    \n    this.updatePageHead();\n    this.headers = [\n      {\n        text: this.$t(\"First Name\"),\n        value: \"user.firstname\",\n      },\n      {\n        text: this.$t(\"Last Name\"),\n        value: \"user.lastname\",\n      },\n      {\n        text: this.$t(\"Email\"),\n        value: \"email\",\n      },\n      {\n        text: this.$t(\"Device ID\"),\n        value: \"imei\",\n      },\n      {\n        text: this.$t(\"Device Name\"),\n        value: \"devicename\",\n      },\n      { text: 'Actions', value: 'actions', sortable: false }\n    ];\n    \n    this.refresh();\n  },\n  \n};\n\nexport default page;\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Platform.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Platform.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Platform.vue?vue&type=template&id=60c6fd1f&\"\nimport script from \"./Platform.vue?vue&type=script&lang=js&\"\nexport * from \"./Platform.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardTitle,VCol,VContainer,VDataTable,VIcon,VRow,VSnackbar,VTextField})\n"],"sourceRoot":""}