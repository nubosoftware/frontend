(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c1624"],{"468d":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:"bg"}},[a("v-card-title",[a("v-text-field",{attrs:{label:t.$t("Platform ID"),readonly:!0},model:{value:t.platID,callback:function(e){t.platID=e},expression:"platID"}})],1),a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("Status"),readonly:!0},model:{value:t.details.platform_status,callback:function(e){t.$set(t.details,"platform_status",e)},expression:"details.platform_status"}})],1),t.details.startTime?a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("Up Time"),readonly:!0},model:{value:t.details.uptime,callback:function(e){t.$set(t.details,"uptime",e)},expression:"details.uptime"}})],1):t._e(),t.details.startTime?a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("Start Time"),readonly:!0},model:{value:t.details.startTime,callback:function(e){t.$set(t.details,"startTime",e)},expression:"details.startTime"}})],1):t._e(),t.details.startTime?a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("IP Address"),readonly:!0},model:{value:t.details.platform_ip,callback:function(e){t.$set(t.details,"platform_ip",e)},expression:"details.platform_ip"}})],1):t._e()],1),t.details.startTime?a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("Last Check Time"),readonly:!0},model:{value:t.details.lastCheckTime,callback:function(e){t.$set(t.details,"lastCheckTime",e)},expression:"details.lastCheckTime"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("Last Check Status"),readonly:!0},model:{value:t.details.lastCheckStatus,callback:function(e){t.$set(t.details,"lastCheckStatus",e)},expression:"details.lastCheckStatus"}})],1)],1):t._e(),t.details.startTime?a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("CPU Load"),readonly:!0},model:{value:t.details.currentLoad,callback:function(e){t.$set(t.details,"currentLoad",e)},expression:"details.currentLoad"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("Total Memory"),readonly:!0},model:{value:t.details.memTotal,callback:function(e){t.$set(t.details,"memTotal",e)},expression:"details.memTotal"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("Active Memory"),readonly:!0},model:{value:t.details.memActive,callback:function(e){t.$set(t.details,"memActive",e)},expression:"details.memActive"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("Available Memory"),readonly:!0},model:{value:t.details.memAvailable,callback:function(e){t.$set(t.details,"memAvailable",e)},expression:"details.memAvailable"}})],1)],1):t._e(),t.details.startTime?a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("Created Sessions"),readonly:!0},model:{value:t.details.created_sessions_cnt,callback:function(e){t.$set(t.details,"created_sessions_cnt",e)},expression:"details.created_sessions_cnt"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("Current Sessions"),readonly:!0},model:{value:t.rows.length,callback:function(e){t.$set(t.rows,"length",e)},expression:"rows.length"}})],1)],1):t._e()],1),t.rows.length>0?a("v-data-table",{staticClass:"ma-4 bg",attrs:{headers:t.headers,items:t.rows,"items-per-page":100,loading:t.loading},scopedSlots:t._u([{key:"item.actions",fn:function(e){var s=e.item;return[a("v-icon",{staticClass:"mx-2",attrs:{small:""},on:{click:function(e){return t.killSession(s,e)}}},[t._v(" mdi-stop ")])]}}],null,!1,1515370673)}):t._e(),a("v-snackbar",{attrs:{timeout:2e3},scopedSlots:t._u([{key:"action",fn:function(e){var s=e.attrs;return[a("v-btn",t._b({attrs:{color:"primary",text:""},on:{click:function(e){t.snackbarSave=!1}}},"v-btn",s,!1),[t._v(" "+t._s(t.$t("Close"))+" ")])]}}]),model:{value:t.snackbarSave,callback:function(e){t.snackbarSave=e},expression:"snackbarSave"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},l=[],i=(a("99af"),a("fb6a"),a("b680"),a("d3b7"),a("af52")),o=a("96f7"),r=a("c1df"),n=function(t){return"string"!==typeof t?"":t.charAt(0).toUpperCase()+t.slice(1)},c={name:"Group",data:function(){return{headers:[],rows:[],platID:"",search:"",totalItems:0,loading:!0,options:{},details:{},appData:i["a"],refreshTimeout:null,snackbarSave:!1,snackbarText:""}},methods:{printMem:function(t){if(isNaN(t))return"";var e=t/1024;if(e<1)return"".concat(t," bytes");var a=e/1024;if(a<1)return"".concat(e.toFixed(1)," kb");var s=a/1024;return s<1?"".concat(a.toFixed(1)," mb"):"".concat(s.toFixed(1)," gb")},killSession:function(t,e){var a=this;e.stopPropagation(),o["a"].post({url:"api/devices/".concat(encodeURIComponent(t.email),"/").concat(encodeURIComponent(t.imei)),data:{action:"endSession"}}).then((function(t){console.log(t.data),1==t.data.status?(console.log("Success"),a.snackbarText=a.$t("Session closed"),a.snackbarSave=!0,a.loadDetails()):(console.log("status: ".concat(t.data.status)),a.snackbarText=a.$t("Error"),a.snackbarSave=!0),a.refresh()})).catch((function(t){return console.log(t)})).finally((function(){return a.loading=!1}))},refresh:function(){var t=this;console.log("platID: ".concat(this.platID)),this.refreshTimeout&&(clearTimeout(this.refreshTimeout),this.refreshTimeout=null),o["a"].get({url:"api/platforms/"+encodeURIComponent(this.platID)}).then((function(e){console.log(e.data),1==e.data.status?(t.rows=e.data.sessions,t.details=e.data,t.details.params&&(t.details.params.startTime&&(t.details.uptime=r(t.details.params.startTime).fromNow(),t.details.startTime=r(t.details.params.startTime).format("LLL")),isNaN(t.details.params.currentLoad)?t.details.currentLoad="":t.details.currentLoad="".concat((1*t.details.params.currentLoad).toFixed(1),"%"),t.details.memTotal=t.printMem(t.details.params.memTotal),t.details.memAvailable=t.printMem(t.details.params.memAvailable),t.details.memActive=t.printMem(t.details.params.memActive),t.details.lastCheckTime=t.details.params.lastCheckTime?r(t.details.params.lastCheckTime).format("LLL"):"",t.details.lastCheckStatus=t.details.params.lastCheckStatus?t.details.params.lastCheckStatus.toUpperCase():""),t.details.platform_status=n(t.details.platform_status),t.refreshTimeout=setTimeout(t.refresh,2e3)):(console.log("status: ".concat(e.data.status)),t.$router.push("/Login"))})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},updatePageHead:function(){var t=[{text:this.$t("control-panel"),to:"/",disabled:!1},{text:this.$t("Platforms"),to:"/Platforms",disabled:!1},{text:this.platID,to:"/Platform/"+this.platID,disabled:!1}];this.$emit("updatePage",t)}},created:function(){this.platID=this.$route.params.platID,this.updatePageHead(),this.headers=[{text:this.$t("First Name"),value:"user.firstname"},{text:this.$t("Last Name"),value:"user.lastname"},{text:this.$t("Email"),value:"email"},{text:this.$t("Device ID"),value:"imei"},{text:this.$t("Device Name"),value:"devicename"},{text:"Actions",value:"actions",sortable:!1}],this.refresh()}},d=c,m=d,u=a("2877"),p=a("6544"),v=a.n(p),f=a("8336"),b=a("b0af"),h=a("99d9"),k=a("62ad"),x=a("a523"),T=a("8fea"),$=a("132d"),_=a("0fd9"),C=a("2db4"),g=a("8654"),S=Object(u["a"])(m,s,l,!1,null,null,null);e["default"]=S.exports;v()(S,{VBtn:f["a"],VCard:b["a"],VCardTitle:h["d"],VCol:k["a"],VContainer:x["a"],VDataTable:T["a"],VIcon:$["a"],VRow:_["a"],VSnackbar:C["a"],VTextField:g["a"]})}}]);
//# sourceMappingURL=chunk-2d0c1624.edb03ecf.js.map